var cs=Object.defineProperty;var ds=(i,e,t)=>e in i?cs(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var F=(i,e,t)=>(ds(i,typeof e!="symbol"?e+"":e,t),t);class hs{constructor(){this.lockCounter=0,this.className="is-lock",this.element=document.documentElement}lock(){this.lockCounter++,this.lockCounter===1&&this.element.classList.add(this.className)}unlock(){this.lockCounter>0&&(this.lockCounter--,this.lockCounter===0&&this.element.classList.remove(this.className))}reset(){this.lockCounter=0,this.element.classList.remove(this.className)}}const Ie=new hs;class ps{constructor(){F(this,"selectors",{root:"[data-js-overlay-menu]",dialog:"[data-js-overlay-menu-dialog]",burgerButton:"[data-js-overlay-menu-burger-button]"});F(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});F(this,"onBurgerButtonClick",()=>{const e=!this.dialogElement.open;this.burgerButtonElement.classList.toggle(this.stateClasses.isActive),this.dialogElement.open=!this.dialogElement.open,e?Ie.lock():Ie.unlock()});this.rootElement=document.querySelector(this.selectors.root),this.dialogElement=this.rootElement.querySelector(this.selectors.dialog),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.bindEvents()}bindEvents(){this.burgerButtonElement.addEventListener("click",this.onBurgerButtonClick)}}const qt=i=>i.substring(1,i.length-1),vi=(i,e)=>JSON.parse(i.getAttribute(qt(e)));function Zt(i){return i!==null&&typeof i=="object"&&"constructor"in i&&i.constructor===Object}function jt(i,e){i===void 0&&(i={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof i[t]>"u"?i[t]=e[t]:Zt(e[t])&&Zt(i[t])&&Object.keys(e[t]).length>0&&jt(i[t],e[t])})}const bi={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function de(){const i=typeof document<"u"?document:{};return jt(i,bi),i}const ms={document:bi,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(i){return typeof setTimeout>"u"?(i(),null):setTimeout(i,0)},cancelAnimationFrame(i){typeof setTimeout>"u"||clearTimeout(i)}};function re(){const i=typeof window<"u"?window:{};return jt(i,ms),i}function we(i){return i===void 0&&(i=""),i.trim().split(" ").filter(e=>!!e.trim())}function fs(i){const e=i;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function tt(i,e){return e===void 0&&(e=0),setTimeout(i,e)}function it(){return Date.now()}function gs(i){const e=re();let t;return e.getComputedStyle&&(t=e.getComputedStyle(i,null)),!t&&i.currentStyle&&(t=i.currentStyle),t||(t=i.style),t}function ys(i,e){e===void 0&&(e="x");const t=re();let s,n,r;const a=gs(i);return t.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(n==="none"?"":n)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=r.m41:s.length===16?n=parseFloat(s[12]):n=parseFloat(s[4])),e==="y"&&(t.WebKitCSSMatrix?n=r.m42:s.length===16?n=parseFloat(s[13]):n=parseFloat(s[5])),n||0}function We(i){return typeof i=="object"&&i!==null&&i.constructor&&Object.prototype.toString.call(i).slice(8,-1)==="Object"}function vs(i){return typeof window<"u"&&typeof window.HTMLElement<"u"?i instanceof HTMLElement:i&&(i.nodeType===1||i.nodeType===11)}function ae(){const i=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const s=t<0||arguments.length<=t?void 0:arguments[t];if(s!=null&&!vs(s)){const n=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,a=n.length;r<a;r+=1){const l=n[r],o=Object.getOwnPropertyDescriptor(s,l);o!==void 0&&o.enumerable&&(We(i[l])&&We(s[l])?s[l].__swiper__?i[l]=s[l]:ae(i[l],s[l]):!We(i[l])&&We(s[l])?(i[l]={},s[l].__swiper__?i[l]=s[l]:ae(i[l],s[l])):i[l]=s[l])}}}return i}function Ke(i,e,t){i.style.setProperty(e,t)}function wi(i){let{swiper:e,targetPosition:t,side:s}=i;const n=re(),r=-e.translate;let a=null,l;const o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=t>r?"next":"prev",d=(m,g)=>u==="next"&&m>=g||u==="prev"&&m<=g,p=()=>{l=new Date().getTime(),a===null&&(a=l);const m=Math.max(Math.min((l-a)/o,1),0),g=.5-Math.cos(m*Math.PI)/2;let y=r+g*(t-r);if(d(y,t)&&(y=t),e.wrapperEl.scrollTo({[s]:y}),d(y,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:y})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(p)};p()}function me(i,e){e===void 0&&(e="");const t=[...i.children];return i instanceof HTMLSlotElement&&t.push(...i.assignedElements()),e?t.filter(s=>s.matches(e)):t}function bs(i,e){const t=e.contains(i);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(i):t}function st(i){try{console.warn(i);return}catch{}}function Ve(i,e){e===void 0&&(e=[]);const t=document.createElement(i);return t.classList.add(...Array.isArray(e)?e:we(e)),t}function ws(i){const e=re(),t=de(),s=i.getBoundingClientRect(),n=t.body,r=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,l=i===e?e.scrollY:i.scrollTop,o=i===e?e.scrollX:i.scrollLeft;return{top:s.top+l-r,left:s.left+o-a}}function Es(i,e){const t=[];for(;i.previousElementSibling;){const s=i.previousElementSibling;e?s.matches(e)&&t.push(s):t.push(s),i=s}return t}function ks(i,e){const t=[];for(;i.nextElementSibling;){const s=i.nextElementSibling;e?s.matches(e)&&t.push(s):t.push(s),i=s}return t}function ke(i,e){return re().getComputedStyle(i,null).getPropertyValue(e)}function nt(i){let e=i,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Ei(i,e){const t=[];let s=i.parentElement;for(;s;)e?s.matches(e)&&t.push(s):t.push(s),s=s.parentElement;return t}function It(i,e,t){const s=re();return t?i[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(i,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):i.offsetWidth}function Z(i){return(Array.isArray(i)?i:[i]).filter(e=>!!e)}let vt;function Ss(){const i=re(),e=de();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in i||i.DocumentTouch&&e instanceof i.DocumentTouch)}}function ki(){return vt||(vt=Ss()),vt}let bt;function Ts(i){let{userAgent:e}=i===void 0?{}:i;const t=ki(),s=re(),n=s.navigator.platform,r=e||s.navigator.userAgent,a={ios:!1,android:!1},l=s.screen.width,o=s.screen.height,u=r.match(/(Android);?[\s\/]+([\d.]+)?/);let d=r.match(/(iPad).*OS\s([\d_]+)/);const p=r.match(/(iPod)(.*OS\s([\d_]+))?/),m=!d&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=n==="Win32";let y=n==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&y&&t.touch&&v.indexOf(`${l}x${o}`)>=0&&(d=r.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),y=!1),u&&!g&&(a.os="android",a.android=!0),(d||m||p)&&(a.os="ios",a.ios=!0),a}function Si(i){return i===void 0&&(i={}),bt||(bt=Ts(i)),bt}let wt;function Cs(){const i=re(),e=Si();let t=!1;function s(){const l=i.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(s()){const l=String(i.navigator.userAgent);if(l.includes("Version/")){const[o,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));t=o<16||o===16&&u<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent),r=s(),a=r||n&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:a,isWebView:n}}function xs(){return wt||(wt=Cs()),wt}function As(i){let{swiper:e,on:t,emit:s}=i;const n=re();let r=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},o=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(p=>{a=n.requestAnimationFrame(()=>{const{width:m,height:g}=e;let y=m,v=g;p.forEach(k=>{let{contentBoxSize:b,contentRect:h,target:f}=k;f&&f!==e.el||(y=h?h.width:(b[0]||b).inlineSize,v=h?h.height:(b[0]||b).blockSize)}),(y!==m||v!==g)&&l()})}),r.observe(e.el))},u=()=>{a&&n.cancelAnimationFrame(a),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},d=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){o();return}n.addEventListener("resize",l),n.addEventListener("orientationchange",d)}),t("destroy",()=>{u(),n.removeEventListener("resize",l),n.removeEventListener("orientationchange",d)})}function _s(i){let{swiper:e,extendParams:t,on:s,emit:n}=i;const r=[],a=re(),l=function(d,p){p===void 0&&(p={});const m=a.MutationObserver||a.WebkitMutationObserver,g=new m(y=>{if(e.__preventObserver__)return;if(y.length===1){n("observerUpdate",y[0]);return}const v=function(){n("observerUpdate",y[0])};a.requestAnimationFrame?a.requestAnimationFrame(v):a.setTimeout(v,0)});g.observe(d,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:e.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),r.push(g)},o=()=>{if(e.params.observer){if(e.params.observeParents){const d=Ei(e.hostEl);for(let p=0;p<d.length;p+=1)l(d[p])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{r.forEach(d=>{d.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",o),s("destroy",u)}var Ms={on(i,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const n=t?"unshift":"push";return i.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][n](e)}),s},once(i,e,t){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function n(){s.off(i,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];e.apply(s,a)}return n.__emitterProxy=e,s.on(i,n,t)},onAny(i,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof i!="function")return t;const s=e?"unshift":"push";return t.eventsAnyListeners.indexOf(i)<0&&t.eventsAnyListeners[s](i),t},offAny(i){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(i);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(i,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||i.split(" ").forEach(s=>{typeof e>"u"?t.eventsListeners[s]=[]:t.eventsListeners[s]&&t.eventsListeners[s].forEach((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[s].splice(r,1)})}),t},emit(){const i=this;if(!i.eventsListeners||i.destroyed||!i.eventsListeners)return i;let e,t,s;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),s=i):(e=r[0].events,t=r[0].data,s=r[0].context||i),t.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(o=>{i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(u=>{u.apply(s,[o,...t])}),i.eventsListeners&&i.eventsListeners[o]&&i.eventsListeners[o].forEach(u=>{u.apply(s,t)})}),i}};function Is(){const i=this;let e,t;const s=i.el;typeof i.params.width<"u"&&i.params.width!==null?e=i.params.width:e=s.clientWidth,typeof i.params.height<"u"&&i.params.height!==null?t=i.params.height:t=s.clientHeight,!(e===0&&i.isHorizontal()||t===0&&i.isVertical())&&(e=e-parseInt(ke(s,"padding-left")||0,10)-parseInt(ke(s,"padding-right")||0,10),t=t-parseInt(ke(s,"padding-top")||0,10)-parseInt(ke(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(i,{width:e,height:t,size:i.isHorizontal()?e:t}))}function Ls(){const i=this;function e(C,L){return parseFloat(C.getPropertyValue(i.getDirectionLabel(L))||0)}const t=i.params,{wrapperEl:s,slidesEl:n,size:r,rtlTranslate:a,wrongRTL:l}=i,o=i.virtual&&t.virtual.enabled,u=o?i.virtual.slides.length:i.slides.length,d=me(n,`.${i.params.slideClass}, swiper-slide`),p=o?i.virtual.slides.length:d.length;let m=[];const g=[],y=[];let v=t.slidesOffsetBefore;typeof v=="function"&&(v=t.slidesOffsetBefore.call(i));let k=t.slidesOffsetAfter;typeof k=="function"&&(k=t.slidesOffsetAfter.call(i));const b=i.snapGrid.length,h=i.slidesGrid.length;let f=t.spaceBetween,w=-v,E=0,M=0;if(typeof r>"u")return;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*r:typeof f=="string"&&(f=parseFloat(f)),i.virtualSize=-f,d.forEach(C=>{a?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Ke(s,"--swiper-centered-offset-before",""),Ke(s,"--swiper-centered-offset-after",""));const q=t.grid&&t.grid.rows>1&&i.grid;q?i.grid.initSlides(d):i.grid&&i.grid.unsetSlides();let N;const B=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(C=>typeof t.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<p;C+=1){N=0;let L;if(d[C]&&(L=d[C]),q&&i.grid.updateSlide(C,L,d),!(d[C]&&ke(L,"display")==="none")){if(t.slidesPerView==="auto"){B&&(d[C].style[i.getDirectionLabel("width")]="");const T=getComputedStyle(L),S=L.style.transform,x=L.style.webkitTransform;if(S&&(L.style.transform="none"),x&&(L.style.webkitTransform="none"),t.roundLengths)N=i.isHorizontal()?It(L,"width",!0):It(L,"height",!0);else{const I=e(T,"width"),R=e(T,"padding-left"),ne=e(T,"padding-right"),$=e(T,"margin-left"),G=e(T,"margin-right"),se=T.getPropertyValue("box-sizing");if(se&&se==="border-box")N=I+$+G;else{const{clientWidth:Ce,offsetWidth:Ue}=L;N=I+R+ne+$+G+(Ue-Ce)}}S&&(L.style.transform=S),x&&(L.style.webkitTransform=x),t.roundLengths&&(N=Math.floor(N))}else N=(r-(t.slidesPerView-1)*f)/t.slidesPerView,t.roundLengths&&(N=Math.floor(N)),d[C]&&(d[C].style[i.getDirectionLabel("width")]=`${N}px`);d[C]&&(d[C].swiperSlideSize=N),y.push(N),t.centeredSlides?(w=w+N/2+E/2+f,E===0&&C!==0&&(w=w-r/2-f),C===0&&(w=w-r/2-f),Math.abs(w)<1/1e3&&(w=0),t.roundLengths&&(w=Math.floor(w)),M%t.slidesPerGroup===0&&m.push(w),g.push(w)):(t.roundLengths&&(w=Math.floor(w)),(M-Math.min(i.params.slidesPerGroupSkip,M))%i.params.slidesPerGroup===0&&m.push(w),g.push(w),w=w+N+f),i.virtualSize+=N+f,E=N,M+=1}}if(i.virtualSize=Math.max(i.virtualSize,r)+k,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(s.style.width=`${i.virtualSize+f}px`),t.setWrapperSize&&(s.style[i.getDirectionLabel("width")]=`${i.virtualSize+f}px`),q&&i.grid.updateWrapperSize(N,m),!t.centeredSlides){const C=[];for(let L=0;L<m.length;L+=1){let T=m[L];t.roundLengths&&(T=Math.floor(T)),m[L]<=i.virtualSize-r&&C.push(T)}m=C,Math.floor(i.virtualSize-r)-Math.floor(m[m.length-1])>1&&m.push(i.virtualSize-r)}if(o&&t.loop){const C=y[0]+f;if(t.slidesPerGroup>1){const L=Math.ceil((i.virtual.slidesBefore+i.virtual.slidesAfter)/t.slidesPerGroup),T=C*t.slidesPerGroup;for(let S=0;S<L;S+=1)m.push(m[m.length-1]+T)}for(let L=0;L<i.virtual.slidesBefore+i.virtual.slidesAfter;L+=1)t.slidesPerGroup===1&&m.push(m[m.length-1]+C),g.push(g[g.length-1]+C),i.virtualSize+=C}if(m.length===0&&(m=[0]),f!==0){const C=i.isHorizontal()&&a?"marginLeft":i.getDirectionLabel("marginRight");d.filter((L,T)=>!t.cssMode||t.loop?!0:T!==d.length-1).forEach(L=>{L.style[C]=`${f}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let C=0;y.forEach(T=>{C+=T+(f||0)}),C-=f;const L=C>r?C-r:0;m=m.map(T=>T<=0?-v:T>L?L+k:T)}if(t.centerInsufficientSlides){let C=0;y.forEach(T=>{C+=T+(f||0)}),C-=f;const L=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(C+L<r){const T=(r-C-L)/2;m.forEach((S,x)=>{m[x]=S-T}),g.forEach((S,x)=>{g[x]=S+T})}}if(Object.assign(i,{slides:d,snapGrid:m,slidesGrid:g,slidesSizesGrid:y}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Ke(s,"--swiper-centered-offset-before",`${-m[0]}px`),Ke(s,"--swiper-centered-offset-after",`${i.size/2-y[y.length-1]/2}px`);const C=-i.snapGrid[0],L=-i.slidesGrid[0];i.snapGrid=i.snapGrid.map(T=>T+C),i.slidesGrid=i.slidesGrid.map(T=>T+L)}if(p!==u&&i.emit("slidesLengthChange"),m.length!==b&&(i.params.watchOverflow&&i.checkOverflow(),i.emit("snapGridLengthChange")),g.length!==h&&i.emit("slidesGridLengthChange"),t.watchSlidesProgress&&i.updateSlidesOffset(),i.emit("slidesUpdated"),!o&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const C=`${t.containerModifierClass}backface-hidden`,L=i.el.classList.contains(C);p<=t.maxBackfaceHiddenSlides?L||i.el.classList.add(C):L&&i.el.classList.remove(C)}}function Ps(i){const e=this,t=[],s=e.virtual&&e.params.virtual.enabled;let n=0,r;typeof i=="number"?e.setTransition(i):i===!0&&e.setTransition(e.params.speed);const a=l=>s?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const l=e.activeIndex+r;if(l>e.slides.length&&!s)break;t.push(a(l))}else t.push(a(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const l=t[r].offsetHeight;n=l>n?l:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function Fs(){const i=this,e=i.slides,t=i.isElement?i.isHorizontal()?i.wrapperEl.offsetLeft:i.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(i.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-t-i.cssOverflowAdjustment()}const Jt=(i,e,t)=>{e&&!i.classList.contains(t)?i.classList.add(t):!e&&i.classList.contains(t)&&i.classList.remove(t)};function Ds(i){i===void 0&&(i=this&&this.translate||0);const e=this,t=e.params,{slides:s,rtlTranslate:n,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-i;n&&(a=i),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let o=0;o<s.length;o+=1){const u=s[o];let d=u.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(d-=s[0].swiperSlideOffset);const p=(a+(t.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),m=(a-r[0]+(t.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),g=-(a-d),y=g+e.slidesSizesGrid[o],v=g>=0&&g<=e.size-e.slidesSizesGrid[o],k=g>=0&&g<e.size-1||y>1&&y<=e.size||g<=0&&y>=e.size;k&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(o)),Jt(u,k,t.slideVisibleClass),Jt(u,v,t.slideFullyVisibleClass),u.progress=n?-p:p,u.originalProgress=n?-m:m}}function Os(i){const e=this;if(typeof i>"u"){const d=e.rtlTranslate?-1:1;i=e&&e.translate&&e.translate*d||0}const t=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:r,isEnd:a,progressLoop:l}=e;const o=r,u=a;if(s===0)n=0,r=!0,a=!0;else{n=(i-e.minTranslate())/s;const d=Math.abs(i-e.minTranslate())<1,p=Math.abs(i-e.maxTranslate())<1;r=d||n<=0,a=p||n>=1,d&&(n=0),p&&(n=1)}if(t.loop){const d=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[d],g=e.slidesGrid[p],y=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(i);v>=m?l=(v-m)/y:l=(v+y-g)/y,l>1&&(l-=1)}Object.assign(e,{progress:n,progressLoop:l,isBeginning:r,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(i),r&&!o&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(o&&!r||u&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}const Et=(i,e,t)=>{e&&!i.classList.contains(t)?i.classList.add(t):!e&&i.classList.contains(t)&&i.classList.remove(t)};function Bs(){const i=this,{slides:e,params:t,slidesEl:s,activeIndex:n}=i,r=i.virtual&&t.virtual.enabled,a=i.grid&&t.grid&&t.grid.rows>1,l=p=>me(s,`.${t.slideClass}${p}, swiper-slide${p}`)[0];let o,u,d;if(r)if(t.loop){let p=n-i.virtual.slidesBefore;p<0&&(p=i.virtual.slides.length+p),p>=i.virtual.slides.length&&(p-=i.virtual.slides.length),o=l(`[data-swiper-slide-index="${p}"]`)}else o=l(`[data-swiper-slide-index="${n}"]`);else a?(o=e.filter(p=>p.column===n)[0],d=e.filter(p=>p.column===n+1)[0],u=e.filter(p=>p.column===n-1)[0]):o=e[n];o&&(a||(d=ks(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!d&&(d=e[0]),u=Es(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(p=>{Et(p,p===o,t.slideActiveClass),Et(p,p===d,t.slideNextClass),Et(p,p===u,t.slidePrevClass)}),i.emitSlidesClasses()}const Xe=(i,e)=>{if(!i||i.destroyed||!i.params)return;const t=()=>i.isElement?"swiper-slide":`.${i.params.slideClass}`,s=e.closest(t());if(s){let n=s.querySelector(`.${i.params.lazyPreloaderClass}`);!n&&i.isElement&&(s.shadowRoot?n=s.shadowRoot.querySelector(`.${i.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(n=s.shadowRoot.querySelector(`.${i.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},kt=(i,e)=>{if(!i.slides[e])return;const t=i.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Lt=i=>{if(!i||i.destroyed||!i.params)return;let e=i.params.lazyPreloadPrevNext;const t=i.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const s=i.params.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(i.params.slidesPerView),n=i.activeIndex;if(i.params.grid&&i.params.grid.rows>1){const a=n,l=[a-e];l.push(...Array.from({length:e}).map((o,u)=>a+s+u)),i.slides.forEach((o,u)=>{l.includes(o.column)&&kt(i,u)});return}const r=n+s-1;if(i.params.rewind||i.params.loop)for(let a=n-e;a<=r+e;a+=1){const l=(a%t+t)%t;(l<n||l>r)&&kt(i,l)}else for(let a=Math.max(n-e,0);a<=Math.min(r+e,t-1);a+=1)a!==n&&(a>r||a<n)&&kt(i,a)};function Vs(i){const{slidesGrid:e,params:t}=i,s=i.rtlTranslate?i.translate:-i.translate;let n;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?n=r:s>=e[r]&&s<e[r+1]&&(n=r+1):s>=e[r]&&(n=r);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function Rs(i){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:n,activeIndex:r,realIndex:a,snapIndex:l}=e;let o=i,u;const d=g=>{let y=g-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof o>"u"&&(o=Vs(e)),s.indexOf(t)>=0)u=s.indexOf(t);else{const g=Math.min(n.slidesPerGroupSkip,o);u=g+Math.floor((o-g)/n.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),o===r&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(o===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(o);return}const p=e.grid&&n.grid&&n.grid.rows>1;let m;if(e.virtual&&n.virtual.enabled&&n.loop)m=d(o);else if(p){const g=e.slides.filter(v=>v.column===o)[0];let y=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(g),0)),m=Math.floor(y/n.grid.rows)}else if(e.slides[o]){const g=e.slides[o].getAttribute("data-swiper-slide-index");g?m=parseInt(g,10):m=o}else m=o;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:m,previousIndex:r,activeIndex:o}),e.initialized&&Lt(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function Ns(i,e){const t=this,s=t.params;let n=i.closest(`.${s.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(i)&&[...e.slice(e.indexOf(i)+1,e.length)].forEach(l=>{!n&&l.matches&&l.matches(`.${s.slideClass}, swiper-slide`)&&(n=l)});let r=!1,a;if(n){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===n){r=!0,a=l;break}}if(n&&r)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}s.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var $s={updateSize:Is,updateSlides:Ls,updateAutoHeight:Ps,updateSlidesOffset:Fs,updateSlidesProgress:Ds,updateProgress:Os,updateSlidesClasses:Bs,updateActiveIndex:Rs,updateClickedSlide:Ns};function zs(i){i===void 0&&(i=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:s,translate:n,wrapperEl:r}=e;if(t.virtualTranslate)return s?-n:n;if(t.cssMode)return n;let a=ys(r,i);return a+=e.cssOverflowAdjustment(),s&&(a=-a),a||0}function qs(i,e){const t=this,{rtlTranslate:s,params:n,wrapperEl:r,progress:a}=t;let l=0,o=0;const u=0;t.isHorizontal()?l=s?-i:i:o=i,n.roundLengths&&(l=Math.floor(l),o=Math.floor(o)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:o,n.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-o:n.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():o-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${o}px, ${u}px)`);let d;const p=t.maxTranslate()-t.minTranslate();p===0?d=0:d=(i-t.minTranslate())/p,d!==a&&t.updateProgress(i),t.emit("setTranslate",t.translate,e)}function js(){return-this.snapGrid[0]}function Hs(){return-this.snapGrid[this.snapGrid.length-1]}function Gs(i,e,t,s,n){i===void 0&&(i=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),s===void 0&&(s=!0);const r=this,{params:a,wrapperEl:l}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const o=r.minTranslate(),u=r.maxTranslate();let d;if(s&&i>o?d=o:s&&i<u?d=u:d=i,r.updateProgress(d),a.cssMode){const p=r.isHorizontal();if(e===0)l[p?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return wi({swiper:r,targetPosition:-d,side:p?"left":"top"}),!0;l.scrollTo({[p?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(d),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(d),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(m){!r||r.destroyed||m.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Us={getTranslate:zs,setTranslate:qs,minTranslate:js,maxTranslate:Hs,translateTo:Gs};function Ws(i,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${i}ms`,t.wrapperEl.style.transitionDelay=i===0?"0ms":""),t.emit("setTransition",i,e)}function Ti(i){let{swiper:e,runCallbacks:t,direction:s,step:n}=i;const{activeIndex:r,previousIndex:a}=e;let l=s;if(l||(r>a?l="next":r<a?l="prev":l="reset"),e.emit(`transition${n}`),t&&r!==a){if(l==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),l==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function Ks(i,e){i===void 0&&(i=!0);const t=this,{params:s}=t;s.cssMode||(s.autoHeight&&t.updateAutoHeight(),Ti({swiper:t,runCallbacks:i,direction:e,step:"Start"}))}function Ys(i,e){i===void 0&&(i=!0);const t=this,{params:s}=t;t.animating=!1,!s.cssMode&&(t.setTransition(0),Ti({swiper:t,runCallbacks:i,direction:e,step:"End"}))}var Xs={setTransition:Ws,transitionStart:Ks,transitionEnd:Ys};function Zs(i,e,t,s,n){i===void 0&&(i=0),t===void 0&&(t=!0),typeof i=="string"&&(i=parseInt(i,10));const r=this;let a=i;a<0&&(a=0);const{params:l,snapGrid:o,slidesGrid:u,previousIndex:d,activeIndex:p,rtlTranslate:m,wrapperEl:g,enabled:y}=r;if(!y&&!s&&!n||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const v=Math.min(r.params.slidesPerGroupSkip,a);let k=v+Math.floor((a-v)/r.params.slidesPerGroup);k>=o.length&&(k=o.length-1);const b=-o[k];if(l.normalizeSlideIndex)for(let E=0;E<u.length;E+=1){const M=-Math.floor(b*100),q=Math.floor(u[E]*100),N=Math.floor(u[E+1]*100);typeof u[E+1]<"u"?M>=q&&M<N-(N-q)/2?a=E:M>=q&&M<N&&(a=E+1):M>=q&&(a=E)}if(r.initialized&&a!==p&&(!r.allowSlideNext&&(m?b>r.translate&&b>r.minTranslate():b<r.translate&&b<r.minTranslate())||!r.allowSlidePrev&&b>r.translate&&b>r.maxTranslate()&&(p||0)!==a))return!1;a!==(d||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(b);let h;a>p?h="next":a<p?h="prev":h="reset";const f=r.virtual&&r.params.virtual.enabled;if(!(f&&n)&&(m&&-b===r.translate||!m&&b===r.translate))return r.updateActiveIndex(a),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(b),h!=="reset"&&(r.transitionStart(t,h),r.transitionEnd(t,h)),!1;if(l.cssMode){const E=r.isHorizontal(),M=m?b:-b;if(e===0)f&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),f&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[E?"scrollLeft":"scrollTop"]=M})):g[E?"scrollLeft":"scrollTop"]=M,f&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return wi({swiper:r,targetPosition:M,side:E?"left":"top"}),!0;g.scrollTo({[E?"left":"top"]:M,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(b),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(t,h),e===0?r.transitionEnd(t,h):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(M){!r||r.destroyed||M.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,h))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function Js(i,e,t,s){i===void 0&&(i=0),t===void 0&&(t=!0),typeof i=="string"&&(i=parseInt(i,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const r=n.grid&&n.params.grid&&n.params.grid.rows>1;let a=i;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)a=a+n.virtual.slidesBefore;else{let l;if(r){const m=a*n.params.grid.rows;l=n.slides.filter(g=>g.getAttribute("data-swiper-slide-index")*1===m)[0].column}else l=n.getSlideIndexByData(a);const o=r?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:u}=n.params;let d=n.params.slidesPerView;d==="auto"?d=n.slidesPerViewDynamic():(d=Math.ceil(parseFloat(n.params.slidesPerView,10)),u&&d%2===0&&(d=d+1));let p=o-l<d;if(u&&(p=p||l<Math.ceil(d/2)),s&&u&&n.params.slidesPerView!=="auto"&&!r&&(p=!1),p){const m=u?l<n.activeIndex?"prev":"next":l-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-o+1,slideRealIndex:m==="next"?n.realIndex:void 0})}if(r){const m=a*n.params.grid.rows;a=n.slides.filter(g=>g.getAttribute("data-swiper-slide-index")*1===m)[0].column}else a=n.getSlideIndexByData(a)}return requestAnimationFrame(()=>{n.slideTo(a,e,t,s)}),n}function Qs(i,e,t){e===void 0&&(e=!0);const s=this,{enabled:n,params:r,animating:a}=s;if(!n||s.destroyed)return s;typeof i>"u"&&(i=s.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(s.slidesPerViewDynamic("current",!0),1));const o=s.activeIndex<r.slidesPerGroupSkip?1:l,u=s.virtual&&r.virtual.enabled;if(r.loop){if(a&&!u&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+o,i,e,t)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,i,e,t):s.slideTo(s.activeIndex+o,i,e,t)}function en(i,e,t){e===void 0&&(e=!0);const s=this,{params:n,snapGrid:r,slidesGrid:a,rtlTranslate:l,enabled:o,animating:u}=s;if(!o||s.destroyed)return s;typeof i>"u"&&(i=s.params.speed);const d=s.virtual&&n.virtual.enabled;if(n.loop){if(u&&!d&&n.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const p=l?s.translate:-s.translate;function m(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const g=m(p),y=r.map(b=>m(b));let v=r[y.indexOf(g)-1];if(typeof v>"u"&&n.cssMode){let b;r.forEach((h,f)=>{g>=h&&(b=f)}),typeof b<"u"&&(v=r[b>0?b-1:b])}let k=0;if(typeof v<"u"&&(k=a.indexOf(v),k<0&&(k=s.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(k=k-s.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),n.rewind&&s.isBeginning){const b=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(b,i,e,t)}else if(n.loop&&s.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{s.slideTo(k,i,e,t)}),!0;return s.slideTo(k,i,e,t)}function tn(i,e,t){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof i>"u"&&(i=s.params.speed),s.slideTo(s.activeIndex,i,e,t)}function sn(i,e,t,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const n=this;if(n.destroyed)return;typeof i>"u"&&(i=n.params.speed);let r=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,r),l=a+Math.floor((r-a)/n.params.slidesPerGroup),o=n.rtlTranslate?n.translate:-n.translate;if(o>=n.snapGrid[l]){const u=n.snapGrid[l],d=n.snapGrid[l+1];o-u>(d-u)*s&&(r+=n.params.slidesPerGroup)}else{const u=n.snapGrid[l-1],d=n.snapGrid[l];o-u<=(d-u)*s&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,i,e,t)}function nn(){const i=this;if(i.destroyed)return;const{params:e,slidesEl:t}=i,s=e.slidesPerView==="auto"?i.slidesPerViewDynamic():e.slidesPerView;let n=i.clickedIndex,r;const a=i.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(i.animating)return;r=parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<i.loopedSlides-s/2||n>i.slides.length-i.loopedSlides+s/2?(i.loopFix(),n=i.getSlideIndex(me(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),tt(()=>{i.slideTo(n)})):i.slideTo(n):n>i.slides.length-s?(i.loopFix(),n=i.getSlideIndex(me(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),tt(()=>{i.slideTo(n)})):i.slideTo(n)}else i.slideTo(n)}var rn={slideTo:Zs,slideToLoop:Js,slideNext:Qs,slidePrev:en,slideReset:tn,slideToClosest:sn,slideToClickedSlide:nn};function an(i){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const n=()=>{me(s,`.${t.slideClass}, swiper-slide`).forEach((p,m)=>{p.setAttribute("data-swiper-slide-index",m)})},r=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(r?t.grid.rows:1),l=e.slides.length%a!==0,o=r&&e.slides.length%t.grid.rows!==0,u=d=>{for(let p=0;p<d;p+=1){const m=e.isElement?Ve("swiper-slide",[t.slideBlankClass]):Ve("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(m)}};if(l){if(t.loopAddBlankSlides){const d=a-e.slides.length%a;u(d),e.recalcSlides(),e.updateSlides()}else st("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(o){if(t.loopAddBlankSlides){const d=t.grid.rows-e.slides.length%t.grid.rows;u(d),e.recalcSlides(),e.updateSlides()}else st("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();e.loopFix({slideRealIndex:i,direction:t.centeredSlides?void 0:"next"})}function ln(i){let{slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:n,activeSlideIndex:r,byController:a,byMousewheel:l}=i===void 0?{}:i;const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:p,slidesEl:m,params:g}=o,{centeredSlides:y}=g;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&g.virtual.enabled){t&&(!g.centeredSlides&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):g.centeredSlides&&o.snapIndex<g.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=d,o.allowSlideNext=p,o.emit("loopFix");return}let v=g.slidesPerView;v==="auto"?v=o.slidesPerViewDynamic():(v=Math.ceil(parseFloat(g.slidesPerView,10)),y&&v%2===0&&(v=v+1));const k=g.slidesPerGroupAuto?v:g.slidesPerGroup;let b=k;b%k!==0&&(b+=k-b%k),b+=g.loopAdditionalSlides,o.loopedSlides=b;const h=o.grid&&g.grid&&g.grid.rows>1;u.length<v+b?st("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):h&&g.grid.fill==="row"&&st("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const f=[],w=[];let E=o.activeIndex;typeof r>"u"?r=o.getSlideIndex(u.filter(S=>S.classList.contains(g.slideActiveClass))[0]):E=r;const M=s==="next"||!s,q=s==="prev"||!s;let N=0,B=0;const C=h?Math.ceil(u.length/g.grid.rows):u.length,T=(h?u[r].column:r)+(y&&typeof n>"u"?-v/2+.5:0);if(T<b){N=Math.max(b-T,k);for(let S=0;S<b-T;S+=1){const x=S-Math.floor(S/C)*C;if(h){const I=C-x-1;for(let R=u.length-1;R>=0;R-=1)u[R].column===I&&f.push(R)}else f.push(C-x-1)}}else if(T+v>C-b){B=Math.max(T-(C-b*2),k);for(let S=0;S<B;S+=1){const x=S-Math.floor(S/C)*C;h?u.forEach((I,R)=>{I.column===x&&w.push(R)}):w.push(x)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),q&&f.forEach(S=>{u[S].swiperLoopMoveDOM=!0,m.prepend(u[S]),u[S].swiperLoopMoveDOM=!1}),M&&w.forEach(S=>{u[S].swiperLoopMoveDOM=!0,m.append(u[S]),u[S].swiperLoopMoveDOM=!1}),o.recalcSlides(),g.slidesPerView==="auto"?o.updateSlides():h&&(f.length>0&&q||w.length>0&&M)&&o.slides.forEach((S,x)=>{o.grid.updateSlide(x,S,o.slides)}),g.watchSlidesProgress&&o.updateSlidesOffset(),t){if(f.length>0&&q){if(typeof e>"u"){const S=o.slidesGrid[E],I=o.slidesGrid[E+N]-S;l?o.setTranslate(o.translate-I):(o.slideTo(E+Math.ceil(N),0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else if(n){const S=h?f.length/g.grid.rows:f.length;o.slideTo(o.activeIndex+S,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(w.length>0&&M)if(typeof e>"u"){const S=o.slidesGrid[E],I=o.slidesGrid[E-B]-S;l?o.setTranslate(o.translate-I):(o.slideTo(E-B,0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else{const S=h?w.length/g.grid.rows:w.length;o.slideTo(o.activeIndex-S,0,!1,!0)}}if(o.allowSlidePrev=d,o.allowSlideNext=p,o.controller&&o.controller.control&&!a){const S={slideRealIndex:e,direction:s,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(x=>{!x.destroyed&&x.params.loop&&x.loopFix({...S,slideTo:x.params.slidesPerView===g.slidesPerView?t:!1})}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...S,slideTo:o.controller.control.params.slidesPerView===g.slidesPerView?t:!1})}o.emit("loopFix")}function on(){const i=this,{params:e,slidesEl:t}=i;if(!e.loop||i.virtual&&i.params.virtual.enabled)return;i.recalcSlides();const s=[];i.slides.forEach(n=>{const r=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;s[r]=n}),i.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),s.forEach(n=>{t.append(n)}),i.recalcSlides(),i.slideTo(i.realIndex,0)}var un={loopCreate:an,loopFix:ln,loopDestroy:on};function cn(i){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=i?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function dn(){const i=this;i.params.watchOverflow&&i.isLocked||i.params.cssMode||(i.isElement&&(i.__preventObserver__=!0),i[i.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",i.isElement&&requestAnimationFrame(()=>{i.__preventObserver__=!1}))}var hn={setGrabCursor:cn,unsetGrabCursor:dn};function pn(i,e){e===void 0&&(e=this);function t(s){if(!s||s===de()||s===re())return null;s.assignedSlot&&(s=s.assignedSlot);const n=s.closest(i);return!n&&!s.getRootNode?null:n||t(s.getRootNode().host)}return t(e)}function Qt(i,e,t){const s=re(),{params:n}=i,r=n.edgeSwipeDetection,a=n.edgeSwipeThreshold;return r&&(t<=a||t>=s.innerWidth-a)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function mn(i){const e=this,t=de();let s=i;s.originalEvent&&(s=s.originalEvent);const n=e.touchEventsData;if(s.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==s.pointerId)return;n.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(n.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){Qt(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:a,enabled:l}=e;if(!l||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let o=s.target;if(r.touchEventsTarget==="wrapper"&&!bs(o,e.wrapperEl)||"which"in s&&s.which===3||"button"in s&&s.button>0||n.isTouched&&n.isMoved)return;const u=!!r.noSwipingClass&&r.noSwipingClass!=="",d=s.composedPath?s.composedPath():s.path;u&&s.target&&s.target.shadowRoot&&d&&(o=d[0]);const p=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,m=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(m?pn(p,o):o.closest(p))){e.allowClick=!0;return}if(r.swipeHandler&&!o.closest(r.swipeHandler))return;a.currentX=s.pageX,a.currentY=s.pageY;const g=a.currentX,y=a.currentY;if(!Qt(e,s,g))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=y,n.touchStartTime=it(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let v=!0;o.matches(n.focusableElements)&&(v=!1,o.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==o&&(s.pointerType==="mouse"||s.pointerType!=="mouse"&&!o.matches(n.focusableElements))&&t.activeElement.blur();const k=v&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||k)&&!o.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function fn(i){const e=de(),t=this,s=t.touchEventsData,{params:n,touches:r,rtlTranslate:a,enabled:l}=t;if(!l||!n.simulateTouch&&i.pointerType==="mouse")return;let o=i;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(s.touchId!==null||o.pointerId!==s.pointerId))return;let u;if(o.type==="touchmove"){if(u=[...o.changedTouches].filter(M=>M.identifier===s.touchId)[0],!u||u.identifier!==s.touchId)return}else u=o;if(!s.isTouched){s.startMoving&&s.isScrolling&&t.emit("touchMoveOpposite",o);return}const d=u.pageX,p=u.pageY;if(o.preventedByNestedSwiper){r.startX=d,r.startY=p;return}if(!t.allowTouchMove){o.target.matches(s.focusableElements)||(t.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:d,startY:p,currentX:d,currentY:p}),s.touchStartTime=it());return}if(n.touchReleaseOnEdges&&!n.loop){if(t.isVertical()){if(p<r.startY&&t.translate<=t.maxTranslate()||p>r.startY&&t.translate>=t.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(d<r.startX&&t.translate<=t.maxTranslate()||d>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==o.target&&o.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&o.target===e.activeElement&&o.target.matches(s.focusableElements)){s.isMoved=!0,t.allowClick=!1;return}s.allowTouchCallbacks&&t.emit("touchMove",o),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=p;const m=r.currentX-r.startX,g=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(m**2+g**2)<t.params.threshold)return;if(typeof s.isScrolling>"u"){let M;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:m*m+g*g>=25&&(M=Math.atan2(Math.abs(g),Math.abs(m))*180/Math.PI,s.isScrolling=t.isHorizontal()?M>n.touchAngle:90-M>n.touchAngle)}if(s.isScrolling&&t.emit("touchMoveOpposite",o),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||o.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;t.allowClick=!1,!n.cssMode&&o.cancelable&&o.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&o.stopPropagation();let y=t.isHorizontal()?m:g,v=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;n.oneWayMovement&&(y=Math.abs(y)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),r.diff=y,y*=n.touchRatio,a&&(y=-y,v=-v);const k=t.touchesDirection;t.swipeDirection=y>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";const b=t.params.loop&&!n.cssMode,h=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!s.isMoved){if(b&&h&&t.loopFix({direction:t.swipeDirection}),s.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(M)}s.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",o)}let f;if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&k!==t.touchesDirection&&b&&h&&Math.abs(y)>=1){Object.assign(r,{startX:d,startY:p,currentX:d,currentY:p,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}t.emit("sliderMove",o),s.isMoved=!0,s.currentTranslate=y+s.startTranslate;let w=!0,E=n.resistanceRatio;if(n.touchReleaseOnEdges&&(E=0),y>0?(b&&h&&!f&&s.allowThresholdMove&&s.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>t.minTranslate()&&(w=!1,n.resistance&&(s.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+s.startTranslate+y)**E))):y<0&&(b&&h&&!f&&s.allowThresholdMove&&s.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),s.currentTranslate<t.maxTranslate()&&(w=!1,n.resistance&&(s.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-s.startTranslate-y)**E))),w&&(o.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(s.currentTranslate=s.startTranslate),n.threshold>0)if(Math.abs(y)>n.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(s.currentTranslate),t.setTranslate(s.currentTranslate))}function gn(i){const e=this,t=e.touchEventsData;let s=i;s.originalEvent&&(s=s.originalEvent);let n;if(s.type==="touchend"||s.type==="touchcancel"){if(n=[...s.changedTouches].filter(E=>E.identifier===t.touchId)[0],!n||n.identifier!==t.touchId)return}else{if(t.touchId!==null||s.pointerId!==t.pointerId)return;n=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:o,slidesGrid:u,enabled:d}=e;if(!d||!a.simulateTouch&&s.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",s),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=it(),m=p-t.touchStartTime;if(e.allowClick){const E=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(E&&E[0]||s.target,E),e.emit("tap click",s),m<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(t.lastClickTime=it(),tt(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let g;if(a.followFinger?g=o?e.translate:-e.translate:g=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const y=g>=-e.maxTranslate()&&!e.params.loop;let v=0,k=e.slidesSizesGrid[0];for(let E=0;E<u.length;E+=E<a.slidesPerGroupSkip?1:a.slidesPerGroup){const M=E<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[E+M]<"u"?(y||g>=u[E]&&g<u[E+M])&&(v=E,k=u[E+M]-u[E]):(y||g>=u[E])&&(v=E,k=u[u.length-1]-u[u.length-2])}let b=null,h=null;a.rewind&&(e.isBeginning?h=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const f=(g-u[v])/k,w=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(m>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(f>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?b:v+w):e.slideTo(v)),e.swipeDirection==="prev"&&(f>1-a.longSwipesRatio?e.slideTo(v+w):h!==null&&f<0&&Math.abs(f)>a.longSwipesRatio?e.slideTo(h):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(v+w):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:v+w),e.swipeDirection==="prev"&&e.slideTo(h!==null?h:v))}}function ei(){const i=this,{params:e,el:t}=i;if(t&&t.offsetWidth===0)return;e.breakpoints&&i.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:n,snapGrid:r}=i,a=i.virtual&&i.params.virtual.enabled;i.allowSlideNext=!0,i.allowSlidePrev=!0,i.updateSize(),i.updateSlides(),i.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&i.isEnd&&!i.isBeginning&&!i.params.centeredSlides&&!l?i.slideTo(i.slides.length-1,0,!1,!0):i.params.loop&&!a?i.slideToLoop(i.realIndex,0,!1,!0):i.slideTo(i.activeIndex,0,!1,!0),i.autoplay&&i.autoplay.running&&i.autoplay.paused&&(clearTimeout(i.autoplay.resizeTimeout),i.autoplay.resizeTimeout=setTimeout(()=>{i.autoplay&&i.autoplay.running&&i.autoplay.paused&&i.autoplay.resume()},500)),i.allowSlidePrev=n,i.allowSlideNext=s,i.params.watchOverflow&&r!==i.snapGrid&&i.checkOverflow()}function yn(i){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&i.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(i.stopPropagation(),i.stopImmediatePropagation())))}function vn(){const i=this,{wrapperEl:e,rtlTranslate:t,enabled:s}=i;if(!s)return;i.previousTranslate=i.translate,i.isHorizontal()?i.translate=-e.scrollLeft:i.translate=-e.scrollTop,i.translate===0&&(i.translate=0),i.updateActiveIndex(),i.updateSlidesClasses();let n;const r=i.maxTranslate()-i.minTranslate();r===0?n=0:n=(i.translate-i.minTranslate())/r,n!==i.progress&&i.updateProgress(t?-i.translate:i.translate),i.emit("setTranslate",i.translate,!1)}function bn(i){const e=this;Xe(e,i.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function wn(){const i=this;i.documentTouchHandlerProceeded||(i.documentTouchHandlerProceeded=!0,i.params.touchReleaseOnEdges&&(i.el.style.touchAction="auto"))}const Ci=(i,e)=>{const t=de(),{params:s,el:n,wrapperEl:r,device:a}=i,l=!!s.nested,o=e==="on"?"addEventListener":"removeEventListener",u=e;!n||typeof n=="string"||(t[o]("touchstart",i.onDocumentTouchStart,{passive:!1,capture:l}),n[o]("touchstart",i.onTouchStart,{passive:!1}),n[o]("pointerdown",i.onTouchStart,{passive:!1}),t[o]("touchmove",i.onTouchMove,{passive:!1,capture:l}),t[o]("pointermove",i.onTouchMove,{passive:!1,capture:l}),t[o]("touchend",i.onTouchEnd,{passive:!0}),t[o]("pointerup",i.onTouchEnd,{passive:!0}),t[o]("pointercancel",i.onTouchEnd,{passive:!0}),t[o]("touchcancel",i.onTouchEnd,{passive:!0}),t[o]("pointerout",i.onTouchEnd,{passive:!0}),t[o]("pointerleave",i.onTouchEnd,{passive:!0}),t[o]("contextmenu",i.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&n[o]("click",i.onClick,!0),s.cssMode&&r[o]("scroll",i.onScroll),s.updateOnWindowResize?i[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",ei,!0):i[u]("observerUpdate",ei,!0),n[o]("load",i.onLoad,{capture:!0}))};function En(){const i=this,{params:e}=i;i.onTouchStart=mn.bind(i),i.onTouchMove=fn.bind(i),i.onTouchEnd=gn.bind(i),i.onDocumentTouchStart=wn.bind(i),e.cssMode&&(i.onScroll=vn.bind(i)),i.onClick=yn.bind(i),i.onLoad=bn.bind(i),Ci(i,"on")}function kn(){Ci(this,"off")}var Sn={attachEvents:En,detachEvents:kn};const ti=(i,e)=>i.grid&&e.grid&&e.grid.rows>1;function Tn(){const i=this,{realIndex:e,initialized:t,params:s,el:n}=i,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const a=i.getBreakpoint(r,i.params.breakpointsBase,i.el);if(!a||i.currentBreakpoint===a)return;const o=(a in r?r[a]:void 0)||i.originalParams,u=ti(i,s),d=ti(i,o),p=i.params.grabCursor,m=o.grabCursor,g=s.enabled;u&&!d?(n.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),i.emitContainerClasses()):!u&&d&&(n.classList.add(`${s.containerModifierClass}grid`),(o.grid.fill&&o.grid.fill==="column"||!o.grid.fill&&s.grid.fill==="column")&&n.classList.add(`${s.containerModifierClass}grid-column`),i.emitContainerClasses()),p&&!m?i.unsetGrabCursor():!p&&m&&i.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(f=>{if(typeof o[f]>"u")return;const w=s[f]&&s[f].enabled,E=o[f]&&o[f].enabled;w&&!E&&i[f].disable(),!w&&E&&i[f].enable()});const y=o.direction&&o.direction!==s.direction,v=s.loop&&(o.slidesPerView!==s.slidesPerView||y),k=s.loop;y&&t&&i.changeDirection(),ae(i.params,o);const b=i.params.enabled,h=i.params.loop;Object.assign(i,{allowTouchMove:i.params.allowTouchMove,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev}),g&&!b?i.disable():!g&&b&&i.enable(),i.currentBreakpoint=a,i.emit("_beforeBreakpoint",o),t&&(v?(i.loopDestroy(),i.loopCreate(e),i.updateSlides()):!k&&h?(i.loopCreate(e),i.updateSlides()):k&&!h&&i.loopDestroy()),i.emit("breakpoint",o)}function Cn(i,e,t){if(e===void 0&&(e="window"),!i||e==="container"&&!t)return;let s=!1;const n=re(),r=e==="window"?n.innerHeight:t.clientHeight,a=Object.keys(i).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const o=parseFloat(l.substr(1));return{value:r*o,point:l}}return{value:l,point:l}});a.sort((l,o)=>parseInt(l.value,10)-parseInt(o.value,10));for(let l=0;l<a.length;l+=1){const{point:o,value:u}=a[l];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(s=o):u<=t.clientWidth&&(s=o)}return s||"max"}var xn={setBreakpoint:Tn,getBreakpoint:Cn};function An(i,e){const t=[];return i.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(n=>{s[n]&&t.push(e+n)}):typeof s=="string"&&t.push(e+s)}),t}function _n(){const i=this,{classNames:e,params:t,rtl:s,el:n,device:r}=i,a=An(["initialized",t.direction,{"free-mode":i.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),n.classList.add(...e),i.emitContainerClasses()}function Mn(){const i=this,{el:e,classNames:t}=i;!e||typeof e=="string"||(e.classList.remove(...t),i.emitContainerClasses())}var In={addClasses:_n,removeClasses:Mn};function Ln(){const i=this,{isLocked:e,params:t}=i,{slidesOffsetBefore:s}=t;if(s){const n=i.slides.length-1,r=i.slidesGrid[n]+i.slidesSizesGrid[n]+s*2;i.isLocked=i.size>r}else i.isLocked=i.snapGrid.length===1;t.allowSlideNext===!0&&(i.allowSlideNext=!i.isLocked),t.allowSlidePrev===!0&&(i.allowSlidePrev=!i.isLocked),e&&e!==i.isLocked&&(i.isEnd=!1),e!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}var Pn={checkOverflow:Ln},ii={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Fn(i,e){return function(s){s===void 0&&(s={});const n=Object.keys(s)[0],r=s[n];if(typeof r!="object"||r===null){ae(e,s);return}if(i[n]===!0&&(i[n]={enabled:!0}),n==="navigation"&&i[n]&&i[n].enabled&&!i[n].prevEl&&!i[n].nextEl&&(i[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&i[n]&&i[n].enabled&&!i[n].el&&(i[n].auto=!0),!(n in i&&"enabled"in r)){ae(e,s);return}typeof i[n]=="object"&&!("enabled"in i[n])&&(i[n].enabled=!0),i[n]||(i[n]={enabled:!1}),ae(e,s)}}const St={eventsEmitter:Ms,update:$s,translate:Us,transition:Xs,slide:rn,loop:un,grabCursor:hn,events:Sn,breakpoints:xn,checkOverflow:Pn,classes:In},Tt={};class ue{constructor(){let e,t;for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?t=n[0]:[e,t]=n,t||(t={}),t=ae({},t),e&&!t.el&&(t.el=e);const a=de();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const d=[];return a.querySelectorAll(t.el).forEach(p=>{const m=ae({},t,{el:p});d.push(new ue(m))}),d}const l=this;l.__swiper__=!0,l.support=ki(),l.device=Si({userAgent:t.userAgent}),l.browser=xs(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const o={};l.modules.forEach(d=>{d({params:t,swiper:l,extendParams:Fn(t,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=ae({},ii,o);return l.params=ae({},u,Tt,t),l.originalParams=ae({},l.params),l.passedParams=ae({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(d=>{l.on(d,l.params.on[d])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,n=me(t,`.${s.slideClass}, swiper-slide`),r=nt(n[0]);return nt(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:s}=e;e.slides=me(t,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const n=s.minTranslate(),a=(s.maxTranslate()-n)*e+n;s.translateTo(a,typeof t>"u"?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const n=e.getSlideClasses(s);t.push({slideEl:s,classNames:n}),e.emit("_slideClass",s,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const s=this,{params:n,slides:r,slidesGrid:a,slidesSizesGrid:l,size:o,activeIndex:u}=s;let d=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let p=r[u]?Math.ceil(r[u].swiperSlideSize):0,m;for(let g=u+1;g<r.length;g+=1)r[g]&&!m&&(p+=Math.ceil(r[g].swiperSlideSize),d+=1,p>o&&(m=!0));for(let g=u-1;g>=0;g-=1)r[g]&&!m&&(p+=r[g].swiperSlideSize,d+=1,p>o&&(m=!0))}else if(e==="current")for(let p=u+1;p<r.length;p+=1)(t?a[p]+l[p]-a[u]<o:a[p]-a[u]<o)&&(d+=1);else for(let p=u-1;p>=0;p-=1)a[u]-a[p]<o&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Xe(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)n(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const a=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(a.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||n()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const s=this,n=s.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${n}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(n()):me(s,n())[0])();return!a&&t.params.createElements&&(a=Ve("div",t.params.wrapperClass),s.append(a),me(s,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:s,wrapperEl:a,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:a,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||ke(s,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||ke(s,"direction")==="rtl"),wrongRTL:ke(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(r=>{r.complete?Xe(t,r):r.addEventListener("load",a=>{Xe(t,a.target)})}),Lt(t),t.initialized=!0,Lt(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const s=this,{params:n,el:r,wrapperEl:a,slides:l}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),n.loop&&s.loopDestroy(),t&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(o=>{o.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(o=>{s.off(o)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),fs(s)),s.destroyed=!0),null}static extendDefaults(e){ae(Tt,e)}static get extendedDefaults(){return Tt}static get defaults(){return ii}static installModule(e){ue.prototype.__modules__||(ue.prototype.__modules__=[]);const t=ue.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ue.installModule(t)),ue):(ue.installModule(e),ue)}}Object.keys(St).forEach(i=>{Object.keys(St[i]).forEach(e=>{ue.prototype[e]=St[i][e]})});ue.use([As,_s]);function Ht(i,e,t,s){return i.params.createElements&&Object.keys(s).forEach(n=>{if(!t[n]&&t.auto===!0){let r=me(i.el,`.${s[n]}`)[0];r||(r=Ve("div",s[n]),r.className=s[n],i.el.append(r)),t[n]=r,e[n]=r}}),t}function Dn(i){let{swiper:e,extendParams:t,on:s,emit:n}=i;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(y){let v;return y&&typeof y=="string"&&e.isElement&&(v=e.el.querySelector(y)||e.hostEl.querySelector(y),v)?v:(y&&(typeof y=="string"&&(v=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&v&&v.length>1&&e.el.querySelectorAll(y).length===1?v=e.el.querySelector(y):v&&v.length===1&&(v=v[0])),y&&!v?y:v)}function a(y,v){const k=e.params.navigation;y=Z(y),y.forEach(b=>{b&&(b.classList[v?"add":"remove"](...k.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=v),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](k.lockClass))})}function l(){const{nextEl:y,prevEl:v}=e.navigation;if(e.params.loop){a(v,!1),a(y,!1);return}a(v,e.isBeginning&&!e.params.rewind),a(y,e.isEnd&&!e.params.rewind)}function o(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function u(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function d(){const y=e.params.navigation;if(e.params.navigation=Ht(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let v=r(y.nextEl),k=r(y.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:k}),v=Z(v),k=Z(k);const b=(h,f)=>{h&&h.addEventListener("click",f==="next"?u:o),!e.enabled&&h&&h.classList.add(...y.lockClass.split(" "))};v.forEach(h=>b(h,"next")),k.forEach(h=>b(h,"prev"))}function p(){let{nextEl:y,prevEl:v}=e.navigation;y=Z(y),v=Z(v);const k=(b,h)=>{b.removeEventListener("click",h==="next"?u:o),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(b=>k(b,"next")),v.forEach(b=>k(b,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?g():(d(),l())}),s("toEdge fromEdge lock unlock",()=>{l()}),s("destroy",()=>{p()}),s("enable disable",()=>{let{nextEl:y,prevEl:v}=e.navigation;if(y=Z(y),v=Z(v),e.enabled){l();return}[...y,...v].filter(k=>!!k).forEach(k=>k.classList.add(e.params.navigation.lockClass))}),s("click",(y,v)=>{let{nextEl:k,prevEl:b}=e.navigation;k=Z(k),b=Z(b);const h=v.target;let f=b.includes(h)||k.includes(h);if(e.isElement&&!f){const w=v.path||v.composedPath&&v.composedPath();w&&(f=w.find(E=>k.includes(E)||b.includes(E)))}if(e.params.navigation.hideOnClick&&!f){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===h||e.pagination.el.contains(h)))return;let w;k.length?w=k[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(w=b[0].classList.contains(e.params.navigation.hiddenClass)),n(w===!0?"navigationShow":"navigationHide"),[...k,...b].filter(E=>!!E).forEach(E=>E.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:m,disable:g,update:l,init:d,destroy:p})}function Me(i){return i===void 0&&(i=""),`.${i.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function On(i){let{swiper:e,extendParams:t,on:s,emit:n}=i;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:h=>h,formatFractionTotal:h=>h,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function o(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(h,f){const{bulletActiveClass:w}=e.params.pagination;h&&(h=h[`${f==="prev"?"previous":"next"}ElementSibling`],h&&(h.classList.add(`${w}-${f}`),h=h[`${f==="prev"?"previous":"next"}ElementSibling`],h&&h.classList.add(`${w}-${f}-${f}`)))}function d(h,f,w){if(h=h%w,f=f%w,f===h+1)return"next";if(f===h-1)return"previous"}function p(h){const f=h.target.closest(Me(e.params.pagination.bulletClass));if(!f)return;h.preventDefault();const w=nt(f)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const E=d(e.realIndex,w,e.slides.length);E==="next"?e.slideNext():E==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function m(){const h=e.rtl,f=e.params.pagination;if(o())return;let w=e.pagination.el;w=Z(w);let E,M;const q=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(q/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(M=e.previousRealIndex||0,E=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(E=e.snapIndex,M=e.previousSnapIndex):(M=e.previousIndex||0,E=e.activeIndex||0),f.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const B=e.pagination.bullets;let C,L,T;if(f.dynamicBullets&&(a=It(B[0],e.isHorizontal()?"width":"height",!0),w.forEach(S=>{S.style[e.isHorizontal()?"width":"height"]=`${a*(f.dynamicMainBullets+4)}px`}),f.dynamicMainBullets>1&&M!==void 0&&(l+=E-(M||0),l>f.dynamicMainBullets-1?l=f.dynamicMainBullets-1:l<0&&(l=0)),C=Math.max(E-l,0),L=C+(Math.min(B.length,f.dynamicMainBullets)-1),T=(L+C)/2),B.forEach(S=>{const x=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${f.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();S.classList.remove(...x)}),w.length>1)B.forEach(S=>{const x=nt(S);x===E?S.classList.add(...f.bulletActiveClass.split(" ")):e.isElement&&S.setAttribute("part","bullet"),f.dynamicBullets&&(x>=C&&x<=L&&S.classList.add(...`${f.bulletActiveClass}-main`.split(" ")),x===C&&u(S,"prev"),x===L&&u(S,"next"))});else{const S=B[E];if(S&&S.classList.add(...f.bulletActiveClass.split(" ")),e.isElement&&B.forEach((x,I)=>{x.setAttribute("part",I===E?"bullet-active":"bullet")}),f.dynamicBullets){const x=B[C],I=B[L];for(let R=C;R<=L;R+=1)B[R]&&B[R].classList.add(...`${f.bulletActiveClass}-main`.split(" "));u(x,"prev"),u(I,"next")}}if(f.dynamicBullets){const S=Math.min(B.length,f.dynamicMainBullets+4),x=(a*S-a)/2-T*a,I=h?"right":"left";B.forEach(R=>{R.style[e.isHorizontal()?I:"top"]=`${x}px`})}}w.forEach((B,C)=>{if(f.type==="fraction"&&(B.querySelectorAll(Me(f.currentClass)).forEach(L=>{L.textContent=f.formatFractionCurrent(E+1)}),B.querySelectorAll(Me(f.totalClass)).forEach(L=>{L.textContent=f.formatFractionTotal(N)})),f.type==="progressbar"){let L;f.progressbarOpposite?L=e.isHorizontal()?"vertical":"horizontal":L=e.isHorizontal()?"horizontal":"vertical";const T=(E+1)/N;let S=1,x=1;L==="horizontal"?S=T:x=T,B.querySelectorAll(Me(f.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${S}) scaleY(${x})`,I.style.transitionDuration=`${e.params.speed}ms`})}f.type==="custom"&&f.renderCustom?(B.innerHTML=f.renderCustom(e,E+1,N),C===0&&n("paginationRender",B)):(C===0&&n("paginationRender",B),n("paginationUpdate",B)),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](f.lockClass)})}function g(){const h=e.params.pagination;if(o())return;const f=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=Z(w);let E="";if(h.type==="bullets"){let M=e.params.loop?Math.ceil(f/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&M>f&&(M=f);for(let q=0;q<M;q+=1)h.renderBullet?E+=h.renderBullet.call(e,q,h.bulletClass):E+=`<${h.bulletElement} ${e.isElement?'part="bullet"':""} class="${h.bulletClass}"></${h.bulletElement}>`}h.type==="fraction"&&(h.renderFraction?E=h.renderFraction.call(e,h.currentClass,h.totalClass):E=`<span class="${h.currentClass}"></span> / <span class="${h.totalClass}"></span>`),h.type==="progressbar"&&(h.renderProgressbar?E=h.renderProgressbar.call(e,h.progressbarFillClass):E=`<span class="${h.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(M=>{h.type!=="custom"&&(M.innerHTML=E||""),h.type==="bullets"&&e.pagination.bullets.push(...M.querySelectorAll(Me(h.bulletClass)))}),h.type!=="custom"&&n("paginationRender",w[0])}function y(){e.params.pagination=Ht(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const h=e.params.pagination;if(!h.el)return;let f;typeof h.el=="string"&&e.isElement&&(f=e.el.querySelector(h.el)),!f&&typeof h.el=="string"&&(f=[...document.querySelectorAll(h.el)]),f||(f=h.el),!(!f||f.length===0)&&(e.params.uniqueNavElements&&typeof h.el=="string"&&Array.isArray(f)&&f.length>1&&(f=[...e.el.querySelectorAll(h.el)],f.length>1&&(f=f.filter(w=>Ei(w,".swiper")[0]===e.el)[0])),Array.isArray(f)&&f.length===1&&(f=f[0]),Object.assign(e.pagination,{el:f}),f=Z(f),f.forEach(w=>{h.type==="bullets"&&h.clickable&&w.classList.add(...(h.clickableClass||"").split(" ")),w.classList.add(h.modifierClass+h.type),w.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.type==="bullets"&&h.dynamicBullets&&(w.classList.add(`${h.modifierClass}${h.type}-dynamic`),l=0,h.dynamicMainBullets<1&&(h.dynamicMainBullets=1)),h.type==="progressbar"&&h.progressbarOpposite&&w.classList.add(h.progressbarOppositeClass),h.clickable&&w.addEventListener("click",p),e.enabled||w.classList.add(h.lockClass)}))}function v(){const h=e.params.pagination;if(o())return;let f=e.pagination.el;f&&(f=Z(f),f.forEach(w=>{w.classList.remove(h.hiddenClass),w.classList.remove(h.modifierClass+h.type),w.classList.remove(e.isHorizontal()?h.horizontalClass:h.verticalClass),h.clickable&&(w.classList.remove(...(h.clickableClass||"").split(" ")),w.removeEventListener("click",p))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...h.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const h=e.params.pagination;let{el:f}=e.pagination;f=Z(f),f.forEach(w=>{w.classList.remove(h.horizontalClass,h.verticalClass),w.classList.add(e.isHorizontal()?h.horizontalClass:h.verticalClass)})}),s("init",()=>{e.params.pagination.enabled===!1?b():(y(),g(),m())}),s("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),s("snapIndexChange",()=>{m()}),s("snapGridLengthChange",()=>{g(),m()}),s("destroy",()=>{v()}),s("enable disable",()=>{let{el:h}=e.pagination;h&&(h=Z(h),h.forEach(f=>f.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{m()}),s("click",(h,f)=>{const w=f.target,E=Z(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&E&&E.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const M=E[0].classList.contains(e.params.pagination.hiddenClass);n(M===!0?"paginationShow":"paginationHide"),E.forEach(q=>q.classList.toggle(e.params.pagination.hiddenClass))}});const k=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=Z(h),h.forEach(f=>f.classList.remove(e.params.pagination.paginationDisabledClass))),y(),g(),m()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:h}=e.pagination;h&&(h=Z(h),h.forEach(f=>f.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:k,disable:b,render:g,update:m,init:y,destroy:v})}function Bn(i){let{swiper:e,extendParams:t,on:s,emit:n}=i;const r=de();let a=!1,l=null,o=null,u,d,p,m;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:T,rtlTranslate:S}=e,{dragEl:x,el:I}=T,R=e.params.scrollbar,ne=e.params.loop?e.progressLoop:e.progress;let $=d,G=(p-d)*ne;S?(G=-G,G>0?($=d-G,G=0):-G+d>p&&($=p+G)):G<0?($=d+G,G=0):G+d>p&&($=p-G),e.isHorizontal()?(x.style.transform=`translate3d(${G}px, 0, 0)`,x.style.width=`${$}px`):(x.style.transform=`translate3d(0px, ${G}px, 0)`,x.style.height=`${$}px`),R.hide&&(clearTimeout(l),I.style.opacity=1,l=setTimeout(()=>{I.style.opacity=0,I.style.transitionDuration="400ms"},1e3))}function y(T){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${T}ms`)}function v(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:T}=e,{dragEl:S,el:x}=T;S.style.width="",S.style.height="",p=e.isHorizontal()?x.offsetWidth:x.offsetHeight,m=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?d=p*m:d=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?S.style.width=`${d}px`:S.style.height=`${d}px`,m>=1?x.style.display="none":x.style.display="",e.params.scrollbar.hide&&(x.style.opacity=0),e.params.watchOverflow&&e.enabled&&T.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function k(T){return e.isHorizontal()?T.clientX:T.clientY}function b(T){const{scrollbar:S,rtlTranslate:x}=e,{el:I}=S;let R;R=(k(T)-ws(I)[e.isHorizontal()?"left":"top"]-(u!==null?u:d/2))/(p-d),R=Math.max(Math.min(R,1),0),x&&(R=1-R);const ne=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*R;e.updateProgress(ne),e.setTranslate(ne),e.updateActiveIndex(),e.updateSlidesClasses()}function h(T){const S=e.params.scrollbar,{scrollbar:x,wrapperEl:I}=e,{el:R,dragEl:ne}=x;a=!0,u=T.target===ne?k(T)-T.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,T.preventDefault(),T.stopPropagation(),I.style.transitionDuration="100ms",ne.style.transitionDuration="100ms",b(T),clearTimeout(o),R.style.transitionDuration="0ms",S.hide&&(R.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",T)}function f(T){const{scrollbar:S,wrapperEl:x}=e,{el:I,dragEl:R}=S;a&&(T.preventDefault&&T.cancelable?T.preventDefault():T.returnValue=!1,b(T),x.style.transitionDuration="0ms",I.style.transitionDuration="0ms",R.style.transitionDuration="0ms",n("scrollbarDragMove",T))}function w(T){const S=e.params.scrollbar,{scrollbar:x,wrapperEl:I}=e,{el:R}=x;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",I.style.transitionDuration=""),S.hide&&(clearTimeout(o),o=tt(()=>{R.style.opacity=0,R.style.transitionDuration="400ms"},1e3)),n("scrollbarDragEnd",T),S.snapOnRelease&&e.slideToClosest())}function E(T){const{scrollbar:S,params:x}=e,I=S.el;if(!I)return;const R=I,ne=x.passiveListeners?{passive:!1,capture:!1}:!1,$=x.passiveListeners?{passive:!0,capture:!1}:!1;if(!R)return;const G=T==="on"?"addEventListener":"removeEventListener";R[G]("pointerdown",h,ne),r[G]("pointermove",f,ne),r[G]("pointerup",w,$)}function M(){!e.params.scrollbar.el||!e.scrollbar.el||E("on")}function q(){!e.params.scrollbar.el||!e.scrollbar.el||E("off")}function N(){const{scrollbar:T,el:S}=e;e.params.scrollbar=Ht(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const x=e.params.scrollbar;if(!x.el)return;let I;if(typeof x.el=="string"&&e.isElement&&(I=e.el.querySelector(x.el)),!I&&typeof x.el=="string"){if(I=r.querySelectorAll(x.el),!I.length)return}else I||(I=x.el);e.params.uniqueNavElements&&typeof x.el=="string"&&I.length>1&&S.querySelectorAll(x.el).length===1&&(I=S.querySelector(x.el)),I.length>0&&(I=I[0]),I.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass);let R;I&&(R=I.querySelector(Me(e.params.scrollbar.dragClass)),R||(R=Ve("div",e.params.scrollbar.dragClass),I.append(R))),Object.assign(T,{el:I,dragEl:R}),x.draggable&&M(),I&&I.classList[e.enabled?"remove":"add"](...we(e.params.scrollbar.lockClass))}function B(){const T=e.params.scrollbar,S=e.scrollbar.el;S&&S.classList.remove(...we(e.isHorizontal()?T.horizontalClass:T.verticalClass)),q()}s("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const T=e.params.scrollbar;let{el:S}=e.scrollbar;S=Z(S),S.forEach(x=>{x.classList.remove(T.horizontalClass,T.verticalClass),x.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),s("init",()=>{e.params.scrollbar.enabled===!1?L():(N(),v(),g())}),s("update resize observerUpdate lock unlock changeDirection",()=>{v()}),s("setTranslate",()=>{g()}),s("setTransition",(T,S)=>{y(S)}),s("enable disable",()=>{const{el:T}=e.scrollbar;T&&T.classList[e.enabled?"remove":"add"](...we(e.params.scrollbar.lockClass))}),s("destroy",()=>{B()});const C=()=>{e.el.classList.remove(...we(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...we(e.params.scrollbar.scrollbarDisabledClass)),N(),v(),g()},L=()=>{e.el.classList.add(...we(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...we(e.params.scrollbar.scrollbarDisabledClass)),B()};Object.assign(e.scrollbar,{enable:C,disable:L,updateSize:v,setTranslate:g,init:N,destroy:B})}function Vn(i){let{swiper:e,extendParams:t,on:s,emit:n,params:r}=i;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,o=r&&r.autoplay?r.autoplay.delay:3e3,u=r&&r.autoplay?r.autoplay.delay:3e3,d,p=new Date().getTime(),m,g,y,v,k,b,h;function f($){!e||e.destroyed||!e.wrapperEl||$.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",f),!(h||$.detail&&$.detail.bySwiperTouchMove)&&C())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(u=d,m=!1);const $=e.autoplay.paused?d:p+u-new Date().getTime();e.autoplay.timeLeft=$,n("autoplayTimeLeft",$,$/o),l=requestAnimationFrame(()=>{w()})},E=()=>{let $;return e.virtual&&e.params.virtual.enabled?$=e.slides.filter(se=>se.classList.contains("swiper-slide-active"))[0]:$=e.slides[e.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},M=$=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),w();let G=typeof $>"u"?e.params.autoplay.delay:$;o=e.params.autoplay.delay,u=e.params.autoplay.delay;const se=E();!Number.isNaN(se)&&se>0&&typeof $>"u"&&(G=se,o=se,u=se),d=G;const Ce=e.params.speed,Ue=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Ce,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Ce,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Ce,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Ce,!0,!0),n("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return G>0?(clearTimeout(a),a=setTimeout(()=>{Ue()},G)):requestAnimationFrame(()=>{Ue()}),G},q=()=>{p=new Date().getTime(),e.autoplay.running=!0,M(),n("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),n("autoplayStop")},B=($,G)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),$||(b=!0);const se=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",f):C()};if(e.autoplay.paused=!0,G){k&&(d=e.params.autoplay.delay),k=!1,se();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),se())},C=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),b?(b=!1,M(d)):M(),e.autoplay.paused=!1,n("autoplayResume"))},L=()=>{if(e.destroyed||!e.autoplay.running)return;const $=de();$.visibilityState==="hidden"&&(b=!0,B(!0)),$.visibilityState==="visible"&&C()},T=$=>{$.pointerType==="mouse"&&(b=!0,h=!0,!(e.animating||e.autoplay.paused)&&B(!0))},S=$=>{$.pointerType==="mouse"&&(h=!1,e.autoplay.paused&&C())},x=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",T),e.el.addEventListener("pointerleave",S))},I=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",T),e.el.removeEventListener("pointerleave",S))},R=()=>{de().addEventListener("visibilitychange",L)},ne=()=>{de().removeEventListener("visibilitychange",L)};s("init",()=>{e.params.autoplay.enabled&&(x(),R(),q())}),s("destroy",()=>{I(),ne(),e.autoplay.running&&N()}),s("_freeModeStaticRelease",()=>{(y||b)&&C()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():B(!0,!0)}),s("beforeTransitionStart",($,G,se)=>{e.destroyed||!e.autoplay.running||(se||!e.params.autoplay.disableOnInteraction?B(!0,!0):N())}),s("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}g=!0,y=!1,b=!1,v=setTimeout(()=>{b=!0,y=!0,B(!0)},200)}}),s("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(v),clearTimeout(a),e.params.autoplay.disableOnInteraction){y=!1,g=!1;return}y&&e.params.cssMode&&C(),y=!1,g=!1}}),s("slideChange",()=>{e.destroyed||!e.autoplay.running||(k=!0)}),Object.assign(e.autoplay,{start:q,stop:N,pause:B,resume:C})}const xi="[data-js-slider]";class Rn{constructor(e){F(this,"selectors",{root:xi,swiper:"[data-js-slider-swiper]",navigation:"[data-js-slider-navigation]",previousButton:"[data-js-slider-previous-button]",nextButton:"[data-js-slider-next-button]",pagination:"[data-js-slider-pagination]",scrollbar:"[data-js-slider-scrollbar]"});this.rootElement=e,this.swiperElement=this.rootElement.querySelector(this.selectors.swiper),this.params=vi(this.rootElement,this.selectors.root),this.navigationElement=this.params.navigationTargetElementId?document.getElementById(this.params.navigationTargetElementId):this.rootElement.querySelector(this.selectors.navigation),this.previousButtonElement=this.navigationElement.querySelector(this.selectors.previousButton),this.nextButtonElement=this.navigationElement.querySelector(this.selectors.nextButton),this.paginationElement=this.navigationElement.querySelector(this.selectors.pagination),this.scrollbarElement=this.rootElement.querySelector(this.selectors.scrollbar),this.init()}init(){new ue(this.swiperElement,{...this.params.sliderParams,modules:[Dn,On,Bn,Vn],navigation:{prevEl:this.previousButtonElement,nextEl:this.nextButtonElement},pagination:{el:this.paginationElement,bulletClass:"slider-navigation__pagination-bullet",bulletActiveClass:"is-active"},scrollbar:{el:this.scrollbarElement,dragClass:"slider__scrollbar-drag"}})}}class Nn{constructor(){this.init()}init(){document.querySelectorAll(xi).forEach(e=>{new Rn(e)})}}const Pt=i=>{const e=parseInt(getComputedStyle(document.documentElement).fontSize);return i/e};class ct{constructor(){if(this.constructor===ct)throw new Error("Невозможно создать экземпляр абстрактного класса BaseComponent!")}getProxyState(e){return new Proxy(e,{get:(t,s)=>t[s],set:(t,s,n)=>{const r=t[s];return t[s]=n,n!==r&&this.updateUI(),!0}})}updateUI(){throw new Error("Необходимо реализовать метод updateUI!")}}const Ai="[data-js-tabs]";class $n extends ct{constructor(t){super();F(this,"selectors",{root:Ai,navigation:"[data-js-tabs-navigation]",button:"[data-js-tabs-button]",content:"[data-js-tabs-content]"});F(this,"stateClasses",{isActive:"is-active"});F(this,"stateCSSVariables",{activeButtonWidth:"--tabsNavigationActiveButtonWidth",activeButtonOffsetLeft:"--tabsNavigationActiveButtonOffsetLeft"});F(this,"previousTab",()=>{const t=this.state.activeTabIndex===0?this.limitTabsIndex:this.state.activeTabIndex-1;this.activateTab(t)});F(this,"nextTab",()=>{const t=this.state.activeTabIndex===this.limitTabsIndex?0:this.state.activeTabIndex+1;this.activateTab(t)});F(this,"firstTab",()=>{this.activateTab(0)});F(this,"lastTab",()=>{this.activateTab(this.limitTabsIndex)});F(this,"onKeyDown",t=>{const{target:s,code:n,metaKey:r}=t,a=this.contentElements.some(p=>p===s),l=this.buttonElements.some(p=>p===s);if(!a&&!l)return;const o={ArrowLeft:this.previousTab,ArrowRight:this.nextTab,Home:this.firstTab,End:this.lastTab}[n];if(r&&n==="ArrowLeft"){t.preventDefault(),this.firstTab();return}if(r&&n==="ArrowRight"){t.preventDefault(),this.lastTab();return}o&&(t.preventDefault(),o())});F(this,"onResize",()=>{this.updateNavigationCSSVars()});F(this,"bindObservers",()=>{new ResizeObserver(this.onResize).observe(this.navigationElement)});this.rootElement=t,this.params=vi(this.rootElement,this.selectors.root),this.navigationElement=this.params.navigationTargetElementId?document.getElementById(this.params.navigationTargetElementId):this.rootElement.querySelector(this.selectors.navigation),this.buttonElements=[...this.navigationElement.querySelectorAll(this.selectors.button)],this.contentElements=[...this.rootElement.querySelectorAll(this.selectors.content)],this.state=this.getProxyState({activeTabIndex:this.buttonElements.findIndex(({ariaSelected:s})=>s)}),this.limitTabsIndex=this.buttonElements.length-1,this.bindEvents(),setTimeout(this.bindObservers,500)}updateUI(){const{activeTabIndex:t}=this.state;this.buttonElements.forEach((s,n)=>{const r=n===t;s.classList.toggle(this.stateClasses.isActive,r),s.ariaSelected=r,s.tabIndex=r?0:-1,r&&this.updateNavigationCSSVars(s)}),this.contentElements.forEach((s,n)=>{const r=n===t;s.classList.toggle(this.stateClasses.isActive,r)})}updateNavigationCSSVars(t=this.buttonElements[this.state.activeTabIndex]){const{width:s,left:n}=t.getBoundingClientRect(),r=n-this.navigationElement.getBoundingClientRect().left;this.navigationElement.style.setProperty(this.stateCSSVariables.activeButtonWidth,`${Pt(s)}rem`),this.navigationElement.style.setProperty(this.stateCSSVariables.activeButtonOffsetLeft,`${Pt(r)}rem`)}activateTab(t){this.state.activeTabIndex=t,this.buttonElements[t].focus()}onButtonClick(t){this.state.activeTabIndex=t}bindEvents(){this.buttonElements.forEach((t,s)=>{t.addEventListener("click",()=>this.onButtonClick(s))}),document.addEventListener("keydown",this.onKeyDown)}}class zn{constructor(){this.init()}init(){document.querySelectorAll(Ai).forEach(e=>{new $n(e)})}}function _(i,e,t){return(e=jn(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function qn(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function jn(i){var e=qn(i,"string");return typeof e=="symbol"?e:String(e)}function Hn(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function si(i,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Gn(i,e,t){return e&&si(i.prototype,e),t&&si(i,t),i}function Un(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ni(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,s)}return t}function ri(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ni(Object(t),!0).forEach(function(s){Un(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ni(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}var ai={addCSS:!0,thumbWidth:15,watch:!0};function Wn(i,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(i,e)}function Kn(i,e){if(i&&e){var t=new Event(e,{bubbles:!0});i.dispatchEvent(t)}}var je=function(i){return i!=null?i.constructor:null},Gt=function(i,e){return!!(i&&e&&i instanceof e)},_i=function(i){return i==null},Mi=function(i){return je(i)===Object},Yn=function(i){return je(i)===Number&&!Number.isNaN(i)},Ii=function(i){return je(i)===String},Xn=function(i){return je(i)===Boolean},Zn=function(i){return je(i)===Function},Li=function(i){return Array.isArray(i)},Pi=function(i){return Gt(i,NodeList)},Jn=function(i){return Gt(i,Element)},Qn=function(i){return Gt(i,Event)},er=function(i){return _i(i)||(Ii(i)||Li(i)||Pi(i))&&!i.length||Mi(i)&&!Object.keys(i).length},ee={nullOrUndefined:_i,object:Mi,number:Yn,string:Ii,boolean:Xn,function:Zn,array:Li,nodeList:Pi,element:Jn,event:Qn,empty:er};function tr(i){var e="".concat(i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ir(i,e){if(1>e){var t=tr(e);return parseFloat(i.toFixed(t))}return Math.round(i/e)*e}var sr=function(){function i(e,t){Hn(this,i),ee.element(e)?this.element=e:ee.string(e)&&(this.element=document.querySelector(e)),ee.element(this.element)&&ee.empty(this.element.rangeTouch)&&(this.config=ri({},ai,{},t),this.init())}return Gn(i,[{key:"init",value:function(){i.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){i.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,s=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(n){t.element[s](n,function(r){return t.set(r)},!1)})}},{key:"get",value:function(e){if(!i.enabled||!ee.event(e))return null;var t,s=e.target,n=e.changedTouches[0],r=parseFloat(s.getAttribute("min"))||0,a=parseFloat(s.getAttribute("max"))||100,l=parseFloat(s.getAttribute("step"))||1,o=s.getBoundingClientRect(),u=100/o.width*(this.config.thumbWidth/2)/100;return 0>(t=100/o.width*(n.clientX-o.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*u:50<t&&(t+=2*(t-50)*u),r+ir(t/100*(a-r),l)}},{key:"set",value:function(e){i.enabled&&ee.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),Kn(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s=null;if(ee.empty(e)||ee.string(e)?s=Array.from(document.querySelectorAll(ee.string(e)?e:'input[type="range"]')):ee.element(e)?s=[e]:ee.nodeList(e)?s=Array.from(e):ee.array(e)&&(s=e.filter(ee.element)),ee.empty(s))return null;var n=ri({},ai,{},t);if(ee.string(e)&&n.watch){var r=new MutationObserver(function(a){Array.from(a).forEach(function(l){Array.from(l.addedNodes).forEach(function(o){ee.element(o)&&Wn(o,e)&&new i(o,n)})})});r.observe(document.body,{childList:!0,subtree:!0})}return s.map(function(a){return new i(a,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),i}();const He=i=>i!=null?i.constructor:null,ve=(i,e)=>!!(i&&e&&i instanceof e),Ut=i=>i==null,Fi=i=>He(i)===Object,nr=i=>He(i)===Number&&!Number.isNaN(i),dt=i=>He(i)===String,rr=i=>He(i)===Boolean,Di=i=>typeof i=="function",Oi=i=>Array.isArray(i),ar=i=>ve(i,WeakMap),Bi=i=>ve(i,NodeList),lr=i=>He(i)===Text,or=i=>ve(i,Event),ur=i=>ve(i,KeyboardEvent),cr=i=>ve(i,window.TextTrackCue)||ve(i,window.VTTCue),dr=i=>ve(i,TextTrack)||!Ut(i)&&dt(i.kind),hr=i=>ve(i,Promise)&&Di(i.then),pr=i=>i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object",Vi=i=>Ut(i)||(dt(i)||Oi(i)||Bi(i))&&!i.length||Fi(i)&&!Object.keys(i).length,mr=i=>{if(ve(i,window.URL))return!0;if(!dt(i))return!1;let e=i;i.startsWith("http://")&&i.startsWith("https://")||(e=`http://${i}`);try{return!Vi(new URL(e).hostname)}catch{return!1}};var c={nullOrUndefined:Ut,object:Fi,number:nr,string:dt,boolean:rr,function:Di,array:Oi,weakMap:ar,nodeList:Bi,element:pr,textNode:lr,event:or,keyboardEvent:ur,cue:cr,track:dr,promise:hr,url:mr,empty:Vi};const Ft=(()=>{const i=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},t=Object.keys(e).find(s=>i.style[s]!==void 0);return!!c.string(t)&&e[t]})();function Ri(i,e){setTimeout(()=>{try{i.hidden=!0,i.offsetHeight,i.hidden=!1}catch{}},e)}const fr=!!window.document.documentMode,gr=/Edge/g.test(navigator.userAgent),yr="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),vr=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,br=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,wr=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Q={isIE:fr,isEdge:gr,isWebKit:yr,isIPhone:vr,isIPadOS:br,isIos:wr};function Er(i){return JSON.parse(JSON.stringify(i))}function Ni(i,e){return e.split(".").reduce((t,s)=>t&&t[s],i)}function K(i={},...e){if(!e.length)return i;const t=e.shift();return c.object(t)?(Object.keys(t).forEach(s=>{c.object(t[s])?(Object.keys(i).includes(s)||Object.assign(i,{[s]:{}}),K(i[s],t[s])):Object.assign(i,{[s]:t[s]})}),K(i,...e)):i}function $i(i,e){const t=i.length?i:[i];Array.from(t).reverse().forEach((s,n)=>{const r=n>0?e.cloneNode(!0):e,a=s.parentNode,l=s.nextSibling;r.appendChild(s),l?a.insertBefore(r,l):a.appendChild(r)})}function Dt(i,e){c.element(i)&&!c.empty(e)&&Object.entries(e).filter(([,t])=>!c.nullOrUndefined(t)).forEach(([t,s])=>i.setAttribute(t,s))}function D(i,e,t){const s=document.createElement(i);return c.object(e)&&Dt(s,e),c.string(t)&&(s.innerText=t),s}function kr(i,e){c.element(i)&&c.element(e)&&e.parentNode.insertBefore(i,e.nextSibling)}function li(i,e,t,s){c.element(e)&&e.appendChild(D(i,t,s))}function ye(i){c.nodeList(i)||c.array(i)?Array.from(i).forEach(ye):c.element(i)&&c.element(i.parentNode)&&i.parentNode.removeChild(i)}function Ze(i){if(!c.element(i))return;let{length:e}=i.childNodes;for(;e>0;)i.removeChild(i.lastChild),e-=1}function rt(i,e){return c.element(e)&&c.element(e.parentNode)&&c.element(i)?(e.parentNode.replaceChild(i,e),i):null}function he(i,e){if(!c.string(i)||c.empty(i))return{};const t={},s=K({},e);return i.split(",").forEach(n=>{const r=n.trim(),a=r.replace(".",""),l=r.replace(/[[\]]/g,"").split("="),[o]=l,u=l.length>1?l[1].replace(/["']/g,""):"";switch(r.charAt(0)){case".":c.string(s.class)?t.class=`${s.class} ${a}`:t.class=a;break;case"#":t.id=r.replace("#","");break;case"[":t[o]=u}}),K(s,t)}function xe(i,e){if(!c.element(i))return;let t=e;c.boolean(t)||(t=!i.hidden),i.hidden=t}function U(i,e,t){if(c.nodeList(i))return Array.from(i).map(s=>U(s,e,t));if(c.element(i)){let s="toggle";return t!==void 0&&(s=t?"add":"remove"),i.classList[s](e),i.classList.contains(e)}return!1}function at(i,e){return c.element(i)&&i.classList.contains(e)}function Ae(i,e){const{prototype:t}=Element;return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(i,e)}function Sr(i,e){const{prototype:t}=Element;return(t.closest||function(){let s=this;do{if(Ae.matches(s,e))return s;s=s.parentElement||s.parentNode}while(s!==null&&s.nodeType===1);return null}).call(i,e)}function Re(i){return this.elements.container.querySelectorAll(i)}function X(i){return this.elements.container.querySelector(i)}function Ct(i=null,e=!1){c.element(i)&&i.focus({preventScroll:!0,focusVisible:e})}const oi={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Y={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(i,e){const t=Y[i]||e!=="html5";return{api:t,ui:t&&Y.rangeInput}},pip:!(Q.isIPhone||!c.function(D("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||D("video").disablePictureInPicture)),airplay:c.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(i){if(c.empty(i))return!1;const[e]=i.split("/");let t=i;if(!this.isHTML5||e!==this.type)return!1;Object.keys(oi).includes(t)&&(t+=`; codecs="${oi[i]}"`);try{return!!(t&&this.media.canPlayType(t).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const i=document.createElement("input");return i.type="range",i.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Ft!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Tr=(()=>{let i=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(i=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return i})();function Ne(i,e,t,s=!1,n=!0,r=!1){if(!i||!("addEventListener"in i)||c.empty(e)||!c.function(t))return;const a=e.split(" ");let l=r;Tr&&(l={passive:n,capture:r}),a.forEach(o=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:i,type:o,callback:t,options:l}),i[s?"addEventListener":"removeEventListener"](o,t,l)})}function j(i,e="",t,s=!0,n=!1){Ne.call(this,i,e,t,!0,s,n)}function ht(i,e="",t,s=!0,n=!1){Ne.call(this,i,e,t,!1,s,n)}function Wt(i,e="",t,s=!0,n=!1){const r=(...a)=>{ht(i,e,r,s,n),t.apply(this,a)};Ne.call(this,i,e,r,!0,s,n)}function O(i,e="",t=!1,s={}){if(!c.element(i)||c.empty(e))return;const n=new CustomEvent(e,{bubbles:t,detail:{...s,plyr:this}});i.dispatchEvent(n)}function Cr(){this&&this.eventListeners&&(this.eventListeners.forEach(i=>{const{element:e,type:t,callback:s,options:n}=i;e.removeEventListener(t,s,n)}),this.eventListeners=[])}function xr(){return new Promise(i=>this.ready?setTimeout(i,0):j.call(this,this.elements.container,"ready",i)).then(()=>{})}function pe(i){c.promise(i)&&i.then(null,()=>{})}function Ot(i){return c.array(i)?i.filter((e,t)=>i.indexOf(e)===t):i}function zi(i,e){return c.array(i)&&i.length?i.reduce((t,s)=>Math.abs(s-e)<Math.abs(t-e)?s:t):null}function qi(i){return!(!window||!window.CSS)&&window.CSS.supports(i)}const ui=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((i,[e,t])=>({...i,[e/t]:[e,t]}),{});function ji(i){return c.array(i)||c.string(i)&&i.includes(":")?(c.array(i)?i:i.split(":")).map(Number).every(c.number):!1}function lt(i){if(!c.array(i)||!i.every(c.number))return null;const[e,t]=i,s=(r,a)=>a===0?r:s(a,r%a),n=s(e,t);return[e/n,t/n]}function Kt(i){const e=s=>ji(s)?s.split(":").map(Number):null;let t=e(i);if(t===null&&(t=e(this.config.ratio)),t===null&&!c.empty(this.embed)&&c.array(this.embed.ratio)&&({ratio:t}=this.embed),t===null&&this.isHTML5){const{videoWidth:s,videoHeight:n}=this.media;t=[s,n]}return lt(t)}function Le(i){if(!this.isVideo)return{};const{wrapper:e}=this.elements,t=Kt.call(this,i);if(!c.array(t))return{};const[s,n]=lt(t),r=100/s*n;if(qi(`aspect-ratio: ${s}/${n}`)?e.style.aspectRatio=`${s}/${n}`:e.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),l=(a-r)/(a/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${l}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:t}}function Hi(i,e,t=.05){const s=i/e,n=zi(Object.keys(ui),s);return Math.abs(n-s)<=t?ui[n]:[i,e]}function Ar(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Se={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(i=>{const e=i.getAttribute("type");return!!c.empty(e)||Y.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Se.getSources.call(this).map(i=>Number(i.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const i=this;i.options.speed=i.config.speed.options,c.empty(this.config.ratio)||Le.call(i),Object.defineProperty(i.media,"quality",{get(){const e=Se.getSources.call(i).find(t=>t.getAttribute("src")===i.source);return e&&Number(e.getAttribute("size"))},set(e){if(i.quality!==e){if(i.config.quality.forced&&c.function(i.config.quality.onChange))i.config.quality.onChange(e);else{const t=Se.getSources.call(i).find(o=>Number(o.getAttribute("size"))===e);if(!t)return;const{currentTime:s,paused:n,preload:r,readyState:a,playbackRate:l}=i.media;i.media.src=t.getAttribute("src"),(r!=="none"||a)&&(i.once("loadedmetadata",()=>{i.speed=l,i.currentTime=s,n||pe(i.play())}),i.media.load())}O.call(i,i.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(ye(Se.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function _r(i){return`${i}-${Math.floor(1e4*Math.random())}`}function Bt(i,...e){return c.empty(i)?i:i.toString().replace(/{(\d+)}/g,(t,s)=>e[s].toString())}function Mr(i,e){return i===0||e===0||Number.isNaN(i)||Number.isNaN(e)?0:(i/e*100).toFixed(2)}const Be=(i="",e="",t="")=>i.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString()),Gi=(i="")=>i.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function Ir(i=""){let e=i.toString();return e=Be(e,"-"," "),e=Be(e,"_"," "),e=Gi(e),Be(e," ","")}function Lr(i=""){let e=i.toString();return e=Ir(e),e.charAt(0).toLowerCase()+e.slice(1)}function Pr(i){const e=document.createDocumentFragment(),t=document.createElement("div");return e.appendChild(t),t.innerHTML=i,e.firstChild.innerText}function Fr(i){const e=document.createElement("div");return e.appendChild(i),e.innerHTML}const ci={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},J={get(i="",e={}){if(c.empty(i)||c.empty(e))return"";let t=Ni(e.i18n,i);if(c.empty(t))return Object.keys(ci).includes(i)?ci[i]:"";const s={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(s).forEach(([n,r])=>{t=Be(t,n,r)}),t}};class $e{constructor(e){_(this,"get",t=>{if(!$e.supported||!this.enabled)return null;const s=window.localStorage.getItem(this.key);if(c.empty(s))return null;const n=JSON.parse(s);return c.string(t)&&t.length?n[t]:n}),_(this,"set",t=>{if(!$e.supported||!this.enabled||!c.object(t))return;let s=this.get();c.empty(s)&&(s={}),K(s,t);try{window.localStorage.setItem(this.key,JSON.stringify(s))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function Ge(i,e="text"){return new Promise((t,s)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if(e==="text")try{t(JSON.parse(n.responseText))}catch{t(n.responseText)}else t(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",i,!0),n.responseType=e,n.send()}catch(n){s(n)}})}function Ui(i,e){if(!c.string(i))return;const t="cache",s=c.string(e);let n=!1;const r=()=>document.getElementById(e)!==null,a=(l,o)=>{l.innerHTML=o,s&&r()||document.body.insertAdjacentElement("afterbegin",l)};if(!s||!r()){const l=$e.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),s&&o.setAttribute("id",e),l){const u=window.localStorage.getItem(`${t}-${e}`);if(n=u!==null,n){const d=JSON.parse(u);a(o,d.content)}}Ge(i).then(u=>{if(!c.empty(u)){if(l)try{window.localStorage.setItem(`${t}-${e}`,JSON.stringify({content:u}))}catch{}a(o,u)}}).catch(()=>{})}}const Wi=i=>Math.trunc(i/60/60%60,10),Dr=i=>Math.trunc(i/60%60,10),Or=i=>Math.trunc(i%60,10);function pt(i=0,e=!1,t=!1){if(!c.number(i))return pt(void 0,e,t);const s=l=>`0${l}`.slice(-2);let n=Wi(i);const r=Dr(i),a=Or(i);return n=e||n>0?`${n}:`:"",`${t&&i>0?"-":""}${n}${s(r)}:${s(a)}`}const A={getIconUrl(){const i=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,t=i.host!==e||Q.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements(){try{return this.elements.controls=X.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Re.call(this,this.config.selectors.buttons.play),pause:X.call(this,this.config.selectors.buttons.pause),restart:X.call(this,this.config.selectors.buttons.restart),rewind:X.call(this,this.config.selectors.buttons.rewind),fastForward:X.call(this,this.config.selectors.buttons.fastForward),mute:X.call(this,this.config.selectors.buttons.mute),pip:X.call(this,this.config.selectors.buttons.pip),airplay:X.call(this,this.config.selectors.buttons.airplay),settings:X.call(this,this.config.selectors.buttons.settings),captions:X.call(this,this.config.selectors.buttons.captions),fullscreen:X.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=X.call(this,this.config.selectors.progress),this.elements.inputs={seek:X.call(this,this.config.selectors.inputs.seek),volume:X.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:X.call(this,this.config.selectors.display.buffer),currentTime:X.call(this,this.config.selectors.display.currentTime),duration:X.call(this,this.config.selectors.display.duration)},c.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(i){return this.debug.warn("It looks like there is a problem with your custom controls HTML",i),this.toggleNativeControls(!0),!1}},createIcon(i,e){const t="http://www.w3.org/2000/svg",s=A.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,r=document.createElementNS(t,"svg");Dt(r,K(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(t,"use"),l=`${n}-${i}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",l),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l),r.appendChild(a),r},createLabel(i,e={}){const t=J.get(i,this.config);return D("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},t)},createBadge(i){if(c.empty(i))return null;const e=D("span",{class:this.config.classNames.menu.value});return e.appendChild(D("span",{class:this.config.classNames.menu.badge},i)),e},createButton(i,e){const t=K({},e);let s=Lr(i);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(t).includes(a)&&(n[a]=t[a],delete t[a])}),n.element!=="button"||Object.keys(t).includes("type")||(t.type="button"),Object.keys(t).includes("class")?t.class.split(" ").some(a=>a===this.config.classNames.control)||K(t,{class:`${t.class} ${this.config.classNames.control}`}):t.class=this.config.classNames.control,i){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":t.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:c.empty(n.label)&&(n.label=s),c.empty(n.icon)&&(n.icon=i)}const r=D(n.element);return n.toggle?(r.appendChild(A.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),r.appendChild(A.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),r.appendChild(A.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),r.appendChild(A.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(r.appendChild(A.createIcon.call(this,n.icon)),r.appendChild(A.createLabel.call(this,n.label))),K(t,he(this.config.selectors.buttons[s],t)),Dt(r,t),s==="play"?(c.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(r)):this.elements.buttons[s]=r,r},createRange(i,e){const t=D("input",K(he(this.config.selectors.inputs[i]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":J.get(i,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[i]=t,A.updateRangeFill.call(this,t),sr.setup(t),t},createProgress(i,e){const t=D("progress",K(he(this.config.selectors.display[i]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(i!=="volume"){t.appendChild(D("span",null,"0"));const s={played:"played",buffer:"buffered"}[i],n=s?J.get(s,this.config):"";t.innerText=`% ${n.toLowerCase()}`}return this.elements.display[i]=t,t},createTime(i,e){const t=he(this.config.selectors.display[i],e),s=D("div",K(t,{class:`${t.class?t.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":J.get(i,this.config),role:"timer"}),"00:00");return this.elements.display[i]=s,s},bindMenuItemShortcuts(i,e){j.call(this,i,"keydown keyup",t=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(t.key)||(t.preventDefault(),t.stopPropagation(),t.type==="keydown"))return;const s=Ae(i,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(t.key))A.showMenuPanel.call(this,e,!0);else{let n;t.key!==" "&&(t.key==="ArrowDown"||s&&t.key==="ArrowRight"?(n=i.nextElementSibling,c.element(n)||(n=i.parentNode.firstElementChild)):(n=i.previousElementSibling,c.element(n)||(n=i.parentNode.lastElementChild)),Ct.call(this,n,!0))}},!1),j.call(this,i,"keyup",t=>{t.key==="Return"&&A.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:i,list:e,type:t,title:s,badge:n=null,checked:r=!1}){const a=he(this.config.selectors.inputs[t]),l=D("button",K(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":r,value:i})),o=D("span");o.innerHTML=s,c.element(n)&&o.appendChild(n),l.appendChild(o),Object.defineProperty(l,"checked",{enumerable:!0,get:()=>l.getAttribute("aria-checked")==="true",set(u){u&&Array.from(l.parentNode.children).filter(d=>Ae(d,'[role="menuitemradio"]')).forEach(d=>d.setAttribute("aria-checked","false")),l.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(l,"click keyup",u=>{if(!c.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),l.checked=!0,t){case"language":this.currentTrack=Number(i);break;case"quality":this.quality=i;break;case"speed":this.speed=parseFloat(i)}A.showMenuPanel.call(this,"home",c.keyboardEvent(u))}},t,!1),A.bindMenuItemShortcuts.call(this,l,t),e.appendChild(l)},formatTime(i=0,e=!1){return c.number(i)?pt(i,Wi(this.duration)>0,e):i},updateTimeDisplay(i=null,e=0,t=!1){c.element(i)&&c.number(e)&&(i.innerText=A.formatTime(e,t))},updateVolume(){this.supported.ui&&(c.element(this.elements.inputs.volume)&&A.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),c.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(i,e=0){c.element(i)&&(i.value=e,A.updateRangeFill.call(this,i))},updateProgress(i){if(!this.supported.ui||!c.event(i))return;let e=0;const t=(s,n)=>{const r=c.number(n)?n:0,a=c.element(s)?s:this.elements.display.buffer;if(c.element(a)){a.value=r;const l=a.getElementsByTagName("span")[0];c.element(l)&&(l.childNodes[0].nodeValue=r)}};if(i)switch(i.type){case"timeupdate":case"seeking":case"seeked":e=Mr(this.currentTime,this.duration),i.type==="timeupdate"&&A.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":t(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(i){const e=c.event(i)?i.target:i;if(c.element(e)&&e.getAttribute("type")==="range"){if(Ae(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=A.formatTime(this.currentTime),s=A.formatTime(this.duration),n=J.get("seekLabel",this.config);e.setAttribute("aria-valuetext",n.replace("{currentTime}",t).replace("{duration}",s))}else if(Ae(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",`${t.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);(Q.isWebKit||Q.isIPadOS)&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(i){var e,t;if(!this.config.tooltips.seek||!c.element(this.elements.inputs.seek)||!c.element(this.elements.display.seekTooltip)||this.duration===0)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,r=d=>U(s,n,d);if(this.touch)return void r(!1);let a=0;const l=this.elements.progress.getBoundingClientRect();if(c.event(i))a=100/l.width*(i.pageX-l.left);else{if(!at(s,n))return;a=parseFloat(s.style.left,10)}a<0?a=0:a>100&&(a=100);const o=this.duration/100*a;s.innerText=A.formatTime(o);const u=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.find(({time:d})=>d===Math.round(o));u&&s.insertAdjacentHTML("afterbegin",`${u.label}<br>`),s.style.left=`${a}%`,c.event(i)&&["mouseenter","mouseleave"].includes(i.type)&&r(i.type==="mouseenter")},timeUpdate(i){const e=!c.element(this.elements.display.duration)&&this.config.invertTime;A.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),i&&i.type==="timeupdate"&&this.media.seeking||A.updateProgress.call(this,i)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return xe(this.elements.display.currentTime,!0),void xe(this.elements.progress,!0);c.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const i=c.element(this.elements.display.duration);!i&&this.config.displayDuration&&this.paused&&A.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),i&&A.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&A.setMarkers.call(this),A.updateSeekTooltip.call(this)},toggleMenuButton(i,e){xe(this.elements.settings.buttons[i],!e)},updateSetting(i,e,t){const s=this.elements.settings.panels[i];let n=null,r=e;if(i==="captions")n=this.currentTrack;else{if(n=c.empty(t)?this[i]:t,c.empty(n)&&(n=this.config[i].default),!c.empty(this.options[i])&&!this.options[i].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${i}`);if(!this.config[i].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${i}`)}if(c.element(r)||(r=s&&s.querySelector('[role="menu"]')),!c.element(r))return;this.elements.settings.buttons[i].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=A.getLabel.call(this,i,n);const a=r&&r.querySelector(`[value="${n}"]`);c.element(a)&&(a.checked=!0)},getLabel(i,e){switch(i){case"speed":return e===1?J.get("normal",this.config):`${e}&times;`;case"quality":if(c.number(e)){const t=J.get(`qualityLabel.${e}`,this.config);return t.length?t:`${e}p`}return Gi(e);case"captions":return H.getLabel.call(this);default:return null}},setQualityMenu(i){if(!c.element(this.elements.settings.panels.quality))return;const e="quality",t=this.elements.settings.panels.quality.querySelector('[role="menu"]');c.array(i)&&(this.options.quality=Ot(i).filter(r=>this.config.quality.options.includes(r)));const s=!c.empty(this.options.quality)&&this.options.quality.length>1;if(A.toggleMenuButton.call(this,e,s),Ze(t),A.checkMenu.call(this),!s)return;const n=r=>{const a=J.get(`qualityBadge.${r}`,this.config);return a.length?A.createBadge.call(this,a):null};this.options.quality.sort((r,a)=>{const l=this.config.quality.options;return l.indexOf(r)>l.indexOf(a)?1:-1}).forEach(r=>{A.createMenuItem.call(this,{value:r,list:t,type:e,title:A.getLabel.call(this,"quality",r),badge:n(r)})}),A.updateSetting.call(this,e,t)},setCaptionsMenu(){if(!c.element(this.elements.settings.panels.captions))return;const i="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=H.getTracks.call(this),s=!!t.length;if(A.toggleMenuButton.call(this,i,s),Ze(e),A.checkMenu.call(this),!s)return;const n=t.map((r,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:H.getLabel.call(this,r),badge:r.language&&A.createBadge.call(this,r.language.toUpperCase()),list:e,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:J.get("disabled",this.config),list:e,type:"language"}),n.forEach(A.createMenuItem.bind(this)),A.updateSetting.call(this,i,e)},setSpeedMenu(){if(!c.element(this.elements.settings.panels.speed))return;const i="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(s=>s>=this.minimumSpeed&&s<=this.maximumSpeed);const t=!c.empty(this.options.speed)&&this.options.speed.length>1;A.toggleMenuButton.call(this,i,t),Ze(e),A.checkMenu.call(this),t&&(this.options.speed.forEach(s=>{A.createMenuItem.call(this,{value:s,list:e,type:i,title:A.getLabel.call(this,"speed",s)})}),A.updateSetting.call(this,i,e))},checkMenu(){const{buttons:i}=this.elements.settings,e=!c.empty(i)&&Object.values(i).some(t=>!t.hidden);xe(this.elements.settings.menu,!e)},focusFirstMenuItem(i,e=!1){if(this.elements.settings.popup.hidden)return;let t=i;c.element(t)||(t=Object.values(this.elements.settings.panels).find(n=>!n.hidden));const s=t.querySelector('[role^="menuitem"]');Ct.call(this,s,e)},toggleMenu(i){const{popup:e}=this.elements.settings,t=this.elements.buttons.settings;if(!c.element(e)||!c.element(t))return;const{hidden:s}=e;let n=s;if(c.boolean(i))n=i;else if(c.keyboardEvent(i)&&i.key==="Escape")n=!1;else if(c.event(i)){const r=c.function(i.composedPath)?i.composedPath()[0]:i.target,a=e.contains(r);if(a||!a&&i.target!==t&&n)return}t.setAttribute("aria-expanded",n),xe(e,!n),U(this.elements.container,this.config.classNames.menu.open,n),n&&c.keyboardEvent(i)?A.focusFirstMenuItem.call(this,null,!0):n||s||Ct.call(this,t,c.keyboardEvent(i))},getMenuSize(i){const e=i.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),i.parentNode.appendChild(e);const t=e.scrollWidth,s=e.scrollHeight;return ye(e),{width:t,height:s}},showMenuPanel(i="",e=!1){const t=this.elements.container.querySelector(`#plyr-settings-${this.id}-${i}`);if(!c.element(t))return;const s=t.parentNode,n=Array.from(s.children).find(r=>!r.hidden);if(Y.transitions&&!Y.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const r=A.getMenuSize.call(this,t),a=l=>{l.target===s&&["width","height"].includes(l.propertyName)&&(s.style.width="",s.style.height="",ht.call(this,s,Ft,a))};j.call(this,s,Ft,a),s.style.width=`${r.width}px`,s.style.height=`${r.height}px`}xe(n,!0),xe(t,!1),A.focusFirstMenuItem.call(this,t,e)},setDownloadUrl(){const i=this.elements.buttons.download;c.element(i)&&i.setAttribute("href",this.download)},create(i){const{bindMenuItemShortcuts:e,createButton:t,createProgress:s,createRange:n,createTime:r,setQualityMenu:a,setSpeedMenu:l,showMenuPanel:o}=A;this.elements.controls=null,c.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(t.call(this,"play-large"));const u=D("div",he(this.config.selectors.controls.wrapper));this.elements.controls=u;const d={class:"plyr__controls__item"};return Ot(c.array(this.config.controls)?this.config.controls:[]).forEach(p=>{if(p==="restart"&&u.appendChild(t.call(this,"restart",d)),p==="rewind"&&u.appendChild(t.call(this,"rewind",d)),p==="play"&&u.appendChild(t.call(this,"play",d)),p==="fast-forward"&&u.appendChild(t.call(this,"fast-forward",d)),p==="progress"){const m=D("div",{class:`${d.class} plyr__progress__container`}),g=D("div",he(this.config.selectors.progress));if(g.appendChild(n.call(this,"seek",{id:`plyr-seek-${i.id}`})),g.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const y=D("span",{class:this.config.classNames.tooltip},"00:00");g.appendChild(y),this.elements.display.seekTooltip=y}this.elements.progress=g,m.appendChild(this.elements.progress),u.appendChild(m)}if(p==="current-time"&&u.appendChild(r.call(this,"currentTime",d)),p==="duration"&&u.appendChild(r.call(this,"duration",d)),p==="mute"||p==="volume"){let{volume:m}=this.elements;if(c.element(m)&&u.contains(m)||(m=D("div",K({},d,{class:`${d.class} plyr__volume`.trim()})),this.elements.volume=m,u.appendChild(m)),p==="mute"&&m.appendChild(t.call(this,"mute")),p==="volume"&&!Q.isIos&&!Q.isIPadOS){const g={max:1,step:.05,value:this.config.volume};m.appendChild(n.call(this,"volume",K(g,{id:`plyr-volume-${i.id}`})))}}if(p==="captions"&&u.appendChild(t.call(this,"captions",d)),p==="settings"&&!c.empty(this.config.settings)){const m=D("div",K({},d,{class:`${d.class} plyr__menu`.trim(),hidden:""}));m.appendChild(t.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${i.id}`,"aria-expanded":!1}));const g=D("div",{class:"plyr__menu__container",id:`plyr-settings-${i.id}`,hidden:""}),y=D("div"),v=D("div",{id:`plyr-settings-${i.id}-home`}),k=D("div",{role:"menu"});v.appendChild(k),y.appendChild(v),this.elements.settings.panels.home=v,this.config.settings.forEach(b=>{const h=D("button",K(he(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,h,b),j.call(this,h,"click",()=>{o.call(this,b,!1)});const f=D("span",null,J.get(b,this.config)),w=D("span",{class:this.config.classNames.menu.value});w.innerHTML=i[b],f.appendChild(w),h.appendChild(f),k.appendChild(h);const E=D("div",{id:`plyr-settings-${i.id}-${b}`,hidden:""}),M=D("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});M.appendChild(D("span",{"aria-hidden":!0},J.get(b,this.config))),M.appendChild(D("span",{class:this.config.classNames.hidden},J.get("menuBack",this.config))),j.call(this,E,"keydown",q=>{q.key==="ArrowLeft"&&(q.preventDefault(),q.stopPropagation(),o.call(this,"home",!0))},!1),j.call(this,M,"click",()=>{o.call(this,"home",!1)}),E.appendChild(M),E.appendChild(D("div",{role:"menu"})),y.appendChild(E),this.elements.settings.buttons[b]=h,this.elements.settings.panels[b]=E}),g.appendChild(y),m.appendChild(g),u.appendChild(m),this.elements.settings.popup=g,this.elements.settings.menu=m}if(p==="pip"&&Y.pip&&u.appendChild(t.call(this,"pip",d)),p==="airplay"&&Y.airplay&&u.appendChild(t.call(this,"airplay",d)),p==="download"){const m=K({},d,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(m.download="");const{download:g}=this.config.urls;!c.url(g)&&this.isEmbed&&K(m,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(t.call(this,"download",m))}p==="fullscreen"&&u.appendChild(t.call(this,"fullscreen",d))}),this.isHTML5&&a.call(this,Se.getQualityOptions.call(this)),l.call(this),u},inject(){if(this.config.loadSprite){const n=A.getIconUrl.call(this);n.cors&&Ui(n.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let i=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let t=!0;c.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),c.element(this.config.controls)||c.string(this.config.controls)?i=this.config.controls:(i=A.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:H.getLabel.call(this)}),t=!1);let s;if(t&&c.string(this.config.controls)&&(i=(n=>{let r=n;return Object.entries(e).forEach(([a,l])=>{r=Be(r,`{${a}}`,l)}),r})(i)),c.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),c.element(s)||(s=this.elements.container),s[c.element(i)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",i),c.element(this.elements.controls)||A.findElements.call(this),!c.empty(this.elements.buttons)){const n=r=>{const a=this.config.classNames.controlPressed;r.setAttribute("aria-pressed","false"),Object.defineProperty(r,"pressed",{configurable:!0,enumerable:!0,get:()=>at(r,a),set(l=!1){U(r,a,l),r.setAttribute("aria-pressed",l?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(r=>{c.array(r)||c.nodeList(r)?Array.from(r).filter(Boolean).forEach(n):n(r)})}if(Q.isEdge&&Ri(s),this.config.tooltips.controls){const{classNames:n,selectors:r}=this.config,a=`${r.controls.wrapper} ${r.labels} .${n.hidden}`,l=Re.call(this,a);Array.from(l).forEach(o=>{U(o,this.config.classNames.hidden,!1),U(o,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var i,e;if(!this.duration||this.elements.markers)return;const t=(i=this.config.markers)===null||i===void 0||(e=i.points)===null||e===void 0?void 0:e.filter(({time:o})=>o>0&&o<this.duration);if(t==null||!t.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let r=null;const a=`${this.config.classNames.tooltip}--visible`,l=o=>U(r,a,o);t.forEach(o=>{const u=D("span",{class:this.config.classNames.marker},""),d=o.time/this.duration*100+"%";r&&(u.addEventListener("mouseenter",()=>{o.label||(r.style.left=d,r.innerHTML=o.label,l(!0))}),u.addEventListener("mouseleave",()=>{l(!1)})),u.addEventListener("click",()=>{this.currentTime=o.time}),u.style.left=d,n.appendChild(u)}),s.appendChild(n),this.config.tooltips.seek||(r=D("span",{class:this.config.classNames.tooltip},""),s.appendChild(r)),this.elements.markers={points:n,tip:r},this.elements.progress.appendChild(s)}};function Ki(i,e=!0){let t=i;if(e){const s=document.createElement("a");s.href=t,t=s.href}try{return new URL(t)}catch{return null}}function Yi(i){const e=new URLSearchParams;return c.object(i)&&Object.entries(i).forEach(([t,s])=>{e.set(t,s)}),e}const H={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Y.textTracks)return void(c.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&A.setCaptionsMenu.call(this));if(c.element(this.elements.captions)||(this.elements.captions=D("div",he(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),kr(this.elements.captions,this.elements.wrapper)),Q.isIE&&window.URL){const s=this.media.querySelectorAll("track");Array.from(s).forEach(n=>{const r=n.getAttribute("src"),a=Ki(r);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&Ge(r,"blob").then(l=>{n.setAttribute("src",window.URL.createObjectURL(l))}).catch(()=>{ye(n)})})}const i=Ot((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(s=>s.split("-")[0]));let e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();e==="auto"&&([e]=i);let t=this.storage.get("captions");if(c.boolean(t)||({active:t}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:t,language:e,languages:i}),this.isHTML5){const s=this.config.captions.update?"addtrack removetrack":"removetrack";j.call(this,this.media.textTracks,s,H.update.bind(this))}setTimeout(H.update.bind(this),0)},update(){const i=H.getTracks.call(this,!0),{active:e,language:t,meta:s,currentTrackNode:n}=this.captions,r=!!i.find(a=>a.language===t);this.isHTML5&&this.isVideo&&i.filter(a=>!s.get(a)).forEach(a=>{this.debug.log("Track added",a),s.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),j.call(this,a,"cuechange",()=>H.updateCues.call(this))}),(r&&this.language!==t||!i.includes(n))&&(H.setLanguage.call(this,t),H.toggle.call(this,e&&r)),this.elements&&U(this.elements.container,this.config.classNames.captions.enabled,!c.empty(i)),c.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&A.setCaptionsMenu.call(this)},toggle(i,e=!0){if(!this.supported.ui)return;const{toggled:t}=this.captions,s=this.config.classNames.captions.active,n=c.nullOrUndefined(i)?!t:i;if(n!==t){if(e||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!e){const r=H.getTracks.call(this),a=H.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=a.language,void H.set.call(this,r.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),U(this.elements.container,s,n),this.captions.toggled=n,A.updateSetting.call(this,"captions"),O.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(i,e=!0){const t=H.getTracks.call(this);if(i!==-1)if(c.number(i))if(i in t){if(this.captions.currentTrack!==i){this.captions.currentTrack=i;const s=t[i],{language:n}=s||{};this.captions.currentTrackNode=s,A.updateSetting.call(this,"captions"),e||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),O.call(this,this.media,"languagechange")}H.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&H.updateCues.call(this)}else this.debug.warn("Track not found",i);else this.debug.warn("Invalid caption argument",i);else H.toggle.call(this,!1,e)},setLanguage(i,e=!0){if(!c.string(i))return void this.debug.warn("Invalid language argument",i);const t=i.toLowerCase();this.captions.language=t;const s=H.getTracks.call(this),n=H.findTrack.call(this,[t]);H.set.call(this,s.indexOf(n),e)},getTracks(i=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||i||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(i,e=!1){const t=H.getTracks.call(this),s=a=>Number((this.captions.meta.get(a)||{}).default),n=Array.from(t).sort((a,l)=>s(l)-s(a));let r;return i.every(a=>(r=n.find(l=>l.language===a),!r)),r||(e?n[0]:void 0)},getCurrentTrack(){return H.getTracks.call(this)[this.currentTrack]},getLabel(i){let e=i;return!c.track(e)&&Y.textTracks&&this.captions.toggled&&(e=H.getCurrentTrack.call(this)),c.track(e)?c.empty(e.label)?c.empty(e.language)?J.get("enabled",this.config):i.language.toUpperCase():e.label:J.get("disabled",this.config)},updateCues(i){if(!this.supported.ui)return;if(!c.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!c.nullOrUndefined(i)&&!Array.isArray(i))return void this.debug.warn("updateCues: Invalid input",i);let e=i;if(!e){const s=H.getCurrentTrack.call(this);e=Array.from((s||{}).activeCues||[]).map(n=>n.getCueAsHTML()).map(Fr)}const t=e.map(s=>s.trim()).join(`
`);if(t!==this.elements.captions.innerHTML){Ze(this.elements.captions);const s=D("span",he(this.config.selectors.caption));s.innerHTML=t,this.elements.captions.appendChild(s),O.call(this,this.media,"cuechange")}}},Xi={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},xt={active:"picture-in-picture",inactive:"inline"},Ee={html5:"html5",youtube:"youtube",vimeo:"vimeo"},At={audio:"audio",video:"video"};function Br(i){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(i)?Ee.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(i)?Ee.vimeo:null}const _t=()=>{};class Vr{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):_t}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):_t}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):_t}}class ce{constructor(e){_(this,"onChange",()=>{if(!this.supported)return;const t=this.player.elements.buttons.fullscreen;c.element(t)&&(t.pressed=this.active);const s=this.target===this.player.media?this.target:this.player.elements.container;O.call(this.player,s,this.active?"enterfullscreen":"exitfullscreen",!0)}),_(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",U(this.target,this.player.config.classNames.fullscreen.fallback,t),Q.isIos){let s=document.head.querySelector('meta[name="viewport"]');const n="viewport-fit=cover";s||(s=document.createElement("meta"),s.setAttribute("name","viewport"));const r=c.string(s.content)&&s.content.includes(n);t?(this.cleanupViewport=!r,r||(s.content+=`,${n}`)):this.cleanupViewport&&(s.content=s.content.split(",").filter(a=>a.trim()!==n).join(","))}this.onChange()}),_(this,"trapFocus",t=>{if(Q.isIos||Q.isIPadOS||!this.active||t.key!=="Tab")return;const s=document.activeElement,n=Re.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[r]=n,a=n[n.length-1];s!==a||t.shiftKey?s===r&&t.shiftKey&&(a.focus(),t.preventDefault()):(r.focus(),t.preventDefault())}),_(this,"update",()=>{if(this.supported){let t;t=this.forceFallback?"Fallback (forced)":ce.nativeSupported?"Native":"Fallback",this.player.debug.log(`${t} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");U(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),_(this,"enter",()=>{this.supported&&(Q.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!ce.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?c.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),_(this,"exit",()=>{if(this.supported)if(Q.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),pe(this.player.play());else if(!ce.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!c.empty(this.prefix)){const t=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),_(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=ce.prefix,this.property=ce.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&Sr(this.player.elements.container,e.config.fullscreen.container),j.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),j.call(this.player,this.player.elements.container,"dblclick",t=>{c.element(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),j.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return ce.nativeSupported&&!this.forceFallback}static get prefix(){if(c.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!c.function(document[`${t}ExitFullscreen`])&&!c.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,ce.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||ce.nativeSupported||!Q.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!ce.nativeSupported||this.forceFallback)return at(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return Q.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Je(i,e=1){return new Promise((t,s)=>{const n=new Image,r=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=e?t:s)(n)};Object.assign(n,{onload:r,onerror:r,src:i})})}const W={addStyleHook(){U(this.elements.container,this.config.selectors.container.replace(".",""),!0),U(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(i=!1){i&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void W.toggleNativeControls.call(this,!0);c.element(this.elements.controls)||(A.inject.call(this),this.listeners.controls()),W.toggleNativeControls.call(this),this.isHTML5&&H.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,A.updateVolume.call(this),A.timeUpdate.call(this),A.durationUpdate.call(this),W.checkPlaying.call(this),U(this.elements.container,this.config.classNames.pip.supported,Y.pip&&this.isHTML5&&this.isVideo),U(this.elements.container,this.config.classNames.airplay.supported,Y.airplay&&this.isHTML5),U(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{O.call(this,this.media,"ready")},0),W.setTitle.call(this),this.poster&&W.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&A.durationUpdate.call(this),this.config.mediaMetadata&&A.setMediaMetadata.call(this)},setTitle(){let i=J.get("play",this.config);if(c.string(this.config.title)&&!c.empty(this.config.title)&&(i+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",i)}),this.isEmbed){const e=X.call(this,"iframe");if(!c.element(e))return;const t=c.empty(this.config.title)?"video":this.config.title,s=J.get("frameTitle",this.config);e.setAttribute("title",s.replace("{title}",t))}},togglePoster(i){U(this.elements.container,this.config.classNames.posterEnabled,i)},setPoster(i,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",i),this.elements.poster.removeAttribute("hidden"),xr.call(this).then(()=>Je(i)).catch(t=>{throw i===this.poster&&W.togglePoster.call(this,!1),t}).then(()=>{if(i!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${i}')`,backgroundSize:""}),W.togglePoster.call(this,!0),i)))},checkPlaying(i){U(this.elements.container,this.config.classNames.playing,this.playing),U(this.elements.container,this.config.classNames.paused,this.paused),U(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",J.get(this.playing?"pause":"play",this.config))}),c.event(i)&&i.type==="timeupdate"||W.toggleControls.call(this)},checkLoading(i){this.loading=["stalled","waiting"].includes(i.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{U(this.elements.container,this.config.classNames.loading,this.loading),W.toggleControls.call(this)},this.loading?250:0)},toggleControls(i){const{controls:e}=this.elements;if(e&&this.config.hideControls){const t=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(i||this.loading||this.paused||e.pressed||e.hover||t))}},migrateStyles(){Object.values({...this.media.style}).filter(i=>!c.empty(i)&&c.string(i)&&i.startsWith("--plyr")).forEach(i=>{this.elements.container.style.setProperty(i,this.media.style.getPropertyValue(i)),this.media.style.removeProperty(i)}),c.empty(this.media.style)&&this.media.removeAttribute("style")}};class Rr{constructor(e){_(this,"firstTouch",()=>{const{player:t}=this,{elements:s}=t;t.touch=!0,U(s.container,t.config.classNames.isTouch,!0)}),_(this,"global",(t=!0)=>{const{player:s}=this;s.config.keyboard.global&&Ne.call(s,window,"keydown keyup",this.handleKey,t,!1),Ne.call(s,document.body,"click",this.toggleMenu,t),Wt.call(s,document.body,"touchstart",this.firstTouch)}),_(this,"container",()=>{const{player:t}=this,{config:s,elements:n,timers:r}=t;!s.keyboard.global&&s.keyboard.focused&&j.call(t,n.container,"keydown keyup",this.handleKey,!1),j.call(t,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",o=>{const{controls:u}=n;u&&o.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let d=0;["touchstart","touchmove","mousemove"].includes(o.type)&&(W.toggleControls.call(t,!0),d=t.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout(()=>W.toggleControls.call(t,!1),d)});const a=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const o=n.wrapper,{active:u}=t.fullscreen,[d,p]=Kt.call(t),m=qi(`aspect-ratio: ${d} / ${p}`);if(!u)return void(m?(o.style.width=null,o.style.height=null):(o.style.maxWidth=null,o.style.margin=null));const[g,y]=Ar(),v=g/y>d/p;m?(o.style.width=v?"auto":"100%",o.style.height=v?"100%":"auto"):(o.style.maxWidth=v?y/p*d+"px":null,o.style.margin=v?"0 auto":null)},l=()=>{clearTimeout(r.resized),r.resized=setTimeout(a,50)};j.call(t,n.container,"enterfullscreen exitfullscreen",o=>{const{target:u}=t.fullscreen;u===n.container&&(!t.isEmbed&&c.empty(t.config.ratio)||(a(),(o.type==="enterfullscreen"?j:ht).call(t,window,"resize",l)))})}),_(this,"media",()=>{const{player:t}=this,{elements:s}=t;if(j.call(t,t.media,"timeupdate seeking seeked",r=>A.timeUpdate.call(t,r)),j.call(t,t.media,"durationchange loadeddata loadedmetadata",r=>A.durationUpdate.call(t,r)),j.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),j.call(t,t.media,"progress playing seeking seeked",r=>A.updateProgress.call(t,r)),j.call(t,t.media,"volumechange",r=>A.updateVolume.call(t,r)),j.call(t,t.media,"playing play pause ended emptied timeupdate",r=>W.checkPlaying.call(t,r)),j.call(t,t.media,"waiting canplay seeked playing",r=>W.checkLoading.call(t,r)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const r=X.call(t,`.${t.config.classNames.video}`);if(!c.element(r))return;j.call(t,s.container,"click",a=>{([s.container,r].includes(a.target)||r.contains(a.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(a,t.restart,"restart"),this.proxy(a,()=>{pe(t.play())},"play")):this.proxy(a,()=>{pe(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&j.call(t,s.wrapper,"contextmenu",r=>{r.preventDefault()},!1),j.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),j.call(t,t.media,"ratechange",()=>{A.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),j.call(t,t.media,"qualitychange",r=>{A.updateSetting.call(t,"quality",null,r.detail.quality)}),j.call(t,t.media,"ready qualitychange",()=>{A.setDownloadUrl.call(t)});const n=t.config.events.concat(["keyup","keydown"]).join(" ");j.call(t,t.media,n,r=>{let{detail:a={}}=r;r.type==="error"&&(a=t.media.error),O.call(t,s.container,r.type,!0,a)})}),_(this,"proxy",(t,s,n)=>{const{player:r}=this,a=r.config.listeners[n];let l=!0;c.function(a)&&(l=a.call(r,t)),l!==!1&&c.function(s)&&s.call(r,t)}),_(this,"bind",(t,s,n,r,a=!0)=>{const{player:l}=this,o=l.config.listeners[r],u=c.function(o);j.call(l,t,s,d=>this.proxy(d,n,r),a&&!u)}),_(this,"controls",()=>{const{player:t}=this,{elements:s}=t,n=Q.isIE?"change":"input";if(s.buttons.play&&Array.from(s.buttons.play).forEach(r=>{this.bind(r,"click",()=>{pe(t.togglePlay())},"play")}),this.bind(s.buttons.restart,"click",t.restart,"restart"),this.bind(s.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(s.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(s.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(s.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(s.buttons.download,"click",()=>{O.call(t,t.media,"download")},"download"),this.bind(s.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(s.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(s.buttons.airplay,"click",t.airplay,"airplay"),this.bind(s.buttons.settings,"click",r=>{r.stopPropagation(),r.preventDefault(),A.toggleMenu.call(t,r)},null,!1),this.bind(s.buttons.settings,"keyup",r=>{[" ","Enter"].includes(r.key)&&(r.key!=="Enter"?(r.preventDefault(),r.stopPropagation(),A.toggleMenu.call(t,r)):A.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(s.settings.menu,"keydown",r=>{r.key==="Escape"&&A.toggleMenu.call(t,r)}),this.bind(s.inputs.seek,"mousedown mousemove",r=>{const a=s.progress.getBoundingClientRect(),l=100/a.width*(r.pageX-a.left);r.currentTarget.setAttribute("seek-value",l)}),this.bind(s.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",r=>{const a=r.currentTarget,l="play-on-seeked";if(c.keyboardEvent(r)&&!["ArrowLeft","ArrowRight"].includes(r.key))return;t.lastSeekTime=Date.now();const o=a.hasAttribute(l),u=["mouseup","touchend","keyup"].includes(r.type);o&&u?(a.removeAttribute(l),pe(t.play())):!u&&t.playing&&(a.setAttribute(l,""),t.pause())}),Q.isIos){const r=Re.call(t,'input[type="range"]');Array.from(r).forEach(a=>this.bind(a,n,l=>Ri(l.target)))}this.bind(s.inputs.seek,n,r=>{const a=r.currentTarget;let l=a.getAttribute("seek-value");c.empty(l)&&(l=a.value),a.removeAttribute("seek-value"),t.currentTime=l/a.max*t.duration},"seek"),this.bind(s.progress,"mouseenter mouseleave mousemove",r=>A.updateSeekTooltip.call(t,r)),this.bind(s.progress,"mousemove touchmove",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startMove(r)}),this.bind(s.progress,"mouseleave touchend click",()=>{const{previewThumbnails:r}=t;r&&r.loaded&&r.endMove(!1,!0)}),this.bind(s.progress,"mousedown touchstart",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startScrubbing(r)}),this.bind(s.progress,"mouseup touchend",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.endScrubbing(r)}),Q.isWebKit&&Array.from(Re.call(t,'input[type="range"]')).forEach(r=>{this.bind(r,"input",a=>A.updateRangeFill.call(t,a.target))}),t.config.toggleInvert&&!c.element(s.display.duration)&&this.bind(s.display.currentTime,"click",()=>{t.currentTime!==0&&(t.config.invertTime=!t.config.invertTime,A.timeUpdate.call(t))}),this.bind(s.inputs.volume,n,r=>{t.volume=r.target.value},"volume"),this.bind(s.controls,"mouseenter mouseleave",r=>{s.controls.hover=!t.touch&&r.type==="mouseenter"}),s.fullscreen&&Array.from(s.fullscreen.children).filter(r=>!r.contains(s.container)).forEach(r=>{this.bind(r,"mouseenter mouseleave",a=>{s.controls&&(s.controls.hover=!t.touch&&a.type==="mouseenter")})}),this.bind(s.controls,"mousedown mouseup touchstart touchend touchcancel",r=>{s.controls.pressed=["mousedown","touchstart"].includes(r.type)}),this.bind(s.controls,"focusin",()=>{const{config:r,timers:a}=t;U(s.controls,r.classNames.noTransition,!0),W.toggleControls.call(t,!0),setTimeout(()=>{U(s.controls,r.classNames.noTransition,!1)},0);const l=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>W.toggleControls.call(t,!1),l)}),this.bind(s.inputs.volume,"wheel",r=>{const a=r.webkitDirectionInvertedFromDevice,[l,o]=[r.deltaX,-r.deltaY].map(p=>a?-p:p),u=Math.sign(Math.abs(l)>Math.abs(o)?l:o);t.increaseVolume(u/50);const{volume:d}=t.media;(u===1&&d<1||u===-1&&d>0)&&r.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:s}=t,{key:n,type:r,altKey:a,ctrlKey:l,metaKey:o,shiftKey:u}=e,d=r==="keydown",p=d&&n===this.lastKey;if(!(a||l||o||u)&&n){if(d){const g=document.activeElement;if(c.element(g)){const{editable:y}=t.config.selectors,{seek:v}=s.inputs;if(g!==v&&Ae(g,y)||e.key===" "&&Ae(g,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p||(m=parseInt(n,10),t.currentTime=t.duration/10*m);break;case" ":case"k":p||pe(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":p||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":p||t.toggleCaptions();break;case"l":t.loop=!t.loop}n==="Escape"&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null;var m}}toggleMenu(e){A.toggleMenu.call(this.player,e)}}function Nr(i,e){return i(e={exports:{}},e.exports),e.exports}var $r=Nr(function(i,e){i.exports=function(){var t=function(){},s={},n={},r={};function a(m,g){m=m.push?m:[m];var y,v,k,b=[],h=m.length,f=h;for(y=function(w,E){E.length&&b.push(w),--f||g(b)};h--;)v=m[h],(k=n[v])?y(v,k):(r[v]=r[v]||[]).push(y)}function l(m,g){if(m){var y=r[m];if(n[m]=g,y)for(;y.length;)y[0](m,g),y.splice(0,1)}}function o(m,g){m.call&&(m={success:m}),g.length?(m.error||t)(g):(m.success||t)(m)}function u(m,g,y,v){var k,b,h=document,f=y.async,w=(y.numRetries||0)+1,E=y.before||t,M=m.replace(/[\?|#].*$/,""),q=m.replace(/^(css|img)!/,"");v=v||0,/(^css!|\.css$)/.test(M)?((b=h.createElement("link")).rel="stylesheet",b.href=q,(k="hideFocus"in b)&&b.relList&&(k=0,b.rel="preload",b.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(M)?(b=h.createElement("img")).src=q:((b=h.createElement("script")).src=m,b.async=f===void 0||f),b.onload=b.onerror=b.onbeforeload=function(N){var B=N.type[0];if(k)try{b.sheet.cssText.length||(B="e")}catch(C){C.code!=18&&(B="e")}if(B=="e"){if((v+=1)<w)return u(m,g,y,v)}else if(b.rel=="preload"&&b.as=="style")return b.rel="stylesheet";g(m,B,N.defaultPrevented)},E(m,b)!==!1&&h.head.appendChild(b)}function d(m,g,y){var v,k,b=(m=m.push?m:[m]).length,h=b,f=[];for(v=function(w,E,M){if(E=="e"&&f.push(w),E=="b"){if(!M)return;f.push(w)}--b||g(f)},k=0;k<h;k++)u(m[k],v,y)}function p(m,g,y){var v,k;if(g&&g.trim&&(v=g),k=(v?y:g)||{},v){if(v in s)throw"LoadJS";s[v]=!0}function b(h,f){d(m,function(w){o(k,w),h&&o({success:h,error:f},w),l(v,w)},k)}if(k.returnPromise)return new Promise(b);b()}return p.ready=function(m,g){return a(m,function(y){o(g,y)}),p},p.done=function(m){l(m,[])},p.reset=function(){s={},n={},r={}},p.isDefined=function(m){return m in s},p}()});function Yt(i){return new Promise((e,t)=>{$r(i,{success:e,error:t})})}function zr(i){return c.empty(i)?null:c.number(Number(i))?i:i.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:i}function qr(i){const e=i.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&e.length===5?e[4]:null}function Pe(i){i&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===i&&(this.media.paused=!i,O.call(this,this.media,i?"play":"pause"))}const Vt={setup(){const i=this;U(i.elements.wrapper,i.config.classNames.embed,!0),i.options.speed=i.config.speed.options,Le.call(i),c.object(window.Vimeo)?Vt.ready.call(i):Yt(i.config.urls.vimeo.sdk).then(()=>{Vt.ready.call(i)}).catch(e=>{i.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const i=this,e=i.config.vimeo,{premium:t,referrerPolicy:s,...n}=e;let r=i.media.getAttribute("src"),a="";c.empty(r)?(r=i.media.getAttribute(i.config.attributes.embed.id),a=i.media.getAttribute(i.config.attributes.embed.hash)):a=qr(r);const l=a?{h:a}:{};t&&Object.assign(n,{controls:!1,sidedock:!1});const o=Yi({loop:i.config.loop.active,autoplay:i.autoplay,muted:i.muted,gesture:"media",playsinline:i.config.playsinline,...l,...n}),u=zr(r),d=D("iframe"),p=Bt(i.config.urls.vimeo.iframe,u,o);if(d.setAttribute("src",p),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),c.empty(s)||d.setAttribute("referrerPolicy",s),t||!e.customControls)d.setAttribute("data-poster",i.poster),i.media=rt(d,i.media);else{const h=D("div",{class:i.config.classNames.embedContainer,"data-poster":i.poster});h.appendChild(d),i.media=rt(h,i.media)}e.customControls||Ge(Bt(i.config.urls.vimeo.api,p)).then(h=>{!c.empty(h)&&h.thumbnail_url&&W.setPoster.call(i,h.thumbnail_url).catch(()=>{})}),i.embed=new window.Vimeo.Player(d,{autopause:i.config.autopause,muted:i.muted}),i.media.paused=!0,i.media.currentTime=0,i.supported.ui&&i.embed.disableTextTrack(),i.media.play=()=>(Pe.call(i,!0),i.embed.play()),i.media.pause=()=>(Pe.call(i,!1),i.embed.pause()),i.media.stop=()=>{i.pause(),i.currentTime=0};let{currentTime:m}=i.media;Object.defineProperty(i.media,"currentTime",{get:()=>m,set(h){const{embed:f,media:w,paused:E,volume:M}=i,q=E&&!f.hasPlayed;w.seeking=!0,O.call(i,w,"seeking"),Promise.resolve(q&&f.setVolume(0)).then(()=>f.setCurrentTime(h)).then(()=>q&&f.pause()).then(()=>q&&f.setVolume(M)).catch(()=>{})}});let g=i.config.speed.selected;Object.defineProperty(i.media,"playbackRate",{get:()=>g,set(h){i.embed.setPlaybackRate(h).then(()=>{g=h,O.call(i,i.media,"ratechange")}).catch(()=>{i.options.speed=[1]})}});let{volume:y}=i.config;Object.defineProperty(i.media,"volume",{get:()=>y,set(h){i.embed.setVolume(h).then(()=>{y=h,O.call(i,i.media,"volumechange")})}});let{muted:v}=i.config;Object.defineProperty(i.media,"muted",{get:()=>v,set(h){const f=!!c.boolean(h)&&h;i.embed.setMuted(!!f||i.config.muted).then(()=>{v=f,O.call(i,i.media,"volumechange")})}});let k,{loop:b}=i.config;Object.defineProperty(i.media,"loop",{get:()=>b,set(h){const f=c.boolean(h)?h:i.config.loop.active;i.embed.setLoop(f).then(()=>{b=f})}}),i.embed.getVideoUrl().then(h=>{k=h,A.setDownloadUrl.call(i)}).catch(h=>{this.debug.warn(h)}),Object.defineProperty(i.media,"currentSrc",{get:()=>k}),Object.defineProperty(i.media,"ended",{get:()=>i.currentTime===i.duration}),Promise.all([i.embed.getVideoWidth(),i.embed.getVideoHeight()]).then(h=>{const[f,w]=h;i.embed.ratio=Hi(f,w),Le.call(this)}),i.embed.setAutopause(i.config.autopause).then(h=>{i.config.autopause=h}),i.embed.getVideoTitle().then(h=>{i.config.title=h,W.setTitle.call(this)}),i.embed.getCurrentTime().then(h=>{m=h,O.call(i,i.media,"timeupdate")}),i.embed.getDuration().then(h=>{i.media.duration=h,O.call(i,i.media,"durationchange")}),i.embed.getTextTracks().then(h=>{i.media.textTracks=h,H.setup.call(i)}),i.embed.on("cuechange",({cues:h=[]})=>{const f=h.map(w=>Pr(w.text));H.updateCues.call(i,f)}),i.embed.on("loaded",()=>{i.embed.getPaused().then(h=>{Pe.call(i,!h),h||O.call(i,i.media,"playing")}),c.element(i.embed.element)&&i.supported.ui&&i.embed.element.setAttribute("tabindex",-1)}),i.embed.on("bufferstart",()=>{O.call(i,i.media,"waiting")}),i.embed.on("bufferend",()=>{O.call(i,i.media,"playing")}),i.embed.on("play",()=>{Pe.call(i,!0),O.call(i,i.media,"playing")}),i.embed.on("pause",()=>{Pe.call(i,!1)}),i.embed.on("timeupdate",h=>{i.media.seeking=!1,m=h.seconds,O.call(i,i.media,"timeupdate")}),i.embed.on("progress",h=>{i.media.buffered=h.percent,O.call(i,i.media,"progress"),parseInt(h.percent,10)===1&&O.call(i,i.media,"canplaythrough"),i.embed.getDuration().then(f=>{f!==i.media.duration&&(i.media.duration=f,O.call(i,i.media,"durationchange"))})}),i.embed.on("seeked",()=>{i.media.seeking=!1,O.call(i,i.media,"seeked")}),i.embed.on("ended",()=>{i.media.paused=!0,O.call(i,i.media,"ended")}),i.embed.on("error",h=>{i.media.error=h,O.call(i,i.media,"error")}),e.customControls&&setTimeout(()=>W.build.call(i),0)}};function jr(i){return c.empty(i)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i}function Fe(i){i&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===i&&(this.media.paused=!i,O.call(this,this.media,i?"play":"pause"))}function Hr(i){return i.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Qe={setup(){if(U(this.elements.wrapper,this.config.classNames.embed,!0),c.object(window.YT)&&c.function(window.YT.Player))Qe.ready.call(this);else{const i=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{c.function(i)&&i(),Qe.ready.call(this)},Yt(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(i){Ge(Bt(this.config.urls.youtube.api,i)).then(e=>{if(c.object(e)){const{title:t,height:s,width:n}=e;this.config.title=t,W.setTitle.call(this),this.embed.ratio=Hi(n,s)}Le.call(this)}).catch(()=>{Le.call(this)})},ready(){const i=this,e=i.config.youtube,t=i.media&&i.media.getAttribute("id");if(!c.empty(t)&&t.startsWith("youtube-"))return;let s=i.media.getAttribute("src");c.empty(s)&&(s=i.media.getAttribute(this.config.attributes.embed.id));const n=jr(s),r=D("div",{id:_r(i.provider),"data-poster":e.customControls?i.poster:void 0});if(i.media=rt(r,i.media),e.customControls){const a=l=>`https://i.ytimg.com/vi/${n}/${l}default.jpg`;Je(a("maxres"),121).catch(()=>Je(a("sd"),121)).catch(()=>Je(a("hq"))).then(l=>W.setPoster.call(i,l.src)).then(l=>{l.includes("maxres")||(i.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}i.embed=new window.YT.Player(i.media,{videoId:n,host:Hr(e),playerVars:K({},{autoplay:i.config.autoplay?1:0,hl:i.config.hl,controls:i.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:i.config.playsinline&&!i.config.fullscreen.iosNative?1:0,cc_load_policy:i.captions.active?1:0,cc_lang_pref:i.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(a){if(!i.media.error){const l=a.data,o={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[l]||"An unknown error occurred";i.media.error={code:l,message:o},O.call(i,i.media,"error")}},onPlaybackRateChange(a){const l=a.target;i.media.playbackRate=l.getPlaybackRate(),O.call(i,i.media,"ratechange")},onReady(a){if(c.function(i.media.play))return;const l=a.target;Qe.getTitle.call(i,n),i.media.play=()=>{Fe.call(i,!0),l.playVideo()},i.media.pause=()=>{Fe.call(i,!1),l.pauseVideo()},i.media.stop=()=>{l.stopVideo()},i.media.duration=l.getDuration(),i.media.paused=!0,i.media.currentTime=0,Object.defineProperty(i.media,"currentTime",{get:()=>Number(l.getCurrentTime()),set(p){i.paused&&!i.embed.hasPlayed&&i.embed.mute(),i.media.seeking=!0,O.call(i,i.media,"seeking"),l.seekTo(p)}}),Object.defineProperty(i.media,"playbackRate",{get:()=>l.getPlaybackRate(),set(p){l.setPlaybackRate(p)}});let{volume:o}=i.config;Object.defineProperty(i.media,"volume",{get:()=>o,set(p){o=p,l.setVolume(100*o),O.call(i,i.media,"volumechange")}});let{muted:u}=i.config;Object.defineProperty(i.media,"muted",{get:()=>u,set(p){const m=c.boolean(p)?p:u;u=m,l[m?"mute":"unMute"](),l.setVolume(100*o),O.call(i,i.media,"volumechange")}}),Object.defineProperty(i.media,"currentSrc",{get:()=>l.getVideoUrl()}),Object.defineProperty(i.media,"ended",{get:()=>i.currentTime===i.duration});const d=l.getAvailablePlaybackRates();i.options.speed=d.filter(p=>i.config.speed.options.includes(p)),i.supported.ui&&e.customControls&&i.media.setAttribute("tabindex",-1),O.call(i,i.media,"timeupdate"),O.call(i,i.media,"durationchange"),clearInterval(i.timers.buffering),i.timers.buffering=setInterval(()=>{i.media.buffered=l.getVideoLoadedFraction(),(i.media.lastBuffered===null||i.media.lastBuffered<i.media.buffered)&&O.call(i,i.media,"progress"),i.media.lastBuffered=i.media.buffered,i.media.buffered===1&&(clearInterval(i.timers.buffering),O.call(i,i.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>W.build.call(i),50)},onStateChange(a){const l=a.target;switch(clearInterval(i.timers.playing),i.media.seeking&&[1,2].includes(a.data)&&(i.media.seeking=!1,O.call(i,i.media,"seeked")),a.data){case-1:O.call(i,i.media,"timeupdate"),i.media.buffered=l.getVideoLoadedFraction(),O.call(i,i.media,"progress");break;case 0:Fe.call(i,!1),i.media.loop?(l.stopVideo(),l.playVideo()):O.call(i,i.media,"ended");break;case 1:e.customControls&&!i.config.autoplay&&i.media.paused&&!i.embed.hasPlayed?i.media.pause():(Fe.call(i,!0),O.call(i,i.media,"playing"),i.timers.playing=setInterval(()=>{O.call(i,i.media,"timeupdate")},50),i.media.duration!==l.getDuration()&&(i.media.duration=l.getDuration(),O.call(i,i.media,"durationchange")));break;case 2:i.muted||i.embed.unMute(),Fe.call(i,!1);break;case 3:O.call(i,i.media,"waiting")}O.call(i,i.elements.container,"statechange",!1,{code:a.data})}}})}},Zi={setup(){this.media?(U(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),U(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&U(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=D("div",{class:this.config.classNames.video}),$i(this.media,this.elements.wrapper),this.elements.poster=D("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Se.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&Vt.setup.call(this)):this.debug.warn("No media element found!")}};class Gr{constructor(e){_(this,"load",()=>{this.enabled&&(c.object(window.google)&&c.object(window.google.ima)?this.ready():Yt(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),_(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),_(this,"setupIMA",()=>{this.elements.container=D("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),_(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const s=new google.ima.AdsRequest;s.adTagUrl=this.tagUrl,s.linearAdSlotWidth=t.offsetWidth,s.linearAdSlotHeight=t.offsetHeight,s.nonLinearAdSlotWidth=t.offsetWidth,s.nonLinearAdSlotHeight=t.offsetHeight,s.forceNonLinearFullSlot=!1,s.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(s)}catch(s){this.onAdError(s)}}),_(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const s=pt(Math.max(this.manager.getRemainingTime(),0)),n=`${J.get("advertisement",this.player.config)} - ${s}`;this.elements.container.setAttribute("data-badge-text",n)},100)}),_(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const s=new google.ima.AdsRenderingSettings;s.restoreCustomPlaybackStateOnAdBreakComplete=!0,s.enablePreloading=!0,this.manager=t.getAdsManager(this.player,s),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n)),Object.keys(google.ima.AdEvent.Type).forEach(n=>{this.manager.addEventListener(google.ima.AdEvent.Type[n],r=>this.onAdEvent(r))}),this.trigger("loaded")}),_(this,"addCuePoints",()=>{c.empty(this.cuePoints)||this.cuePoints.forEach(t=>{if(t!==0&&t!==-1&&t<this.player.duration){const s=this.player.elements.progress;if(c.element(s)){const n=100/this.player.duration*t,r=D("span",{class:this.player.config.classNames.cues});r.style.left=`${n.toString()}%`,s.appendChild(r)}}})}),_(this,"onAdEvent",t=>{const{container:s}=this.player.elements,n=t.getAd(),r=t.getAdData();switch((a=>{O.call(this.player,this.player.media,`ads${a.replace(/_/g,"").toLowerCase()}`)})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=s.offsetWidth,n.height=s.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn(`Non-fatal ad error: ${r.adError.getMessage()}`)}}),_(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),_(this,"listeners",()=>{const{container:t}=this.player.elements;let s;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{s=this.player.currentTime}),this.player.on("seeked",()=>{const n=this.player.currentTime;c.empty(this.cuePoints)||this.cuePoints.forEach((r,a)=>{s<r&&r<n&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),_(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(s){this.onAdError(s)}}).catch(()=>{})}),_(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,pe(this.player.media.play())}),_(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),_(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),_(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),_(this,"trigger",(t,...s)=>{const n=this.events[t];c.array(n)&&n.forEach(r=>{c.function(r)&&r.apply(this,s)})}),_(this,"on",(t,s)=>(c.array(this.events[t])||(this.events[t]=[]),this.events[t].push(s),this)),_(this,"startSafetyTimer",(t,s)=>{this.player.debug.log(`Safety timer invoked from: ${s}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),_(this,"clearSafetyTimer",t=>{c.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${t}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,s)=>{this.on("loaded",t),this.on("error",s)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!c.empty(e.publisherId)||c.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return c.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Yi({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Ji(i=0,e=0,t=255){return Math.min(Math.max(i,e),t)}const Ur=i=>{const e=[];return i.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const s={};t.split(/\r\n|\n|\r/).forEach(n=>{if(c.number(s.startTime)){if(!c.empty(n.trim())&&c.empty(s.text)){const r=n.trim().split("#xywh=");[s.text]=r,r[1]&&([s.x,s.y,s.w,s.h]=r[1].split(","))}}else{const r=n.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(s.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+ +`0.${r[4]}`,s.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+ +`0.${r[9]}`)}}),s.text&&e.push(s)}),e},di=(i,e)=>{const t={};return i>e.width/e.height?(t.width=e.width,t.height=1/i*e.width):(t.height=e.height,t.width=i*e.height),t};class Rt{constructor(e){_(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),_(this,"getThumbnails",()=>new Promise(t=>{const{src:s}=this.player.config.previewThumbnails;if(c.empty(s))throw new Error("Missing previewThumbnails.src config attribute");const n=()=>{this.thumbnails.sort((r,a)=>r.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(c.function(s))s(r=>{this.thumbnails=r,n()});else{const r=(c.string(s)?[s]:s).map(a=>this.getThumbnail(a));Promise.all(r).then(n)}})),_(this,"getThumbnail",t=>new Promise(s=>{Ge(t).then(n=>{const r={frames:Ur(n),height:null,urlPrefix:""};r.frames[0].text.startsWith("/")||r.frames[0].text.startsWith("http://")||r.frames[0].text.startsWith("https://")||(r.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{r.height=a.naturalHeight,r.width=a.naturalWidth,this.thumbnails.push(r),s()},a.src=r.urlPrefix+r.frames[0].text})})),_(this,"startMove",t=>{if(this.loaded&&c.event(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if(t.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var s,n;const r=this.player.elements.progress.getBoundingClientRect(),a=100/r.width*(t.pageX-r.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=pt(this.seekTime);const l=(s=this.player.config.markers)===null||s===void 0||(n=s.points)===null||n===void 0?void 0:n.find(({time:o})=>o===Math.round(this.seekTime));l&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${l.label}<br>`)}this.showImageAtCurrentTime()}}),_(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),_(this,"startScrubbing",t=>{(c.nullOrUndefined(t.button)||t.button===!1||t.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),_(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Wt.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),_(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),_(this,"render",()=>{this.elements.thumb.container=D("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=D("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=D("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=D("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),c.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=D("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),_(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),_(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(r=>this.seekTime>=r.startTime&&this.seekTime<=r.endTime),s=t>=0;let n=0;this.mouseDown||this.toggleThumbContainer(s),s&&(this.thumbnails.forEach((r,a)=>{this.loadedImages.includes(r.frames[t].text)&&(n=a)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(n)))}),_(this,"loadImage",(t=0)=>{const s=this.showingThumb,n=this.thumbnails[t],{urlPrefix:r}=n,a=n.frames[s],l=n.frames[s].text,o=r+l;if(this.currentImageElement&&this.currentImageElement.dataset.filename===l)this.showImage(this.currentImageElement,a,t,s,l,!1),this.currentImageElement.dataset.index=s,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=o,u.dataset.index=s,u.dataset.filename=l,this.showingThumbFilename=l,this.player.debug.log(`Loading image: ${o}`),u.onload=()=>this.showImage(u,a,t,s,l,!0),this.loadingImage=u,this.removeOldImages(u)}}),_(this,"showImage",(t,s,n,r,a,l=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${r}. qual: ${n}. newimg: ${l}`),this.setImageSizeAndOffset(t,s),l&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(r,!0).then(this.preloadNearby(r,!1)).then(this.getHigherQuality(n,t,s,a))}),_(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(s=>{if(s.tagName.toLowerCase()!=="img")return;const n=this.usingSprites?500:1e3;if(s.dataset.index!==t.dataset.index&&!s.dataset.deleting){s.dataset.deleting=!0;const{currentImageContainer:r}=this;setTimeout(()=>{r.removeChild(s),this.player.debug.log(`Removing thumb: ${s.dataset.filename}`)},n)}})}),_(this,"preloadNearby",(t,s=!0)=>new Promise(n=>{setTimeout(()=>{const r=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===r){let a;a=s?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let l=!1;a.forEach(o=>{const u=o.text;if(u!==r&&!this.loadedImages.includes(u)){l=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:d}=this.thumbnails[0],p=d+u,m=new Image;m.src=p,m.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),n()}}}),l||n()}},300)})),_(this,"getHigherQuality",(t,s,n,r)=>{if(t<this.thumbnails.length-1){let a=s.naturalHeight;this.usingSprites&&(a=n.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===r&&(this.player.debug.log(`Showing higher quality thumb for: ${r}`),this.loadImage(t+1))},300)}}),_(this,"toggleThumbContainer",(t=!1,s=!1)=>{const n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,t),!t&&s&&(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"toggleScrubbingContainer",(t=!1)=>{const s=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(s,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),_(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const s=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=`${s}px`}else if(t.clientHeight<20&&t.clientWidth>20){const s=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=`${s}px`}}else{const s=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=`${this.thumbContainerHeight}px`,t.style.width=`${s}px`}this.setThumbContainerPos()}),_(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),s=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,r=s.left-t.left+10,a=s.right-t.left-n.clientWidth-10,l=this.mousePosX-t.left-n.clientWidth/2,o=Ji(l,r,a);n.style.left=`${o}px`,n.style.setProperty("--preview-arrow-offset",l-o+"px")}),_(this,"setScrubbingContainerSize",()=>{const{width:t,height:s}=di(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${t}px`,this.elements.scrubbing.container.style.height=`${s}px`}),_(this,"setImageSizeAndOffset",(t,s)=>{if(!this.usingSprites)return;const n=this.thumbContainerHeight/s.h;t.style.height=t.naturalHeight*n+"px",t.style.width=t.naturalWidth*n+"px",t.style.left=`-${s.x*n}px`,t.style.top=`-${s.y*n}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=di(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const Nt={insertElements(i,e){c.string(e)?li(i,this.media,{src:e}):c.array(e)&&e.forEach(t=>{li(i,this.media,t)})},change(i){Ni(i,"sources.length")?(Se.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],ye(this.media),this.media=null,c.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:t}=i,[{provider:s=Ee.html5,src:n}]=e,r=s==="html5"?t:"div",a=s==="html5"?{}:{src:n};Object.assign(this,{provider:s,type:t,supported:Y.check(t,s,this.config.playsinline),media:D(r,a)}),this.elements.container.appendChild(this.media),c.boolean(i.autoplay)&&(this.config.autoplay=i.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),c.empty(i.poster)||(this.poster=i.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),W.addStyleHook.call(this),this.isHTML5&&Nt.insertElements.call(this,"source",e),this.config.title=i.title,Zi.setup.call(this),this.isHTML5&&Object.keys(i).includes("tracks")&&Nt.insertElements.call(this,"track",i.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&W.build.call(this),this.isHTML5&&this.media.load(),c.empty(i.previewThumbnails)||(Object.assign(this.config.previewThumbnails,i.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class ze{constructor(e,t){if(_(this,"play",()=>c.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>pe(this.media.play())),this.media.play()):null),_(this,"pause",()=>this.playing&&c.function(this.media.pause)?this.media.pause():null),_(this,"togglePlay",l=>(c.boolean(l)?l:!this.playing)?this.play():this.pause()),_(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):c.function(this.media.stop)&&this.media.stop()}),_(this,"restart",()=>{this.currentTime=0}),_(this,"rewind",l=>{this.currentTime-=c.number(l)?l:this.config.seekTime}),_(this,"forward",l=>{this.currentTime+=c.number(l)?l:this.config.seekTime}),_(this,"increaseVolume",l=>{const o=this.media.muted?0:this.volume;this.volume=o+(c.number(l)?l:0)}),_(this,"decreaseVolume",l=>{this.increaseVolume(-l)}),_(this,"airplay",()=>{Y.airplay&&this.media.webkitShowPlaybackTargetPicker()}),_(this,"toggleControls",l=>{if(this.supported.ui&&!this.isAudio){const o=at(this.elements.container,this.config.classNames.hideControls),u=l===void 0?void 0:!l,d=U(this.elements.container,this.config.classNames.hideControls,u);if(d&&c.array(this.config.controls)&&this.config.controls.includes("settings")&&!c.empty(this.config.settings)&&A.toggleMenu.call(this,!1),d!==o){const p=d?"controlshidden":"controlsshown";O.call(this,this.media,p)}return!d}return!1}),_(this,"on",(l,o)=>{j.call(this,this.elements.container,l,o)}),_(this,"once",(l,o)=>{Wt.call(this,this.elements.container,l,o)}),_(this,"off",(l,o)=>{ht(this.elements.container,l,o)}),_(this,"destroy",(l,o=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,o?(Object.keys(this.elements).length&&(ye(this.elements.buttons.play),ye(this.elements.captions),ye(this.elements.controls),ye(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),c.function(l)&&l()):(Cr.call(this),Se.cancelRequests.call(this),rt(this.elements.original,this.elements.container),O.call(this,this.elements.original,"destroyed",!0),c.function(l)&&l.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(W.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&c.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),_(this,"supports",l=>Y.mime.call(this,l)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Y.touch,this.media=e,c.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||c.nodeList(this.media)||c.array(this.media))&&(this.media=this.media[0]),this.config=K({},Xi,ze.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Vr(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Y),c.nullOrUndefined(this.media)||!c.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Y.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let r=null,a=null;switch(n){case"div":if(r=this.media.querySelector("iframe"),c.element(r)){if(a=Ki(r.getAttribute("src")),this.provider=Br(a.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",a.search.length){const l=["1","true"];l.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(c.empty(this.provider)||!Object.values(Ee).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=At.video;break;case"video":case"audio":this.type=n,this.provider=Ee.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Y.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Rr(this),this.storage=new $e(this),this.media.plyr=this,c.element(this.elements.container)||(this.elements.container=D("div"),$i(this.media,this.elements.container)),W.migrateStyles.call(this),W.addStyleHook.call(this),Zi.setup.call(this),this.config.debug&&j.call(this,this.elements.container,this.config.events.join(" "),l=>{this.debug.log(`event: ${l.type}`)}),this.fullscreen=new ce(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&W.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Gr(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>pe(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ee.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ee.youtube}get isVimeo(){return this.provider===Ee.vimeo}get isVideo(){return this.type===At.video}get isAudio(){return this.type===At.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const t=c.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return c.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,s=c.number(t)&&t!==1/0?t:0;return e||s}set volume(e){let t=e;c.string(t)&&(t=Number(t)),c.number(t)||(t=this.storage.get("volume")),c.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!c.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;c.boolean(t)||(t=this.storage.get("muted")),c.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;c.number(e)&&(t=e),c.number(t)||(t=this.storage.get("speed")),c.number(t)||(t=this.config.speed.selected);const{minimumSpeed:s,maximumSpeed:n}=this;t=Ji(t,s,n),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,s=this.options.quality;if(!s.length)return;let n=[!c.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(c.number),r=!0;if(!s.includes(n)){const a=zi(s,n);this.debug.warn(`Unsupported quality option: ${n}, using ${a} instead`),n=a,r=!1}t.selected=n,this.media.quality=n,r&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const t=c.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return!!this.media.loop}set source(e){Nt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return c.url(e)?e:this.source}set download(e){c.url(e)&&(this.config.urls.download=e,A.setDownloadUrl.call(this))}set poster(e){this.isVideo?W.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=lt(Kt.call(this));return c.array(e)?e.join(":"):e}set ratio(e){this.isVideo?c.string(e)&&ji(e)?(this.config.ratio=lt(e),Le.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=c.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){H.toggle.call(this,e,!1)}set currentTrack(e){H.set.call(this,e,!1),H.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){H.setLanguage.call(this,e,!1)}get language(){return(H.getCurrentTrack.call(this)||{}).language}set pip(e){if(!Y.pip)return;const t=c.boolean(e)?e:!this.pip;c.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?xt.active:xt.inactive),c.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return Y.pip?c.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===xt.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))}static supported(e,t){return Y.check(e,t)}static loadSprite(e,t){return Ui(e,t)}static setup(e,t={}){let s=null;return c.string(e)?s=Array.from(document.querySelectorAll(e)):c.nodeList(e)?s=Array.from(e):c.array(e)&&(s=e.filter(c.element)),c.empty(s)?null:s.map(n=>new ze(n,t))}}ze.defaults=Er(Xi);const Wr="[data-js-video]";class Kr{constructor(e){this.root=e,this.video=e.querySelector("video.js-player"),this.playButton=e.querySelector("[data-js-video-play-button]"),this.player=null,this.init()}init(){this.player=new ze(this.video,{controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],hideControls:!1,autoplay:!1}),this.root.classList.add("is-stopped"),this.playButton.addEventListener("click",()=>{this.root.classList.remove("is-stopped"),this.root.classList.add("is-started"),this.playButton.blur(),this.player.play()}),this.player.on("play",()=>{this.root.classList.remove("is-stopped"),this.root.classList.add("is-started")})}}class Yr{constructor(){this.init()}init(){document.querySelectorAll(Wr).forEach(e=>new Kr(e))}}function Te(i){return typeof i=="string"||i instanceof String}function hi(i){var e;return typeof i=="object"&&i!=null&&(i==null||(e=i.constructor)==null?void 0:e.name)==="Object"}function Qi(i,e){return Array.isArray(e)?Qi(i,(t,s)=>e.includes(s)):Object.entries(i).reduce((t,s)=>{let[n,r]=s;return e(r,n)&&(t[n]=r),t},{})}const P={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Xr(i){switch(i){case P.LEFT:return P.FORCE_LEFT;case P.RIGHT:return P.FORCE_RIGHT;default:return i}}function Mt(i){return i.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function ot(i,e){if(e===i)return!0;const t=Array.isArray(e),s=Array.isArray(i);let n;if(t&&s){if(e.length!=i.length)return!1;for(n=0;n<e.length;n++)if(!ot(e[n],i[n]))return!1;return!0}if(t!=s)return!1;if(e&&i&&typeof e=="object"&&typeof i=="object"){const r=e instanceof Date,a=i instanceof Date;if(r&&a)return e.getTime()==i.getTime();if(r!=a)return!1;const l=e instanceof RegExp,o=i instanceof RegExp;if(l&&o)return e.toString()==i.toString();if(l!=o)return!1;const u=Object.keys(e);for(n=0;n<u.length;n++)if(!Object.prototype.hasOwnProperty.call(i,u[n]))return!1;for(n=0;n<u.length;n++)if(!ot(i[u[n]],e[u[n]]))return!1;return!0}else if(e&&i&&typeof e=="function"&&typeof i=="function")return e.toString()===i.toString();return!1}class Zr{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?P.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?P.RIGHT:P.LEFT}}function V(i,e){return new V.InputMask(i,e)}function es(i){if(i==null)throw new Error("mask property should be defined");return i instanceof RegExp?V.MaskedRegExp:Te(i)?V.MaskedPattern:i===Date?V.MaskedDate:i===Number?V.MaskedNumber:Array.isArray(i)||i===Array?V.MaskedDynamic:V.Masked&&i.prototype instanceof V.Masked?i:V.Masked&&i instanceof V.Masked?i.constructor:i instanceof Function?V.MaskedFunction:(console.warn("Mask not found for mask",i),V.Masked)}function qe(i){if(!i)throw new Error("Options in not defined");if(V.Masked){if(i.prototype instanceof V.Masked)return{mask:i};const{mask:e=void 0,...t}=i instanceof V.Masked?{mask:i}:hi(i)&&i.mask instanceof V.Masked?i:{};if(e){const s=e.mask;return{...Qi(e,(n,r)=>!r.startsWith("_")),mask:e.constructor,_mask:s,...t}}}return hi(i)?{...i}:{mask:i}}function be(i){if(V.Masked&&i instanceof V.Masked)return i;const e=qe(i),t=es(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}V.createMask=be;class Xt{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}V.MaskElement=Xt;const pi=90,Jr=89;class mt extends Xt{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,s;return(e=(t=(s=this.input).getRootNode)==null?void 0:t.call(s))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===pi&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===Jr&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===pi&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}V.HTMLMaskElement=mt;class Qr extends mt{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}V.HTMLMaskElement=mt;class ts extends mt{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||s==null||s<n?s:n}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||s==null||s>n?s:n}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,e),s.setEnd(this.input.lastChild||this.input,t);const n=this.rootElement,r=n.getSelection&&n.getSelection();r&&(r.removeAllRanges(),r.addRange(s))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}V.HTMLContenteditableMaskElement=ts;class ft{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>ft.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}ft.MAX_LENGTH=100;let ea=class{constructor(e,t){this.el=e instanceof Xt?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new ts(e):new Qr(e),this.masked=be(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new ft,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof V.Masked)&&this.masked.constructor===es(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof V.Masked?e:be({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const s=this._listeners[e];s&&s.forEach(n=>n(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,s=this.masked.value,n=this.masked.rawInputValue,r=this.displayValue,a=this.unmaskedValue!==t||this.value!==s||this._rawInputValue!==n;this._unmaskedValue=t,this._value=s,this._rawInputValue=n,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),a&&this._fireChangeEvents(),!this._historyChanging&&(a||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...s}=e,n=!this.maskEquals(t),r=this.masked.optionsIsChanged(s);n&&(this.mask=t),r&&this.masked.updateOptions(s),(n||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,P.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const s=this._listeners[e].indexOf(t);return s>=0&&this._listeners[e].splice(s,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new Zr({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,n=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=s===this.masked.rawInputValue?t.removeDirection:P.NONE;let a=this.masked.nearestInputPos(t.startChangePos+n,r);r!==P.NONE&&(a=this.masked.nearestInputPos(a,P.NONE)),this.updateControl(a),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};V.InputMask=ea;class z{static normalize(e){return Array.isArray(e)?e:[e,new z]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}V.ChangeDetails=z;class fe{constructor(e,t,s){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=s}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class te{constructor(e){this._value="",this._update({...te.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new fe(this.extractInput(e,t),e)}appendTail(e){return Te(e)&&(e=new fe(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new z({inserted:e,rawInserted:e})):new z}_appendChar(e,t,s){t===void 0&&(t={});const n=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const a=this.state;this.state=n;let l=this.pad(t);const o=this._appendCharRaw(e,t);l=l.aggregate(o),o.rawInserted||l.equals(r)?r=l:this.state=a}if(r.inserted){let a,l=this.doValidate(t)!==!1;if(l&&s!=null){const o=this.state;if(this.overwrite===!0){a=s.state;for(let d=0;d<r.rawInserted.length;++d)s.unshift(this.displayValue.length-r.tailShift)}let u=this.appendTail(s);if(l=u.rawInserted.length===s.toString().length,!(l&&u.inserted)&&this.overwrite==="shift"){this.state=o,a=s.state;for(let d=0;d<r.rawInserted.length;++d)s.shift();u=this.appendTail(s),l=u.rawInserted.length===s.toString().length}l&&u.inserted&&(this.state=o)}l||(r=new z,this.state=n,s&&a&&(s.state=a))}return r}_appendPlaceholder(){return new z}_appendEager(){return new z}append(e,t,s){if(!Te(e))throw new Error("value should be string");const n=Te(s)?new fe(String(s)):s;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let a=0;a<e.length;++a){const l=this._appendChar(e[a],t,n);if(!l.rawInserted&&!this.doSkipInvalid(e[a],t,n))break;r.aggregate(l)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),n!=null&&(r.tailShift+=this.appendTail(n).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new z}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,s=this.value,n=e();return this.rawInputValue=t,this.value&&this.value!==s&&s.indexOf(this.value)===0&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,n}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,s=e(this);return this.state=t,delete this._isolated,s}doSkipInvalid(e,t,s){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),z.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),z.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,s,n,r){s===void 0&&(s=""),n===void 0&&(n=P.NONE),r===void 0&&(r={input:!0});const a=e+t,l=this.extractTail(a),o=this.eager===!0||this.eager==="remove";let u;o&&(n=Xr(n),u=this.extractInput(0,a,{raw:!0}));let d=e;const p=new z;if(n!==P.NONE&&(d=this.nearestInputPos(e,t>1&&e!==0&&!o?P.NONE:n),p.tailShift=d-e),p.aggregate(this.remove(d)),o&&n!==P.NONE&&u===this.rawInputValue)if(n===P.FORCE_LEFT){let m;for(;u===this.rawInputValue&&(m=this.displayValue.length);)p.aggregate(new z({tailShift:-1})).aggregate(this.remove(m-1))}else n===P.FORCE_RIGHT&&l.unshift();return p.aggregate(this.append(s,r,l))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!ot(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||te.EMPTY_VALUES.includes(e)&&te.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new z}}te.DEFAULTS={skipInvalid:!0};te.EMPTY_VALUES=[void 0,null,""];V.Masked=te;class _e{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Te(e)?new fe(String(e)):e;const t=this.chunks[this.chunks.length-1],s=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof fe)s?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof _e){if(e.stop==null){let n;for(;e.chunks.length&&e.chunks[0].stop==null;)n=e.chunks.shift(),n.from+=e.from,this.extend(n)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof V.MaskedPattern))return new fe(this.toString()).appendTo(e);const t=new z;for(let s=0;s<this.chunks.length;++s){const n=this.chunks[s],r=e._mapPosToBlock(e.displayValue.length),a=n.stop;let l;if(a!=null&&(!r||r.index<=a)&&((n instanceof _e||e._stops.indexOf(a)>=0)&&t.aggregate(e._appendPlaceholder(a)),l=n instanceof _e&&e._blocks[a]),l){const o=l.appendTail(n);t.aggregate(o);const u=n.toString().slice(o.rawInserted.length);u&&t.aggregate(e.append(u,{tail:!0}))}else t.aggregate(e.append(n.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...s}=e;Object.assign(this,s),this.chunks=t.map(n=>{const r="chunks"in n?new _e:new fe;return r.state=n,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let s=0;for(;s<this.chunks.length;){const n=this.chunks[s],r=n.unshift(t);if(n.toString()){if(!r)break;++s}else this.chunks.splice(s,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],s=t.shift();if(t.toString()){if(!s)break;--e}else this.chunks.splice(e,1);if(s)return s}return""}}class ta{constructor(e,t){this.masked=e,this._log=[];const{offset:s,index:n}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=n,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,P.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,P.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,P.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,P.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,P.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,P.NONE),!0})}}class is{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new z}nearestInputPos(e,t){t===void 0&&(t=P.NONE);const s=0,n=this._value.length;switch(t){case P.LEFT:case P.FORCE_LEFT:return s;case P.NONE:case P.RIGHT:case P.FORCE_RIGHT:default:return n}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),s===void 0&&(s={}),s.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new z;const s=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!s)&&!t.tail,a=new z({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),a}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new z;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new fe("")}appendTail(e){return Te(e)&&(e=new fe(String(e))),e.appendTo(this)}append(e,t,s){const n=this._appendChar(e[0],t);return s!=null&&(n.tailShift+=this.appendTail(s).tailShift),n}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class ut{constructor(e){const{parent:t,isOptional:s,placeholderChar:n,displayChar:r,lazy:a,eager:l,...o}=e;this.masked=be(o),Object.assign(this,{parent:t,isOptional:s,placeholderChar:n,displayChar:r,lazy:a,eager:l})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new z}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new z;const s=this.masked.state;let n=this.masked._appendChar(e,this.currentMaskFlags(t));return n.inserted&&this.doValidate(t)===!1&&(n=new z,this.masked.state=s),!n.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(n.inserted=this.placeholderChar),n.skip=!n.inserted&&!this.isOptional,this.isFilled=!!n.inserted,n}append(e,t,s){return this.masked.append(e,this.currentMaskFlags(t),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new z:(this.isFilled=!0,new z({inserted:this.placeholderChar}))}_appendEager(){return new z}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,s)}nearestInputPos(e,t){t===void 0&&(t=P.NONE);const s=0,n=this.value.length,r=Math.min(Math.max(e,s),n);switch(t){case P.LEFT:case P.FORCE_LEFT:return this.isComplete?r:s;case P.RIGHT:case P.FORCE_RIGHT:return this.isComplete?r:n;case P.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new z}}ut.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class ia extends te{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=s=>s.search(t)>=0),super._update(e)}}V.MaskedRegExp=ia;class ie extends te{constructor(e){super({...ie.DEFAULTS,...e,definitions:Object.assign({},ut.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let s=!1,n=!1;for(let r=0;r<t.length;++r){if(this.blocks){const u=t.slice(r),d=Object.keys(this.blocks).filter(m=>u.indexOf(m)===0);d.sort((m,g)=>g.length-m.length);const p=d[0];if(p){const{expose:m,repeat:g,...y}=qe(this.blocks[p]),v={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...y,repeat:g,parent:this},k=g!=null?new V.RepeatBlock(v):be(v);k&&(this._blocks.push(k),m&&(this.exposeBlock=k),this._maskedBlocks[p]||(this._maskedBlocks[p]=[]),this._maskedBlocks[p].push(this._blocks.length-1)),r+=p.length-1;continue}}let a=t[r],l=a in e;if(a===ie.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(a==="{"||a==="}"){s=!s;continue}if(a==="["||a==="]"){n=!n;continue}if(a===ie.ESCAPE_CHAR){if(++r,a=t[r],!a)break;l=!1}const o=l?new ut({isOptional:n,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...qe(e[a]),parent:this}):new is({char:a,eager:this.eager,isUnmasking:s});this._blocks.push(o)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...s}=e;this._blocks.forEach((n,r)=>n.state=t[r]),super.state=s}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new z;let s=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(s==null)return t;this._blocks[s].isFilled&&++s;for(let n=s;n<this._blocks.length;++n){const r=this._blocks[n]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._mapPosToBlock(this.displayValue.length),n=new z;if(!s)return n;for(let a=s.index,l;l=this._blocks[a];++a){var r;const o=l._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[a]});if(n.aggregate(o),o.consumed)break}return n}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=new _e;return e===t||this._forEachBlocksInRange(e,t,(n,r,a,l)=>{const o=n.extractTail(a,l);o.stop=this._findStopBefore(r),o.from=this._blockStartPos(r),o instanceof _e&&(o.blockIndex=r),s.extend(o)}),s}extractInput(e,t,s){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),s===void 0&&(s={}),e===t)return"";let n="";return this._forEachBlocksInRange(e,t,(r,a,l,o)=>{n+=r.extractInput(l,o,s)}),n}_findStopBefore(e){let t;for(let s=0;s<this._stops.length;++s){const n=this._stops[s];if(n<=e)t=n;else break}return t}_appendPlaceholder(e){const t=new z;if(this.lazy&&e==null)return t;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return t;const n=s.index,r=e??this._blocks.length;return this._blocks.slice(n,r).forEach(a=>{if(!a.lazy||e!=null){var l;t.aggregate(a._appendPlaceholder((l=a._blocks)==null?void 0:l.length))}}),t}_mapPosToBlock(e){let t="";for(let s=0;s<this._blocks.length;++s){const n=this._blocks[s],r=t.length;if(t+=n.displayValue,e<=t.length)return{index:s,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,s)=>t+=s.displayValue.length,0)}_forEachBlocksInRange(e,t,s){t===void 0&&(t=this.displayValue.length);const n=this._mapPosToBlock(e);if(n){const r=this._mapPosToBlock(t),a=r&&n.index===r.index,l=n.offset,o=r&&a?r.offset:this._blocks[n.index].displayValue.length;if(s(this._blocks[n.index],n.index,l,o),r&&!a){for(let u=n.index+1;u<r.index;++u)s(this._blocks[u],u,0,this._blocks[u].displayValue.length);s(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._forEachBlocksInRange(e,t,(n,r,a,l)=>{s.aggregate(n.remove(a,l))}),s}nearestInputPos(e,t){if(t===void 0&&(t=P.NONE),!this._blocks.length)return 0;const s=new ta(this,e);if(t===P.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.displayValue.length;if(t===P.LEFT||t===P.FORCE_LEFT){if(t===P.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===e)return e;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),t===P.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=e||(s.popState(),s.ok&&s.pos<=e))return s.pos;s.popState()}return s.ok?s.pos:t===P.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return t===P.RIGHT||t===P.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:t===P.FORCE_RIGHT?this.displayValue.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(e,P.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let s=0;return this._forEachBlocksInRange(e,t,(n,r,a,l)=>{s+=n.totalInputPositions(a,l)}),s}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(s=>this._blocks[s]):[]}pad(e){const t=new z;return this._forEachBlocksInRange(0,this.displayValue.length,s=>t.aggregate(s.pad(e))),t}}ie.DEFAULTS={...te.DEFAULTS,lazy:!0,placeholderChar:"_"};ie.STOP_CHAR="`";ie.ESCAPE_CHAR="\\";ie.InputDefinition=ut;ie.FixedDefinition=is;V.MaskedPattern=ie;class et extends ie{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:s=this.from||0,maxLength:n=this.maxLength||0,autofix:r=this.autofix,...a}=e;this.to=t,this.from=s,this.maxLength=Math.max(String(t).length,n),this.autofix=r;const l=String(this.from).padStart(this.maxLength,"0"),o=String(this.to).padStart(this.maxLength,"0");let u=0;for(;u<o.length&&o[u]===l[u];)++u;a.mask=o.slice(0,u).replace(/0/g,"\\0")+"0".repeat(this.maxLength-u),super._update(a)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",s="";const[,n,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(n.length)+r,s="9".repeat(n.length)+r),t=t.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[t,s]}doPrepareChar(e,t){t===void 0&&(t={});let s;return[e,s]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(s.skip=!this.isComplete),[e,s]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const s=String(this.from).padStart(this.maxLength,"0"),n=String(this.to).padStart(this.maxLength,"0"),[r,a]=this.boundaries(this.value+e);return Number(a)<this.from?super._appendCharRaw(s[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(n[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[n,r]=this.boundaries(t);return this.from<=Number(r)&&Number(n)<=this.to&&super.doValidate(e)}pad(e){const t=new z;if(this.value.length===this.maxLength)return t;const s=this.value,n=this.maxLength-this.value.length;if(n){this.reset();for(let r=0;r<n;++r)t.aggregate(super._appendCharRaw("0",e));s.split("").forEach(r=>this._appendCharRaw(r))}return t}}V.MaskedRange=et;const sa="d{.}`m{.}`Y";class ge extends ie{static extractPatternOptions(e){const{mask:t,pattern:s,...n}=e;return{...n,mask:Te(t)?t:s}}constructor(e){super(ge.extractPatternOptions({...ge.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:s,blocks:n,...r}={...ge.DEFAULTS,...e},a=Object.assign({},ge.GET_DEFAULT_BLOCKS());e.min&&(a.Y.from=e.min.getFullYear()),e.max&&(a.Y.to=e.max.getFullYear()),e.min&&e.max&&a.Y.from===a.Y.to&&(a.m.from=e.min.getMonth()+1,a.m.to=e.max.getMonth()+1,a.m.from===a.m.to&&(a.d.from=e.min.getDate(),a.d.to=e.max.getDate())),Object.assign(a,this.blocks,n),super._update({...r,mask:Te(t)?t:s,blocks:a})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(ge.extractPatternOptions(e))}}ge.GET_DEFAULT_BLOCKS=()=>({d:{mask:et,from:1,to:31,maxLength:2},m:{mask:et,from:1,to:12,maxLength:2},Y:{mask:et,from:1900,to:9999}});ge.DEFAULTS={...ie.DEFAULTS,mask:Date,pattern:sa,format:(i,e)=>{if(!i)return"";const t=String(i.getDate()).padStart(2,"0"),s=String(i.getMonth()+1).padStart(2,"0"),n=i.getFullYear();return[t,s,n].join(".")},parse:(i,e)=>{const[t,s,n]=i.split(".").map(Number);return new Date(n,s-1,t)}};V.MaskedDate=ge;class gt extends te{constructor(e){super({...gt.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:s,...n}=qe(t),r=be({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...n});return s&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._applyDispatch(e,t);return this.currentMask&&s.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),s}_applyDispatch(e,t,s){e===void 0&&(e=""),t===void 0&&(t={}),s===void 0&&(s="");const n=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,a=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,l=r.slice(a.length),o=this.currentMask,u=new z,d=o==null?void 0:o.state;return this.currentMask=this.doDispatch(e,{...t},s),this.currentMask&&(this.currentMask!==o?(this.currentMask.reset(),a&&(this.currentMask.append(a,{raw:!0}),u.tailShift=this.currentMask.value.length-n.length),l&&(u.tailShift+=this.currentMask.append(l,{raw:!0,tail:!0}).tailShift)):d&&(this.currentMask.state=d)),u}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new z;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,s;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((s=e._beforeTailState)==null?void 0:s.currentMask)||e._beforeTailState}}doDispatch(e,t,s){return t===void 0&&(t={}),s===void 0&&(s=""),this.dispatch(e,this,t,s)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[s,n]=super.doPrepare(e,t);if(this.currentMask){let r;[s,r]=super.doPrepare(s,this.currentMaskFlags(t)),n=n.aggregate(r)}return[s,n]}doPrepareChar(e,t){t===void 0&&(t={});let[s,n]=super.doPrepareChar(e,t);if(this.currentMask){let r;[s,r]=super.doPrepareChar(s,this.currentMaskFlags(t)),n=n.aggregate(r)}return[s,n]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const s=new z;return this.currentMask&&s.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),s}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:s,currentMask:n,...r}=e;t&&this.compiledMasks.forEach((a,l)=>a.state=t[l]),s!=null&&(this.currentMask=s,this.currentMask.state=n),super.state=r}extractInput(e,t,s){return this.currentMask?this.currentMask.extractInput(e,t,s):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,s)=>{if(!e[s])return;const{mask:n,...r}=e[s];return ot(t,r)&&t.maskEquals(n)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}gt.DEFAULTS={...te.DEFAULTS,dispatch:(i,e,t,s)=>{if(!e.compiledMasks.length)return;const n=e.rawInputValue,r=e.compiledMasks.map((a,l)=>{const o=e.currentMask===a,u=o?a.displayValue.length:a.nearestInputPos(a.displayValue.length,P.FORCE_LEFT);return a.rawInputValue!==n?(a.reset(),a.append(n,{raw:!0})):o||a.remove(u),a.append(i,e.currentMaskFlags(t)),a.appendTail(s),{index:l,weight:a.rawInputValue.length,totalInputPositions:a.totalInputPositions(0,Math.max(u,a.nearestInputPos(a.displayValue.length,P.FORCE_LEFT)))}});return r.sort((a,l)=>l.weight-a.weight||l.totalInputPositions-a.totalInputPositions),e.compiledMasks[r[0].index]}};V.MaskedDynamic=gt;class yt extends ie{constructor(e){super({...yt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...s}=e;if(t){const n=t.map(l=>l.length),r=Math.min(...n),a=Math.max(...n)-r;s.mask="*".repeat(r),a&&(s.mask+="["+"*".repeat(a)+"]"),this.enum=t}super._update(s)}_appendCharRaw(e,t){t===void 0&&(t={});const s=Math.min(this.nearestInputPos(0,P.FORCE_RIGHT),this.value.length),n=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,s));if(n.length){n.length===1&&this._forEachBlocksInRange(0,this.value.length,(a,l)=>{const o=n[0][l];l>=this.value.length||o===a.value||(a.reset(),a._appendChar(o,t))});const r=super._appendCharRaw(n[0][this.value.length],t);return n.length===1&&n[0].slice(this.unmaskedValue.length).split("").forEach(a=>r.aggregate(super._appendCharRaw(a))),r}return new z({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new fe("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new z;const s=Math.min(super.nearestInputPos(0,P.FORCE_RIGHT),this.value.length);let n;for(n=e;n>=0&&!(this.enum.filter(l=>this.matchValue(l,this.value.slice(s,n),s)).length>1);--n);const r=super.remove(n,t);return r.tailShift+=n-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}yt.DEFAULTS={...ie.DEFAULTS,matchValue:(i,e,t)=>i.indexOf(e,t)===t};V.MaskedEnum=yt;class na extends te{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}V.MaskedFunction=na;var ss;class le extends te{constructor(e){super({...le.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",s=(this.scale?"("+Mt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+s),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Mt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Mt(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[s,n]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!s&&(n.skip=!0),s&&!this.allowPositive&&!this.value&&s!=="-"&&n.aggregate(this._appendChar("-")),[s,n]}_separatorsCount(e,t){t===void 0&&(t=!1);let s=0;for(let n=0;n<e;++n)this._value.indexOf(this.thousandsSeparator,n)===n&&(++s,t&&(e+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,s))}_appendCharRaw(e,t){t===void 0&&(t={});const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,n=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const a=this.number;let l=!isNaN(a),o=!1;if(l){let m;this.min!=null&&this.min<0&&this.number<this.min&&(m=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(m=this.max),m!=null&&(this.autofix?(this._value=this.format(m,this).replace(le.UNMASKED_RADIX,this.radix),o||(o=r===this._value&&!t.tail)):l=!1),l&&(l=!!this._value.match(this._numberRegExp))}let u;l?u=new z({inserted:this._value.slice(r.length),rawInserted:o?"":e,skip:o}):(this._value=r,u=new z),this._value=this._insertThousandsSeparators(this._value);const d=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,p=this._separatorsCountFromSlice(d);return u.tailShift+=(p-n)*this.thousandsSeparator.length,u}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,t);if(s<=e)return s}return-1}_adjustRangeWithSeparators(e,t){const s=this._findSeparatorAround(e);s>=0&&(e=s);const n=this._findSeparatorAround(t);return n>=0&&(t=n+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const s=this.value.slice(0,e),n=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+n));const a=this._separatorsCountFromSlice(s);return new z({tailShift:(a-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case P.NONE:case P.LEFT:case P.FORCE_LEFT:{const s=this._findSeparatorAround(e-1);if(s>=0){const n=s+this.thousandsSeparator.length;if(e<n||this.value.length<=n||t===P.FORCE_LEFT)return s}break}case P.RIGHT:case P.FORCE_RIGHT:{const s=this._findSeparatorAround(e);if(s>=0)return s+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(s,n,r,a)=>n+a),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,s){t===void 0&&(t={});const n=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===le.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,s)&&!n}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,le.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(le.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||le.EMPTY_VALUES.includes(e)&&le.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}ss=le;le.UNMASKED_RADIX=".";le.EMPTY_VALUES=[...te.EMPTY_VALUES,0];le.DEFAULTS={...te.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[ss.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:i=>i.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};V.MaskedNumber=le;const $t={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function ns(i,e,t){e===void 0&&(e=$t.MASKED),t===void 0&&(t=$t.MASKED);const s=be(i);return n=>s.runIsolated(r=>(r[e]=n,r[t]))}function ra(i,e,t,s){return ns(e,t,s)(i)}V.PIPE_TYPE=$t;V.createPipe=ns;V.pipe=ra;class aa extends ie{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,s,n;const{repeat:r,...a}=qe(e);this._blockOpts=Object.assign({},this._blockOpts,a);const l=be(this._blockOpts);this.repeat=(t=(s=r??l.repeat)!=null?s:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((n=this._blocks)==null?void 0:n.length)||0,this.repeatFrom)),blocks:{m:l},eager:l.eager,overwrite:l.overwrite,skipInvalid:l.skipInvalid,lazy:l.lazy,placeholderChar:l.placeholderChar,displayChar:l.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(be(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const s=new z;for(let o=(n=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?n:Math.max(this._blocks.length-1,0),u,d;u=(a=this._blocks[o])!=null?a:d=!d&&this._allocateBlock(o);++o){var n,r,a,l;const p=u._appendChar(e,{...t,_beforeTailState:(l=t._beforeTailState)==null||(l=l._blocks)==null?void 0:l[o]});if(p.skip&&d){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(p),p.consumed)break}return s}_trimEmptyTail(e,t){var s,n;e===void 0&&(e=0);const r=Math.max(((s=this._mapPosToBlock(e))==null?void 0:s.index)||0,this.repeatFrom,0);let a;t!=null&&(a=(n=this._mapPosToBlock(t))==null?void 0:n.index),a==null&&(a=this._blocks.length-1);let l=0;for(let o=a;r<=o&&!this._blocks[o].unmaskedValue;--o,++l);l&&(this._blocks.splice(a-l+1,l),this.mask=this.mask.slice(l))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._trimEmptyTail(e,t),s}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}V.RepeatBlock=aa;try{globalThis.IMask=V}catch{}const rs="[data-js-input-mask]";class la{constructor(e){F(this,"selectors",{root:rs});this.rootElement=e,this.init()}init(){const e=this.rootElement.getAttribute(qt(this.selectors.root));V(this.rootElement,{mask:e})}}class oa{constructor(){this.init()}init(){document.querySelectorAll(rs).forEach(e=>{new la(e)})}}const mi={mobile:window.matchMedia(`(width <= ${Pt(768.97)}rem)`)},as="[data-js-select]";class ua extends ct{constructor(t){super();F(this,"selectors",{root:as,originalControl:"[data-js-select-original-control]",button:"[data-js-select-button]",dropdown:"[data-js-select-dropdown]",option:"[data-js-select-option]"});F(this,"stateClasses",{isSelected:"is-selected",isExpanded:"is-expanded",isCurrent:"is-current",isOnTheLeftSide:"is-on-the-left-side",isOnTheRightSide:"is-on-the-right-side"});F(this,"initialState",{isExpanded:!1,selectedOptionElement:null,currentOptionIndex:null});F(this,"fixDropdownPosition",()=>{const s=document.documentElement.clientWidth/2,{width:n,x:r}=this.buttonElement.getBoundingClientRect(),l=r+n/2<s;this.dropdownElement.classList.toggle(this.stateClasses.isOnTheLeftSide,l),this.dropdownElement.classList.toggle(this.stateClasses.isOnTheRightSide,!l)});F(this,"onMobilelMatchMediaChange",t=>{this.updateTabIndexes(t.matches)});F(this,"onOriginalControlChange",()=>{this.state.selectedOptionElement=this.optionElements[this.originalControlElement.selectedIndex]});F(this,"onButtonClick",()=>{this.toggleExpandedState()});F(this,"onClick",t=>{const{target:s}=t,n=s===this.buttonElement,r=s.closest(this.selectors.dropdown)!==this.dropdownElement;if(!n&&r){this.collapse();return}s.matches(this.selectors.option)&&(this.state.selectedOptionElement=s,this.state.currentOptionIndex=[...this.optionElements].findIndex(l=>l===s),this.collapse())});F(this,"onArrowUpKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.state.currentOptionIndex>0&&this.state.currentOptionIndex--});F(this,"onArrowDownKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.state.currentOptionIndex<this.optionElements.length-1&&this.state.currentOptionIndex++});F(this,"onSpaceKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.selectCurrentOption(),this.collapse()});F(this,"onEnterKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.selectCurrentOption(),this.collapse()});F(this,"onEscKeyDown",()=>{this.collapse()});F(this,"onKeyDown",t=>{const{code:s}=t,n={ArrowUp:this.onArrowUpKeyDown,ArrowDown:this.onArrowDownKeyDown,Space:this.onSpaceKeyDown,Enter:this.onEnterKeyDown,Esc:this.onEscKeyDown}[s];n&&(t.preventDefault(),n())});this.rootElement=t,this.originalControlElement=this.rootElement.querySelector(this.selectors.originalControl),this.buttonElement=this.rootElement.querySelector(this.selectors.button),this.dropdownElement=this.rootElement.querySelector(this.selectors.dropdown),this.optionElements=this.dropdownElement.querySelectorAll(this.selectors.option),this.state=this.getProxyState({...this.initialState,currentOptionIndex:this.originalControlElement.selectedIndex,selectedOptionElement:this.optionElements[this.originalControlElement.selectedIndex]}),setTimeout(this.fixDropdownPosition,500),this.updateTabIndexes(),this.bindEvents()}updateUI(){const{isExpanded:t,selectedOptionElement:s,currentOptionIndex:n}=this.state,r=s.textContent.trim(),a=()=>{this.originalControlElement.value=r},l=()=>{this.buttonElement.textContent=r,this.buttonElement.classList.toggle(this.stateClasses.isExpanded,t),this.buttonElement.ariaExpanded=t,this.buttonElement.ariaActiveDescendant=this.optionElements[n].id},o=()=>{this.dropdownElement.classList.toggle(this.stateClasses.isExpanded,t)},u=()=>{this.optionElements.forEach((d,p)=>{const m=n===p,g=s===d;d.classList.toggle(this.stateClasses.isCurrent,m),d.classList.toggle(this.stateClasses.isSelected,g),d.ariaSelected=g})};a(),l(),o(),u()}updateTabIndexes(t=mi.mobile.matches){this.originalControlElement.tabIndex=t?0:-1,this.buttonElement.tabIndex=t?-1:0}toggleExpandedState(){this.state.isExpanded=!this.state.isExpanded}expand(){this.state.isExpanded=!0}collapse(){this.state.isExpanded=!1}get isNeedToExpand(){const t=document.activeElement===this.buttonElement;return!this.state.isExpanded&&t}selectCurrentOption(){this.state.selectedOptionElement=this.optionElements[this.state.currentOptionIndex]}bindEvents(){mi.mobile.addEventListener("change",this.onMobilelMatchMediaChange),this.originalControlElement.addEventListener("change",this.onOriginalControlChange),this.buttonElement.addEventListener("click",this.onButtonClick),document.addEventListener("click",this.onClick),this.rootElement.addEventListener("keydown",this.onKeyDown)}}class ca{constructor(){this.init()}init(){document.querySelectorAll(as).forEach(e=>{new ua(e)})}}class da{constructor(){F(this,"selectors",{root:"[data-js-modal-notify]",dialog:"[data-js-modal-notify-dialog]",openButton:"[data-js-modal-notify-button]",closeButton:"[data-js-modal-notify-close]",productNameInput:"#modalProductNameInput"});F(this,"stateClasses",{isVisible:"is-visible",isLock:"is-lock"});this.rootElements=document.querySelectorAll(this.selectors.root),this.openButtons=document.querySelectorAll(this.selectors.openButton),this.initModals(),this.bindGlobalEvents()}initModals(){this.rootElements.forEach(e=>{const t=e.querySelector(this.selectors.closeButton);t==null||t.addEventListener("click",s=>{s.preventDefault(),this.closeModal(e)}),e.addEventListener("click",s=>{s.target===e&&(s.preventDefault(),this.closeModal(e))})}),this.openButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const s=this.selectors.openButton.slice(1,-1),n=e.getAttribute(s),r=document.querySelector(`[data-js-modal-notify="${n}"]`);if(!r)return;this.openModal(r);const a=e.getAttribute("data-product-name"),l=r.querySelector(this.selectors.productNameInput);l&&(l.value=a||"")})})}openModal(e){e.classList.add(this.stateClasses.isVisible),Ie.lock()}closeModal(e){e.classList.remove(this.stateClasses.isVisible),Ie.unlock()}bindGlobalEvents(){document.addEventListener("keydown",e=>{e.key==="Escape"&&this.rootElements.forEach(t=>this.closeModal(t))})}}const ha="modulepreload",pa=function(i){return"/red-pancir/"+i},fi={},ma=function(e,t,s){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=pa(r),r in fi)return;fi[r]=!0;const a=r.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=n.length-1;d>=0;d--){const p=n[d];if(p.href===r&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":ha,a||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),a)return new Promise((d,p)=>{u.addEventListener("load",d),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function De(i,e,t){const s=document.createElement(e);return i&&(s.className=i),t&&t.appendChild(s),s}function fa(i,e,t){let s=`translate3d(${i}px,${e||0}px,0)`;return t!==void 0&&(s+=` scale3d(${t},${t},1)`),s}function zt(i,e,t){i.style.width=typeof e=="number"?`${e}px`:e,i.style.height=typeof t=="number"?`${t}px`:t}const oe={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function ga(i){return"button"in i&&i.button===1||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey}function Oe(i,e,t=document){let s=[];if(i instanceof Element)s=[i];else if(i instanceof NodeList||Array.isArray(i))s=Array.from(i);else{const n=typeof i=="string"?i:e;n&&(s=Array.from(t.querySelectorAll(n)))}return s}function ya(i){return typeof i=="function"&&i.prototype&&i.prototype.goTo}function gi(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class va{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class ba{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,s=100){var n,r,a;this._filters[e]||(this._filters[e]=[]),(n=this._filters[e])===null||n===void 0||n.push({fn:t,priority:s}),(r=this._filters[e])===null||r===void 0||r.sort((l,o)=>l.priority-o.priority),(a=this.pswp)===null||a===void 0||a.addFilter(e,t,s)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(s=>s.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var s;return(s=this._filters[e])===null||s===void 0||s.forEach(n=>{t[0]=n.fn.apply(this,t)}),t[0]}on(e,t){var s,n;this._listeners[e]||(this._listeners[e]=[]),(s=this._listeners[e])===null||s===void 0||s.push(t),(n=this.pswp)===null||n===void 0||n.on(e,t)}off(e,t){var s;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(n=>t!==n)),(s=this.pswp)===null||s===void 0||s.off(e,t)}dispatch(e,t){var s;if(this.pswp)return this.pswp.dispatch(e,t);const n=new va(e,t);return(s=this._listeners[e])===null||s===void 0||s.forEach(r=>{r.call(this,n)}),n}}class wa{constructor(e,t){if(this.element=De("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const s=this.element;s.decoding="async",s.alt="",s.src=e,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(zt(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=fa(0,0,e/250)):zt(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class Ea{constructor(e,t,s){this.instance=t,this.data=e,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=oe.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new wa(s,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=De("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=De("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=(t=this.data.src)!==null&&t!==void 0?t:"",n.alt=(s=this.data.alt)!==null&&s!==void 0?s:"",this.state=oe.LOADING,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=oe.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===oe.LOADED||this.state===oe.ERROR)&&this.removePlaceholder())}onError(){this.state=oe.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===oe.LOADING,this)}isError(){return this.state===oe.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(zt(this.element,e,t),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==oe.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let s=De("pswp__error-msg","div");s.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=De("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===oe.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||gi())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!gi()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===oe.LOADED||this.state===oe.ERROR)&&this.removePlaceholder()))}}function ka(i,e){if(i.getViewportSizeFn){const t=i.getViewportSizeFn(i,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ye(i,e,t,s,n){let r=0;if(e.paddingFn)r=e.paddingFn(t,s,n)[i];else if(e.padding)r=e.padding[i];else{const a="padding"+i[0].toUpperCase()+i.slice(1);e[a]&&(r=e[a])}return Number(r)||0}function Sa(i,e,t,s){return{x:e.x-Ye("left",i,e,t,s)-Ye("right",i,e,t,s),y:e.y-Ye("top",i,e,t,s)-Ye("bottom",i,e,t,s)}}const yi=4e3;class Ta{constructor(e,t,s,n){this.pswp=n,this.options=e,this.itemData=t,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,s){const n={x:e,y:t};this.elementSize=n,this.panAreaSize=s;const r=s.x/n.x,a=s.y/n.y;this.fit=Math.min(1,r<a?r:a),this.fill=Math.min(1,r>a?r:a),this.vFill=Math.min(1,a),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",s=this.options[t];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>yi&&(e=yi/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function ls(i,e,t){const s=e.createContentFromData(i,t);let n;const{options:r}=e;if(r){n=new Ta(r,i,-1);let a;e.pswp?a=e.pswp.viewportSize:a=ka(r,e);const l=Sa(r,a,i,t);n.update(s.width,s.height,l)}return s.lazyLoad(),n&&s.setDisplayedSize(Math.ceil(s.width*n.initial),Math.ceil(s.height*n.initial)),s}function Ca(i,e){const t=e.getItemData(i);if(!e.dispatch("lazyLoadSlide",{index:i,itemData:t}).defaultPrevented)return ls(t,e,i)}class xa extends ba{getNumItems(){var e;let t=0;const s=(e=this.options)===null||e===void 0?void 0:e.dataSource;s&&"length"in s?t=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(t=s.items.length));const n=this.dispatch("numItems",{dataSource:s,numItems:t});return this.applyFilters("numItems",n.numItems,s)}createContentFromData(e,t){return new Ea(e,this,t)}getItemData(e){var t;const s=(t=this.options)===null||t===void 0?void 0:t.dataSource;let n={};Array.isArray(s)?n=s[e]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),n=s.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const a=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",a.itemData,e)}_getGalleryDOMElements(e){var t,s;return(t=this.options)!==null&&t!==void 0&&t.children||(s=this.options)!==null&&s!==void 0&&s.childSelector?Oe(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},s=e.tagName==="A"?e:e.querySelector("a");if(s){t.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(t.srcset=s.dataset.pswpSrcset),t.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,t.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,s.dataset.pswpType&&(t.type=s.dataset.pswpType);const r=e.querySelector("img");if(r){var n;t.msrc=r.currentSrc||r.src,t.alt=(n=r.getAttribute("alt"))!==null&&n!==void 0?n:""}(s.dataset.pswpCropped||s.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,s)}lazyLoadData(e,t){return ls(e,this,t)}}class Aa extends xa{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Oe(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(ga(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let s=this.getClickedIndex(e);s=this.applyFilters("clickedIndex",s,e,this);const n={gallery:e.currentTarget};s>=0&&(e.preventDefault(),this.loadAndOpen(s,n,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=Oe(this.options.children,this.options.childSelector,e.currentTarget).findIndex(r=>r===t||r.contains(t));return n!==-1?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,s){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const n=Oe(this.options.gallery);n[0]&&(t={gallery:n[0]})}return this.options.index=e,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:s}=this;t&&(s.dataSource=t);const n=[],r=typeof s.pswpModule;if(ya(s.pswpModule))n.push(Promise.resolve(s.pswpModule));else{if(r==="string")throw new Error("pswpModule as string is no longer supported");if(r==="function")n.push(s.pswpModule());else throw new Error("pswpModule is not valid")}typeof s.openPromise=="function"&&n.push(s.openPromise()),s.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=Ca(e,this));const a=++this._uid;Promise.all(n).then(l=>{if(this.shouldOpen){const o=l[0];this._openPhotoswipe(o,a)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const s=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(n=>{var r;(r=this._listeners[n])===null||r===void 0||r.forEach(a=>{s.on(n,a)})}),Object.keys(this._filters).forEach(n=>{var r;(r=this._filters[n])===null||r===void 0||r.forEach(a=>{s.addFilter(n,a.fn,a.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},Oe(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}const os="[data-js-photoswipe]";function _a(i,e="a"){const s=Array.from(i.querySelectorAll(e)).filter(n=>{const r=n.getAttribute("data-pswp-width"),a=n.getAttribute("data-pswp-height");return!(r&&a)}).map(n=>new Promise(r=>{const a=n.getAttribute("href");if(!a)return r();const l=new Image;l.src=a,l.onload=()=>{n.setAttribute("data-pswp-width",l.naturalWidth),n.setAttribute("data-pswp-height",l.naturalHeight),r()},l.onerror=r}));return Promise.all(s)}class Ma{constructor(e){F(this,"selectors",{root:os,children:"a"});this.rootElement=e,this.options=this.parseOptions(),this.init()}parseOptions(){const e=qt(this.selectors.root),t=this.rootElement.getAttribute(e);if(!t)return{};try{return JSON.parse(t)}catch(s){return console.warn("[PhotoSwipe] Invalid JSON in",this.rootElement,s),{}}}async init(){const e=this.options.children||this.selectors.children;await _a(this.rootElement,e),this.lightbox=new Aa({gallery:this.rootElement,children:e,pswpModule:()=>ma(()=>import("./photoswipe.esm-3ee328cd.js"),[]),...this.options}),this.lightbox.init()}destroy(){var e;(e=this.lightbox)==null||e.destroy(),this.lightbox=null}}class Ia{constructor(){this.instances=[],this.init()}init(){document.querySelectorAll(os).forEach(e=>{this.instances.push(new Ma(e))})}destroy(){this.instances.forEach(e=>e.destroy()),this.instances=[]}}class La{constructor(){this.inputs=document.querySelectorAll("[data-js-file-input]"),this.init()}init(){this.inputs.forEach(e=>{const t=e.closest(".field__file-label").querySelector("[data-js-file-name]");e.addEventListener("change",()=>{const s=e.files[0];t.textContent=s?s.name:"Выберите файл"})})}}class Pa{constructor(){this.toggleButtons=document.querySelectorAll("[data-js-toggle-password]"),this.init()}init(){this.toggleButtons.forEach(e=>{var s;const t=(s=e.closest(".field__body"))==null?void 0:s.querySelector("[data-js-password-input]");t&&e.addEventListener("click",()=>{const n=t.type==="text";t.type=n?"password":"text",e.setAttribute("aria-label",n?"Показать пароль":"Скрыть пароль")})})}}class Fa{constructor(){F(this,"selectors",{form:"#profile-form",fields:"#profile-fields",saveBtn:"#save-btn",editBtn:"#edit-btn"});F(this,"stateClasses",{hidden:"hidden"});F(this,"enableEdit",()=>{this.fields.disabled=!1,this.editBtn.classList.add(this.stateClasses.hidden),this.saveBtn.classList.remove(this.stateClasses.hidden)});F(this,"saveForm",e=>{e.preventDefault(),this.fields.disabled=!0,this.saveBtn.classList.add(this.stateClasses.hidden),this.editBtn.classList.remove(this.stateClasses.hidden)});this.form=document.querySelector(this.selectors.form),this.form&&(this.form=document.querySelector(this.selectors.form),this.fields=document.querySelector(this.selectors.fields),this.saveBtn=document.querySelector(this.selectors.saveBtn),this.editBtn=document.querySelector(this.selectors.editBtn),this.dateInputs=this.form.querySelectorAll('input[type="date"]'),this.bindEvents(),this.initDatePlaceholders())}bindEvents(){this.editBtn.addEventListener("click",this.enableEdit),this.form.addEventListener("submit",this.saveForm)}initDatePlaceholders(){this.dateInputs=this.form.querySelectorAll('input[type="date"]'),this.dateInputs.forEach(e=>{this.togglePlaceholder(e),e.addEventListener("input",()=>this.togglePlaceholder(e)),e.addEventListener("change",()=>this.togglePlaceholder(e))})}togglePlaceholder(e){const t=e.closest(".field__body");if(!t)return;const s=t.querySelector(".field__placeholder");if(!s)return;const n=e.value.trim()!=="";s.style.display=n?"none":"block",n?e.classList.add("field__control--has-value"):e.classList.remove("field__control--has-value")}}class us{constructor(e){F(this,"selectors",{root:"[data-js-price-range]",rangeMin:"[data-js-range-min]",rangeMax:"[data-js-range-max]",inputMin:"[data-js-input-min]",inputMax:"[data-js-input-max]",track:"[data-js-track]"});F(this,"config",{minGap:100});F(this,"updateTrack",()=>{const e=+this.rangeMinElement.value,t=+this.rangeMaxElement.value,s=this.rootElement.querySelector(".price-filter__range"),n=(s==null?void 0:s.getBoundingClientRect().width)||0;if(n<=0){this.trackElement.style.width="0px",this.trackElement.style.left="0px";return}const r=11,a=r/2,l=Math.max(0,n-r),o=a+e/this.rangeMaxValue*l,u=a+t/this.rangeMaxValue*l;this.trackElement.style.left=`${o}px`,this.trackElement.style.width=`${Math.max(0,u-o)}px`,this.inputMinElement.value=e,this.inputMaxElement.value=t});F(this,"reset",()=>{const e=+this.rangeMinElement.getAttribute("value"),t=+this.rangeMaxElement.getAttribute("value");this.rangeMinElement.value=e,this.rangeMaxElement.value=t,this.updateTrack()});F(this,"onRangeMinInput",()=>{+this.rangeMaxElement.value-+this.rangeMinElement.value<=this.config.minGap&&(this.rangeMinElement.value=+this.rangeMaxElement.value-this.config.minGap),this.updateTrack()});F(this,"onRangeMaxInput",()=>{+this.rangeMaxElement.value-+this.rangeMinElement.value<=this.config.minGap&&(this.rangeMaxElement.value=+this.rangeMinElement.value+this.config.minGap),this.updateTrack()});F(this,"onInputMinChange",()=>{let e=Math.min(+this.inputMinElement.value,+this.rangeMaxElement.value-this.config.minGap);this.rangeMinElement.value=e,this.updateTrack()});F(this,"onInputMaxChange",()=>{let e=Math.max(+this.inputMaxElement.value,+this.rangeMinElement.value+this.config.minGap);this.rangeMaxElement.value=e,this.updateTrack()});F(this,"onTrackClick",e=>{const t=this.rootElement.querySelector(".price-filter__range").getBoundingClientRect(),n=(e.clientX-t.left)/t.width,r=Math.round(n*this.rangeMaxValue),a=+this.rangeMinElement.value,l=+this.rangeMaxElement.value;Math.abs(r-a)<Math.abs(r-l)?l-r>=this.config.minGap&&(this.rangeMinElement.value=r):r-a>=this.config.minGap&&(this.rangeMaxElement.value=r),this.updateTrack()});if(this.rootElement=e||document.querySelector(this.selectors.root),!this.rootElement)return;this.rangeMinElement=this.rootElement.querySelector(this.selectors.rangeMin),this.rangeMaxElement=this.rootElement.querySelector(this.selectors.rangeMax),this.inputMinElement=this.rootElement.querySelector(this.selectors.inputMin),this.inputMaxElement=this.rootElement.querySelector(this.selectors.inputMax),this.trackElement=this.rootElement.querySelector(this.selectors.track),this.rangeMaxValue=+this.rangeMaxElement.max,this.bindEvents(),requestAnimationFrame(this.updateTrack);const t=this.rootElement.querySelector(".price-filter__range");t&&"ResizeObserver"in window?(this.ro=new ResizeObserver(()=>this.updateTrack()),this.ro.observe(t)):window.addEventListener("resize",()=>requestAnimationFrame(this.updateTrack),{passive:!0})}bindEvents(){this.rangeMinElement.addEventListener("input",this.onRangeMinInput),this.rangeMaxElement.addEventListener("input",this.onRangeMaxInput),this.inputMinElement.addEventListener("change",this.onInputMinChange),this.inputMaxElement.addEventListener("change",this.onInputMaxChange),this.rootElement.querySelector(".price-filter__range").addEventListener("click",this.onTrackClick)}}class Da{constructor(){F(this,"selectors",{filterRoot:"[data-js-filter]",filterOpenBtn:"[data-js-filter-open]",filterCloseBtn:"[data-js-filter-close]",filterOverlay:"[data-js-filter-overlay]",sortToggleBtn:"[data-js-sort-toggle]",sortDropdown:"[data-js-sort-dropdown]",filterInputs:'input[name^="arrFilter"]',tagsContainer:".product-controls__tags",priceRangeRoot:"[data-js-price-range]",inlineRoot:".product-controls"});F(this,"stateClasses",{isOpen:"is-open"});F(this,"openFilter",()=>{var t,s,n;(t=this.filterRoot)==null||t.classList.add(this.stateClasses.isOpen),(s=this.filterRoot)==null||s.setAttribute("aria-hidden","false"),Ie.lock(),this.restoreModalFromApplied(),this.pending.clear(),requestAnimationFrame(()=>{var r;return(r=this.priceRange)==null?void 0:r.updateTrack()});const e=(n=this.filterRoot)==null?void 0:n.querySelector(".filter-modal-window__dialog");if(e){const r=()=>{var a;(a=this.priceRange)==null||a.updateTrack(),e.removeEventListener("transitionend",r)};e.addEventListener("transitionend",r)}document.addEventListener("keydown",this.onKeyDown)});F(this,"closeFilter",()=>{var e,t;(e=this.filterRoot)==null||e.classList.remove(this.stateClasses.isOpen),(t=this.filterRoot)==null||t.setAttribute("aria-hidden","true"),document.removeEventListener("keydown",this.onKeyDown),Ie.unlock(),this.pending.clear()});F(this,"toggleSortDropdown",e=>{var t,s;e.stopPropagation(),(s=(t=this.sortToggle)==null?void 0:t.parentElement)==null||s.classList.toggle(this.stateClasses.isOpen)});F(this,"handleGlobalClick",e=>{var t,s;this.sortDropdown&&!this.sortDropdown.contains(e.target)&&!this.sortToggle.contains(e.target)&&((s=(t=this.sortToggle)==null?void 0:t.parentElement)==null||s.classList.remove(this.stateClasses.isOpen))});F(this,"updateSortLabel",()=>{var n,r;const e=(n=this.sortDropdown)==null?void 0:n.querySelector('input[type="radio"]:checked');if(!e)return;const t=e.parentElement.textContent.trim(),s=(r=this.sortToggle)==null?void 0:r.querySelector(".product-sort__value");s&&(s.textContent=t)});F(this,"submitFilterForm",()=>{this.form&&(this.demoMode||this.form.submit())});var t,s,n,r,a;this.filterRoot=document.querySelector(this.selectors.filterRoot),this.openBtn=document.querySelector(this.selectors.filterOpenBtn),this.closeBtn=(t=this.filterRoot)==null?void 0:t.querySelector(this.selectors.filterCloseBtn),this.overlay=(s=this.filterRoot)==null?void 0:s.querySelector(this.selectors.filterOverlay),this.sortToggle=document.querySelector(this.selectors.sortToggleBtn),this.sortDropdown=document.querySelector(this.selectors.sortDropdown),this.tagsContainer=document.querySelector(this.selectors.tagsContainer),this.form=(n=this.filterRoot)==null?void 0:n.querySelector("form"),this.inlineRoot=document.querySelector(this.selectors.inlineRoot),this.demoMode=!!((r=this.form)!=null&&r.hasAttribute("data-demo"));const e=(a=this.filterRoot)==null?void 0:a.querySelector(this.selectors.priceRangeRoot);e&&(this.priceRange=new us(e)),this.pending=new Map,this.appliedState=new Map,this.onKeyDown=this.onKeyDown.bind(this),this.bindEvents()}bindEvents(){var e,t,s;this.openBtn&&this.openBtn.addEventListener("click",this.openFilter),this.closeBtn&&this.closeBtn.addEventListener("click",this.closeFilter),this.overlay&&this.overlay.addEventListener("click",this.closeFilter),this.sortToggle&&this.sortDropdown&&(this.sortToggle.addEventListener("click",this.toggleSortDropdown),document.addEventListener("click",this.handleGlobalClick),this.sortDropdown.addEventListener("change",()=>{this.updateSortLabel(),this.submitFilterForm()})),(e=this.form)==null||e.addEventListener("submit",n=>{this.demoMode&&n.preventDefault(),this.applyModalChanges(),this.closeFilter(),this.demoMode}),(t=this.form)==null||t.addEventListener("reset",n=>{n.preventDefault(),this.resetEverywhere(),this.demoMode||this.form.submit()}),document.querySelectorAll(this.selectors.filterInputs).forEach(n=>{var l,o;const r=(l=this.filterRoot)==null?void 0:l.contains(n);((o=this.inlineRoot)==null?void 0:o.contains(n))?n.addEventListener("change",u=>{this.syncToTwins(u.target),this.handleTagsForInput(u.target),this.captureAppliedFromDom(),this.submitFilterForm()}):r?n.addEventListener("change",u=>this.storePending(u.target)):n.addEventListener("change",u=>{this.syncToTwins(u.target),this.handleTagsForInput(u.target),this.captureAppliedFromDom(),this.submitFilterForm()})}),(s=this.tagsContainer)==null||s.addEventListener("click",n=>{if(n.target.classList.contains("product-tag__remove")){const r=n.target.closest(".product-tag");if(!r)return;this.removeTag(r.dataset.value,r.dataset.name),this.captureAppliedFromDom(),this.submitFilterForm()}})}onKeyDown(e){(e.key==="Escape"||e.key==="Esc")&&this.closeFilter()}syncToTwins(e){const{name:t,type:s,value:n,checked:r}=e;if(s==="checkbox"&&t.endsWith("[]")){document.querySelectorAll(`input[name="${t}"][value="${n}"]`).forEach(a=>{a!==e&&(a.checked=r)});return}document.querySelectorAll(`input[name="${t}"]`).forEach(a=>{a!==e&&(s==="checkbox"||s==="radio"?a.checked=r:a.value=n)})}handleTagsForInput(e){const{name:t,type:s}=e;if(!(s==="checkbox"&&t.endsWith("[]")))return;const{value:n,group:r}=this.getInputValueAndGroup(e);e.checked?this.addTag(r,n,t):this.removeTag(n,t)}addTag(e,t,s){if(!this.tagsContainer||this.tagsContainer.querySelector(`[data-name="${s}"][data-value="${t}"]`))return;const n=document.createElement("span");n.className="product-tag",n.dataset.value=t,n.dataset.name=s,n.innerHTML=`
    ${e}: ${t}
    <button type="button" class="product-tag__remove" aria-label="Удалить фильтр">
        <svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.4 14L0 12.6L5.6 7L0 1.4L1.4 0L7 5.6L12.6 0L14 1.4L8.4 7L14 12.6L12.6 14L7 8.4L1.4 14Z"/>
        </svg>
    </button>
  `,n.style.opacity="0",n.style.transform="translateY(4px)",this.tagsContainer.appendChild(n),n.offsetWidth,n.style.opacity="",n.style.transform="",requestAnimationFrame(()=>{n.classList.add("is-visible")})}removeTag(e,t){var n;const s=(n=this.tagsContainer)==null?void 0:n.querySelectorAll(`.product-tag[data-name="${t}"][data-value="${e}"]`);!s||!s.length||(s.forEach(r=>{r.classList.add("is-removing"),r.addEventListener("transitionend",()=>r.remove(),{once:!0})}),document.querySelectorAll(`input[name="${t}"][value="${e}"]`).forEach(r=>{r.checked=!1}))}resetEverywhere(){var e,t;if(this.tagsContainer){const s=this.tagsContainer.querySelectorAll(".product-tag");s.length&&s.forEach(n=>{n.classList.add("is-removing"),n.addEventListener("transitionend",()=>n.remove(),{once:!0})})}document.querySelectorAll(this.selectors.filterInputs).forEach(s=>{s.type==="checkbox"||s.type==="radio"?s.checked=!1:s.defaultValue!==void 0?s.value=s.defaultValue:s.value=""}),(e=this.priceRange)==null||e.reset(),(t=this.priceRange)==null||t.updateTrack(),this.pending.clear(),this.appliedState.clear(),this.submitFilterForm()}storePending(e){const{name:t,type:s}=e,{value:n}=this.getInputValueAndGroup(e);if(s==="checkbox"&&t.endsWith("[]")){const r=new Set(this.getCheckedValuesInModal(t));e.checked?r.add(n):r.delete(n),this.pending.set(t,Array.from(r));return}if(s==="checkbox"||s==="radio"){this.pending.set(t,e.checked);return}this.pending.set(t,e.value)}snapshotModalToPending(){var s;const e=new Map;(((s=this.filterRoot)==null?void 0:s.querySelectorAll(this.selectors.filterInputs))||[]).forEach(n=>{const{name:r,type:a}=n;if(a==="checkbox"&&r.endsWith("[]")){e.has(r)||e.set(r,[]);const{value:l}=this.getInputValueAndGroup(n);n.checked&&e.get(r).push(l)}else a==="checkbox"||a==="radio"?e.set(r,!!n.checked):e.set(r,n.value)}),this.pending=e}getGroupLabelMap(){var t;const e=new Map;return(t=this.filterRoot)==null||t.querySelectorAll(".filter-modal-window__group").forEach(s=>{const n=s.dataset.groupLabel||"Фильтр";s.querySelectorAll("input[name]").forEach(r=>e.set(r.name,n))}),e}applyModalChanges(){var t;this.pending.size===0&&this.snapshotModalToPending();const e=this.getGroupLabelMap();for(const[s,n]of this.pending.entries())if(Array.isArray(n)){document.querySelectorAll(`input[name="${s}"]`).forEach(a=>{a.checked=!1}),this.tagsContainer&&this.tagsContainer.querySelectorAll(`.product-tag[data-name="${s}"]`).forEach(a=>a.remove());const r=e.get(s)||"Фильтр";n.forEach(a=>{document.querySelectorAll(`input[name="${s}"][value="${a}"]`).forEach(l=>{l.checked=!0}),this.addTag(r,a,s)})}else typeof n=="boolean"?document.querySelectorAll(`input[name="${s}"]`).forEach(r=>{r.checked=n}):document.querySelectorAll(`input[name="${s}"]`).forEach(r=>{r.value=n});(t=this.priceRange)==null||t.updateTrack(),this.captureAppliedFromDom(),this.pending.clear()}restoreModalFromApplied(){var e,t,s;if(this.appliedState.size!==0){for(const[n,r]of this.appliedState.entries())Array.isArray(r)?((e=this.filterRoot)==null||e.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.checked=!1}),r.forEach(a=>{var l;(l=this.filterRoot)==null||l.querySelectorAll(`input[name="${n}"][value="${a}"]`).forEach(o=>{o.checked=!0})})):typeof r=="boolean"?(t=this.filterRoot)==null||t.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.checked=r}):(s=this.filterRoot)==null||s.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.value=r});requestAnimationFrame(()=>{var n;return(n=this.priceRange)==null?void 0:n.updateTrack()})}}resetEverywhere(){var e,t;if(this.tagsContainer){const s=this.tagsContainer.querySelectorAll(".product-tag");s.length&&s.forEach(n=>{n.classList.add("is-removing"),n.addEventListener("transitionend",()=>n.remove(),{once:!0})})}document.querySelectorAll(this.selectors.filterInputs).forEach(s=>{s.type==="checkbox"||s.type==="radio"?s.checked=!1:s.defaultValue!==void 0?s.value=s.defaultValue:s.value=""}),(e=this.priceRange)==null||e.reset(),(t=this.priceRange)==null||t.updateTrack(),this.pending.clear(),this.appliedState.clear(),this.submitFilterForm()}captureAppliedFromDom(){const e=new Map,t=new Set;document.querySelectorAll(this.selectors.filterInputs).forEach(s=>t.add(s.name)),t.forEach(s=>{if(s.endsWith("[]")){const n=Array.from(document.querySelectorAll(`input[name="${s}"]:checked`)).map(r=>this.getInputValueAndGroup(r).value);e.set(s,n)}}),document.querySelectorAll(this.selectors.filterInputs).forEach(s=>{const{name:n,type:r}=s;n.endsWith("[]")||(r==="checkbox"||r==="radio"?e.set(n,!!s.checked):e.set(n,s.value))}),this.appliedState=e}getCheckedValuesInModal(e){return Array.from(this.filterRoot.querySelectorAll(`input[name="${e}"]:checked`)).map(t=>this.getInputValueAndGroup(t).value)}getInputValueAndGroup(e){var l;let t=e.value;(!t||t==="on")&&(t=e.getAttribute("data-value")||e.id||(e.nextElementSibling&&e.nextElementSibling.textContent?e.nextElementSibling.textContent.trim():""));const s=e.closest(".filter-modal-window__group"),n=(s==null?void 0:s.dataset.groupLabel)||"Фильтр",r=e.nextElementSibling,a=((l=r==null?void 0:r.textContent)==null?void 0:l.trim())||t;return{value:t,label:a,group:n}}}new ps;new Nn;new zn;new Yr;new oa;new ca;new Ia;new La;new Pa;new da;new Fa;new us;new Da;

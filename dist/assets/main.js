var hi=Object.defineProperty;var pi=(s,e,t)=>e in s?hi(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var P=(s,e,t)=>(pi(s,typeof e!="symbol"?e+"":e,t),t);class mi{constructor(){this.lockCounter=0,this.className="is-lock",this.element=document.documentElement}lock(){this.lockCounter++,this.lockCounter===1&&this.element.classList.add(this.className)}unlock(){this.lockCounter>0&&(this.lockCounter--,this.lockCounter===0&&this.element.classList.remove(this.className))}reset(){this.lockCounter=0,this.element.classList.remove(this.className)}}const Ie=new mi;class fi{constructor(){P(this,"selectors",{root:"[data-js-overlay-menu]",dialog:"[data-js-overlay-menu-dialog]",burgerButton:"[data-js-overlay-menu-burger-button]"});P(this,"stateClasses",{isActive:"is-active",isLock:"is-lock"});P(this,"onBurgerButtonClick",()=>{const e=!this.dialogElement.open;this.burgerButtonElement.classList.toggle(this.stateClasses.isActive),this.dialogElement.open=!this.dialogElement.open,e?Ie.lock():Ie.unlock()});this.rootElement=document.querySelector(this.selectors.root),this.dialogElement=this.rootElement.querySelector(this.selectors.dialog),this.burgerButtonElement=this.rootElement.querySelector(this.selectors.burgerButton),this.bindEvents()}bindEvents(){this.burgerButtonElement.addEventListener("click",this.onBurgerButtonClick)}}const qt=s=>s.substring(1,s.length-1),bs=(s,e)=>JSON.parse(s.getAttribute(qt(e)));function Zt(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function jt(s,e){s===void 0&&(s={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof s[t]>"u"?s[t]=e[t]:Zt(e[t])&&Zt(s[t])&&Object.keys(e[t]).length>0&&jt(s[t],e[t])})}const ws={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ce(){const s=typeof document<"u"?document:{};return jt(s,ws),s}const gi={document:ws,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function ae(){const s=typeof window<"u"?window:{};return jt(s,gi),s}function we(s){return s===void 0&&(s=""),s.trim().split(" ").filter(e=>!!e.trim())}function vi(s){const e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function tt(s,e){return e===void 0&&(e=0),setTimeout(s,e)}function st(){return Date.now()}function yi(s){const e=ae();let t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function bi(s,e){e===void 0&&(e="x");const t=ae();let i,n,r;const a=yi(s);return t.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(n==="none"?"":n)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=r.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?n=r.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function De(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function wi(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function le(){const s=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!wi(i)){const n=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,a=n.length;r<a;r+=1){const l=n[r],o=Object.getOwnPropertyDescriptor(i,l);o!==void 0&&o.enumerable&&(De(s[l])&&De(i[l])?i[l].__swiper__?s[l]=i[l]:le(s[l],i[l]):!De(s[l])&&De(i[l])?(s[l]={},i[l].__swiper__?s[l]=i[l]:le(s[l],i[l])):s[l]=i[l])}}}return s}function Ke(s,e,t){s.style.setProperty(e,t)}function Es(s){let{swiper:e,targetPosition:t,side:i}=s;const n=ae(),r=-e.translate;let a=null,l;const o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=t>r?"next":"prev",c=(m,f)=>u==="next"&&m>=f||u==="prev"&&m<=f,h=()=>{l=new Date().getTime(),a===null&&(a=l);const m=Math.max(Math.min((l-a)/o,1),0),f=.5-Math.cos(m*Math.PI)/2;let v=r+f*(t-r);if(c(v,t)&&(v=t),e.wrapperEl.scrollTo({[i]:v}),c(v,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:v})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(h)};h()}function he(s,e){e===void 0&&(e="");const t=[...s.children];return s instanceof HTMLSlotElement&&t.push(...s.assignedElements()),e?t.filter(i=>i.matches(e)):t}function Ei(s,e){const t=e.contains(s);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(s):t}function it(s){try{console.warn(s);return}catch{}}function Re(s,e){e===void 0&&(e=[]);const t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:we(e)),t}function ki(s){const e=ae(),t=ce(),i=s.getBoundingClientRect(),n=t.body,r=s.clientTop||n.clientTop||0,a=s.clientLeft||n.clientLeft||0,l=s===e?e.scrollY:s.scrollTop,o=s===e?e.scrollX:s.scrollLeft;return{top:i.top+l-r,left:i.left+o-a}}function Si(s,e){const t=[];for(;s.previousElementSibling;){const i=s.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function Ti(s,e){const t=[];for(;s.nextElementSibling;){const i=s.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),s=i}return t}function ke(s,e){return ae().getComputedStyle(s,null).getPropertyValue(e)}function nt(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function ks(s,e){const t=[];let i=s.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function It(s,e,t){const i=ae();return t?s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):s.offsetWidth}function Z(s){return(Array.isArray(s)?s:[s]).filter(e=>!!e)}let yt;function Ci(){const s=ae(),e=ce();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function Ss(){return yt||(yt=Ci()),yt}let bt;function xi(s){let{userAgent:e}=s===void 0?{}:s;const t=Ss(),i=ae(),n=i.navigator.platform,r=e||i.navigator.userAgent,a={ios:!1,android:!1},l=i.screen.width,o=i.screen.height,u=r.match(/(Android);?[\s\/]+([\d.]+)?/);let c=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),m=!c&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=n==="Win32";let v=n==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&v&&t.touch&&y.indexOf(`${l}x${o}`)>=0&&(c=r.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),v=!1),u&&!f&&(a.os="android",a.android=!0),(c||m||h)&&(a.os="ios",a.ios=!0),a}function Ts(s){return s===void 0&&(s={}),bt||(bt=xi(s)),bt}let wt;function Ai(){const s=ae(),e=Ts();let t=!1;function i(){const l=s.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(i()){const l=String(s.navigator.userAgent);if(l.includes("Version/")){const[o,u]=l.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));t=o<16||o===16&&u<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),r=i(),a=r||n&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:a,isWebView:n}}function _i(){return wt||(wt=Ai()),wt}function Mi(s){let{swiper:e,on:t,emit:i}=s;const n=ae();let r=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},o=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(h=>{a=n.requestAnimationFrame(()=>{const{width:m,height:f}=e;let v=m,y=f;h.forEach(E=>{let{contentBoxSize:b,contentRect:p,target:g}=E;g&&g!==e.el||(v=p?p.width:(b[0]||b).inlineSize,y=p?p.height:(b[0]||b).blockSize)}),(v!==m||y!==f)&&l()})}),r.observe(e.el))},u=()=>{a&&n.cancelAnimationFrame(a),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){o();return}n.addEventListener("resize",l),n.addEventListener("orientationchange",c)}),t("destroy",()=>{u(),n.removeEventListener("resize",l),n.removeEventListener("orientationchange",c)})}function Ii(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=[],a=ae(),l=function(c,h){h===void 0&&(h={});const m=a.MutationObserver||a.WebkitMutationObserver,f=new m(v=>{if(e.__preventObserver__)return;if(v.length===1){n("observerUpdate",v[0]);return}const y=function(){n("observerUpdate",v[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});f.observe(c,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),r.push(f)},o=()=>{if(e.params.observer){if(e.params.observeParents){const c=ks(e.hostEl);for(let h=0;h<c.length;h+=1)l(c[h])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{r.forEach(c=>{c.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",o),i("destroy",u)}var Li={on(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=t?"unshift":"push";return s.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][n](e)}),i},once(s,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(s,n),n.__emitterProxy&&delete n.__emitterProxy;for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];e.apply(i,a)}return n.__emitterProxy=e,i.on(s,n,t)},onAny(s,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[i](s),t},offAny(s){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,r)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let e,t,i;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=s):(e=r[0].events,t=r[0].data,i=r[0].context||s),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(o=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(u=>{u.apply(i,[o,...t])}),s.eventsListeners&&s.eventsListeners[o]&&s.eventsListeners[o].forEach(u=>{u.apply(i,t)})}),s}};function Pi(){const s=this;let e,t;const i=s.el;typeof s.params.width<"u"&&s.params.width!==null?e=s.params.width:e=i.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?t=s.params.height:t=i.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(ke(i,"padding-left")||0,10)-parseInt(ke(i,"padding-right")||0,10),t=t-parseInt(ke(i,"padding-top")||0,10)-parseInt(ke(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function Fi(){const s=this;function e(C,L){return parseFloat(C.getPropertyValue(s.getDirectionLabel(L))||0)}const t=s.params,{wrapperEl:i,slidesEl:n,size:r,rtlTranslate:a,wrongRTL:l}=s,o=s.virtual&&t.virtual.enabled,u=o?s.virtual.slides.length:s.slides.length,c=he(n,`.${s.params.slideClass}, swiper-slide`),h=o?s.virtual.slides.length:c.length;let m=[];const f=[],v=[];let y=t.slidesOffsetBefore;typeof y=="function"&&(y=t.slidesOffsetBefore.call(s));let E=t.slidesOffsetAfter;typeof E=="function"&&(E=t.slidesOffsetAfter.call(s));const b=s.snapGrid.length,p=s.slidesGrid.length;let g=t.spaceBetween,w=-y,k=0,M=0;if(typeof r>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*r:typeof g=="string"&&(g=parseFloat(g)),s.virtualSize=-g,c.forEach(C=>{a?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Ke(i,"--swiper-centered-offset-before",""),Ke(i,"--swiper-centered-offset-after",""));const q=t.grid&&t.grid.rows>1&&s.grid;q?s.grid.initSlides(c):s.grid&&s.grid.unsetSlides();let N;const B=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(C=>typeof t.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<h;C+=1){N=0;let L;if(c[C]&&(L=c[C]),q&&s.grid.updateSlide(C,L,c),!(c[C]&&ke(L,"display")==="none")){if(t.slidesPerView==="auto"){B&&(c[C].style[s.getDirectionLabel("width")]="");const T=getComputedStyle(L),S=L.style.transform,x=L.style.webkitTransform;if(S&&(L.style.transform="none"),x&&(L.style.webkitTransform="none"),t.roundLengths)N=s.isHorizontal()?It(L,"width",!0):It(L,"height",!0);else{const I=e(T,"width"),R=e(T,"padding-left"),ne=e(T,"padding-right"),$=e(T,"margin-left"),G=e(T,"margin-right"),ie=T.getPropertyValue("box-sizing");if(ie&&ie==="border-box")N=I+$+G;else{const{clientWidth:Ce,offsetWidth:We}=L;N=I+R+ne+$+G+(We-Ce)}}S&&(L.style.transform=S),x&&(L.style.webkitTransform=x),t.roundLengths&&(N=Math.floor(N))}else N=(r-(t.slidesPerView-1)*g)/t.slidesPerView,t.roundLengths&&(N=Math.floor(N)),c[C]&&(c[C].style[s.getDirectionLabel("width")]=`${N}px`);c[C]&&(c[C].swiperSlideSize=N),v.push(N),t.centeredSlides?(w=w+N/2+k/2+g,k===0&&C!==0&&(w=w-r/2-g),C===0&&(w=w-r/2-g),Math.abs(w)<1/1e3&&(w=0),t.roundLengths&&(w=Math.floor(w)),M%t.slidesPerGroup===0&&m.push(w),f.push(w)):(t.roundLengths&&(w=Math.floor(w)),(M-Math.min(s.params.slidesPerGroupSkip,M))%s.params.slidesPerGroup===0&&m.push(w),f.push(w),w=w+N+g),s.virtualSize+=N+g,k=N,M+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+E,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${s.virtualSize+g}px`),t.setWrapperSize&&(i.style[s.getDirectionLabel("width")]=`${s.virtualSize+g}px`),q&&s.grid.updateWrapperSize(N,m),!t.centeredSlides){const C=[];for(let L=0;L<m.length;L+=1){let T=m[L];t.roundLengths&&(T=Math.floor(T)),m[L]<=s.virtualSize-r&&C.push(T)}m=C,Math.floor(s.virtualSize-r)-Math.floor(m[m.length-1])>1&&m.push(s.virtualSize-r)}if(o&&t.loop){const C=v[0]+g;if(t.slidesPerGroup>1){const L=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),T=C*t.slidesPerGroup;for(let S=0;S<L;S+=1)m.push(m[m.length-1]+T)}for(let L=0;L<s.virtual.slidesBefore+s.virtual.slidesAfter;L+=1)t.slidesPerGroup===1&&m.push(m[m.length-1]+C),f.push(f[f.length-1]+C),s.virtualSize+=C}if(m.length===0&&(m=[0]),g!==0){const C=s.isHorizontal()&&a?"marginLeft":s.getDirectionLabel("marginRight");c.filter((L,T)=>!t.cssMode||t.loop?!0:T!==c.length-1).forEach(L=>{L.style[C]=`${g}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let C=0;v.forEach(T=>{C+=T+(g||0)}),C-=g;const L=C>r?C-r:0;m=m.map(T=>T<=0?-y:T>L?L+E:T)}if(t.centerInsufficientSlides){let C=0;v.forEach(T=>{C+=T+(g||0)}),C-=g;const L=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(C+L<r){const T=(r-C-L)/2;m.forEach((S,x)=>{m[x]=S-T}),f.forEach((S,x)=>{f[x]=S+T})}}if(Object.assign(s,{slides:c,snapGrid:m,slidesGrid:f,slidesSizesGrid:v}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Ke(i,"--swiper-centered-offset-before",`${-m[0]}px`),Ke(i,"--swiper-centered-offset-after",`${s.size/2-v[v.length-1]/2}px`);const C=-s.snapGrid[0],L=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(T=>T+C),s.slidesGrid=s.slidesGrid.map(T=>T+L)}if(h!==u&&s.emit("slidesLengthChange"),m.length!==b&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),f.length!==p&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!o&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const C=`${t.containerModifierClass}backface-hidden`,L=s.el.classList.contains(C);h<=t.maxBackfaceHiddenSlides?L||s.el.classList.add(C):L&&s.el.classList.remove(C)}}function Di(s){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let n=0,r;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);const a=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const l=e.activeIndex+r;if(l>e.slides.length&&!i)break;t.push(a(l))}else t.push(a(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const l=t[r].offsetHeight;n=l>n?l:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function Oi(){const s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(s.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-s.cssOverflowAdjustment()}const Jt=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function Bi(s){s===void 0&&(s=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-s;n&&(a=s),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let o=0;o<i.length;o+=1){const u=i[o];let c=u.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(c-=i[0].swiperSlideOffset);const h=(a+(t.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+l),m=(a-r[0]+(t.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+l),f=-(a-c),v=f+e.slidesSizesGrid[o],y=f>=0&&f<=e.size-e.slidesSizesGrid[o],E=f>=0&&f<e.size-1||v>1&&v<=e.size||f<=0&&v>=e.size;E&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(o)),Jt(u,E,t.slideVisibleClass),Jt(u,y,t.slideFullyVisibleClass),u.progress=n?-h:h,u.originalProgress=n?-m:m}}function Vi(s){const e=this;if(typeof s>"u"){const c=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*c||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:r,isEnd:a,progressLoop:l}=e;const o=r,u=a;if(i===0)n=0,r=!0,a=!0;else{n=(s-e.minTranslate())/i;const c=Math.abs(s-e.minTranslate())<1,h=Math.abs(s-e.maxTranslate())<1;r=c||n<=0,a=h||n>=1,c&&(n=0),h&&(n=1)}if(t.loop){const c=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[c],f=e.slidesGrid[h],v=e.slidesGrid[e.slidesGrid.length-1],y=Math.abs(s);y>=m?l=(y-m)/v:l=(y+v-f)/v,l>1&&(l-=1)}Object.assign(e,{progress:n,progressLoop:l,isBeginning:r,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),r&&!o&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(o&&!r||u&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}const Et=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function Ri(){const s=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=s,r=s.virtual&&t.virtual.enabled,a=s.grid&&t.grid&&t.grid.rows>1,l=h=>he(i,`.${t.slideClass}${h}, swiper-slide${h}`)[0];let o,u,c;if(r)if(t.loop){let h=n-s.virtual.slidesBefore;h<0&&(h=s.virtual.slides.length+h),h>=s.virtual.slides.length&&(h-=s.virtual.slides.length),o=l(`[data-swiper-slide-index="${h}"]`)}else o=l(`[data-swiper-slide-index="${n}"]`);else a?(o=e.filter(h=>h.column===n)[0],c=e.filter(h=>h.column===n+1)[0],u=e.filter(h=>h.column===n-1)[0]):o=e[n];o&&(a||(c=Ti(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c&&(c=e[0]),u=Si(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(h=>{Et(h,h===o,t.slideActiveClass),Et(h,h===c,t.slideNextClass),Et(h,h===u,t.slidePrevClass)}),s.emitSlidesClasses()}const Xe=(s,e)=>{if(!s||s.destroyed||!s.params)return;const t=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,i=e.closest(t());if(i){let n=i.querySelector(`.${s.params.lazyPreloaderClass}`);!n&&s.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},kt=(s,e)=>{if(!s.slides[e])return;const t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Lt=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext;const t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),n=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const a=n,l=[a-e];l.push(...Array.from({length:e}).map((o,u)=>a+i+u)),s.slides.forEach((o,u)=>{l.includes(o.column)&&kt(s,u)});return}const r=n+i-1;if(s.params.rewind||s.params.loop)for(let a=n-e;a<=r+e;a+=1){const l=(a%t+t)%t;(l<n||l>r)&&kt(s,l)}else for(let a=Math.max(n-e,0);a<=Math.min(r+e,t-1);a+=1)a!==n&&(a>r||a<n)&&kt(s,a)};function Ni(s){const{slidesGrid:e,params:t}=s,i=s.rtlTranslate?s.translate:-s.translate;let n;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?n=r:i>=e[r]&&i<e[r+1]&&(n=r+1):i>=e[r]&&(n=r);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function $i(s){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:r,realIndex:a,snapIndex:l}=e;let o=s,u;const c=f=>{let v=f-e.virtual.slidesBefore;return v<0&&(v=e.virtual.slides.length+v),v>=e.virtual.slides.length&&(v-=e.virtual.slides.length),v};if(typeof o>"u"&&(o=Ni(e)),i.indexOf(t)>=0)u=i.indexOf(t);else{const f=Math.min(n.slidesPerGroupSkip,o);u=f+Math.floor((o-f)/n.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),o===r&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(o===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(o);return}const h=e.grid&&n.grid&&n.grid.rows>1;let m;if(e.virtual&&n.virtual.enabled&&n.loop)m=c(o);else if(h){const f=e.slides.filter(y=>y.column===o)[0];let v=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(v)&&(v=Math.max(e.slides.indexOf(f),0)),m=Math.floor(v/n.grid.rows)}else if(e.slides[o]){const f=e.slides[o].getAttribute("data-swiper-slide-index");f?m=parseInt(f,10):m=o}else m=o;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:m,previousIndex:r,activeIndex:o}),e.initialized&&Lt(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function zi(s,e){const t=this,i=t.params;let n=s.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(l=>{!n&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(n=l)});let r=!1,a;if(n){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===n){r=!0,a=l;break}}if(n&&r)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var qi={updateSize:Pi,updateSlides:Fi,updateAutoHeight:Di,updateSlidesOffset:Oi,updateSlidesProgress:Bi,updateProgress:Vi,updateSlidesClasses:Ri,updateActiveIndex:$i,updateClickedSlide:zi};function ji(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=e;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let a=bi(r,s);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function Hi(s,e){const t=this,{rtlTranslate:i,params:n,wrapperEl:r,progress:a}=t;let l=0,o=0;const u=0;t.isHorizontal()?l=i?-s:s:o=s,n.roundLengths&&(l=Math.floor(l),o=Math.floor(o)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:o,n.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-o:n.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():o-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${o}px, ${u}px)`);let c;const h=t.maxTranslate()-t.minTranslate();h===0?c=0:c=(s-t.minTranslate())/h,c!==a&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function Gi(){return-this.snapGrid[0]}function Ui(){return-this.snapGrid[this.snapGrid.length-1]}function Wi(s,e,t,i,n){s===void 0&&(s=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const r=this,{params:a,wrapperEl:l}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const o=r.minTranslate(),u=r.maxTranslate();let c;if(i&&s>o?c=o:i&&s<u?c=u:c=s,r.updateProgress(c),a.cssMode){const h=r.isHorizontal();if(e===0)l[h?"scrollLeft":"scrollTop"]=-c;else{if(!r.support.smoothScroll)return Es({swiper:r,targetPosition:-c,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(c),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(c),t&&(r.emit("beforeTransitionStart",e,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(m){!r||r.destroyed||m.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Ki={getTranslate:ji,setTranslate:Hi,minTranslate:Gi,maxTranslate:Ui,translateTo:Wi};function Yi(s,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${s}ms`,t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function Cs(s){let{swiper:e,runCallbacks:t,direction:i,step:n}=s;const{activeIndex:r,previousIndex:a}=e;let l=i;if(l||(r>a?l="next":r<a?l="prev":l="reset"),e.emit(`transition${n}`),t&&r!==a){if(l==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),l==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function Xi(s,e){s===void 0&&(s=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Cs({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function Zi(s,e){s===void 0&&(s=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Cs({swiper:t,runCallbacks:s,direction:e,step:"End"}))}var Ji={setTransition:Yi,transitionStart:Xi,transitionEnd:Zi};function Qi(s,e,t,i,n){s===void 0&&(s=0),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const r=this;let a=s;a<0&&(a=0);const{params:l,snapGrid:o,slidesGrid:u,previousIndex:c,activeIndex:h,rtlTranslate:m,wrapperEl:f,enabled:v}=r;if(!v&&!i&&!n||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const y=Math.min(r.params.slidesPerGroupSkip,a);let E=y+Math.floor((a-y)/r.params.slidesPerGroup);E>=o.length&&(E=o.length-1);const b=-o[E];if(l.normalizeSlideIndex)for(let k=0;k<u.length;k+=1){const M=-Math.floor(b*100),q=Math.floor(u[k]*100),N=Math.floor(u[k+1]*100);typeof u[k+1]<"u"?M>=q&&M<N-(N-q)/2?a=k:M>=q&&M<N&&(a=k+1):M>=q&&(a=k)}if(r.initialized&&a!==h&&(!r.allowSlideNext&&(m?b>r.translate&&b>r.minTranslate():b<r.translate&&b<r.minTranslate())||!r.allowSlidePrev&&b>r.translate&&b>r.maxTranslate()&&(h||0)!==a))return!1;a!==(c||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(b);let p;a>h?p="next":a<h?p="prev":p="reset";const g=r.virtual&&r.params.virtual.enabled;if(!(g&&n)&&(m&&-b===r.translate||!m&&b===r.translate))return r.updateActiveIndex(a),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(b),p!=="reset"&&(r.transitionStart(t,p),r.transitionEnd(t,p)),!1;if(l.cssMode){const k=r.isHorizontal(),M=m?b:-b;if(e===0)g&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),g&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[k?"scrollLeft":"scrollTop"]=M})):f[k?"scrollLeft":"scrollTop"]=M,g&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return Es({swiper:r,targetPosition:M,side:k?"left":"top"}),!0;f.scrollTo({[k?"left":"top"]:M,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(b),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,p),e===0?r.transitionEnd(t,p):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(M){!r||r.destroyed||M.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,p))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function en(s,e,t,i){s===void 0&&(s=0),t===void 0&&(t=!0),typeof s=="string"&&(s=parseInt(s,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const r=n.grid&&n.params.grid&&n.params.grid.rows>1;let a=s;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)a=a+n.virtual.slidesBefore;else{let l;if(r){const m=a*n.params.grid.rows;l=n.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===m)[0].column}else l=n.getSlideIndexByData(a);const o=r?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:u}=n.params;let c=n.params.slidesPerView;c==="auto"?c=n.slidesPerViewDynamic():(c=Math.ceil(parseFloat(n.params.slidesPerView,10)),u&&c%2===0&&(c=c+1));let h=o-l<c;if(u&&(h=h||l<Math.ceil(c/2)),i&&u&&n.params.slidesPerView!=="auto"&&!r&&(h=!1),h){const m=u?l<n.activeIndex?"prev":"next":l-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-o+1,slideRealIndex:m==="next"?n.realIndex:void 0})}if(r){const m=a*n.params.grid.rows;a=n.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===m)[0].column}else a=n.getSlideIndexByData(a)}return requestAnimationFrame(()=>{n.slideTo(a,e,t,i)}),n}function tn(s,e,t){e===void 0&&(e=!0);const i=this,{enabled:n,params:r,animating:a}=i;if(!n||i.destroyed)return i;typeof s>"u"&&(s=i.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const o=i.activeIndex<r.slidesPerGroupSkip?1:l,u=i.virtual&&r.virtual.enabled;if(r.loop){if(a&&!u&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+o,s,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,s,e,t):i.slideTo(i.activeIndex+o,s,e,t)}function sn(s,e,t){e===void 0&&(e=!0);const i=this,{params:n,snapGrid:r,slidesGrid:a,rtlTranslate:l,enabled:o,animating:u}=i;if(!o||i.destroyed)return i;typeof s>"u"&&(s=i.params.speed);const c=i.virtual&&n.virtual.enabled;if(n.loop){if(u&&!c&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=l?i.translate:-i.translate;function m(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const f=m(h),v=r.map(b=>m(b));let y=r[v.indexOf(f)-1];if(typeof y>"u"&&n.cssMode){let b;r.forEach((p,g)=>{f>=p&&(b=g)}),typeof b<"u"&&(y=r[b>0?b-1:b])}let E=0;if(typeof y<"u"&&(E=a.indexOf(y),E<0&&(E=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(E=E-i.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),n.rewind&&i.isBeginning){const b=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(b,s,e,t)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(E,s,e,t)}),!0;return i.slideTo(E,s,e,t)}function nn(s,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof s>"u"&&(s=i.params.speed),i.slideTo(i.activeIndex,s,e,t)}function rn(s,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;if(n.destroyed)return;typeof s>"u"&&(s=n.params.speed);let r=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,r),l=a+Math.floor((r-a)/n.params.slidesPerGroup),o=n.rtlTranslate?n.translate:-n.translate;if(o>=n.snapGrid[l]){const u=n.snapGrid[l],c=n.snapGrid[l+1];o-u>(c-u)*i&&(r+=n.params.slidesPerGroup)}else{const u=n.snapGrid[l-1],c=n.snapGrid[l];o-u<=(c-u)*i&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,s,e,t)}function an(){const s=this;if(s.destroyed)return;const{params:e,slidesEl:t}=s,i=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView;let n=s.clickedIndex,r;const a=s.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<s.loopedSlides-i/2||n>s.slides.length-s.loopedSlides+i/2?(s.loopFix(),n=s.getSlideIndex(he(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),tt(()=>{s.slideTo(n)})):s.slideTo(n):n>s.slides.length-i?(s.loopFix(),n=s.getSlideIndex(he(t,`${a}[data-swiper-slide-index="${r}"]`)[0]),tt(()=>{s.slideTo(n)})):s.slideTo(n)}else s.slideTo(n)}var ln={slideTo:Qi,slideToLoop:en,slideNext:tn,slidePrev:sn,slideReset:nn,slideToClosest:rn,slideToClickedSlide:an};function on(s){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const n=()=>{he(i,`.${t.slideClass}, swiper-slide`).forEach((h,m)=>{h.setAttribute("data-swiper-slide-index",m)})},r=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(r?t.grid.rows:1),l=e.slides.length%a!==0,o=r&&e.slides.length%t.grid.rows!==0,u=c=>{for(let h=0;h<c;h+=1){const m=e.isElement?Re("swiper-slide",[t.slideBlankClass]):Re("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(m)}};if(l){if(t.loopAddBlankSlides){const c=a-e.slides.length%a;u(c),e.recalcSlides(),e.updateSlides()}else it("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(o){if(t.loopAddBlankSlides){const c=t.grid.rows-e.slides.length%t.grid.rows;u(c),e.recalcSlides(),e.updateSlides()}else it("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();e.loopFix({slideRealIndex:s,direction:t.centeredSlides?void 0:"next"})}function un(s){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:r,byController:a,byMousewheel:l}=s===void 0?{}:s;const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:h,slidesEl:m,params:f}=o,{centeredSlides:v}=f;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&f.virtual.enabled){t&&(!f.centeredSlides&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):f.centeredSlides&&o.snapIndex<f.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=c,o.allowSlideNext=h,o.emit("loopFix");return}let y=f.slidesPerView;y==="auto"?y=o.slidesPerViewDynamic():(y=Math.ceil(parseFloat(f.slidesPerView,10)),v&&y%2===0&&(y=y+1));const E=f.slidesPerGroupAuto?y:f.slidesPerGroup;let b=E;b%E!==0&&(b+=E-b%E),b+=f.loopAdditionalSlides,o.loopedSlides=b;const p=o.grid&&f.grid&&f.grid.rows>1;u.length<y+b?it("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):p&&f.grid.fill==="row"&&it("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const g=[],w=[];let k=o.activeIndex;typeof r>"u"?r=o.getSlideIndex(u.filter(S=>S.classList.contains(f.slideActiveClass))[0]):k=r;const M=i==="next"||!i,q=i==="prev"||!i;let N=0,B=0;const C=p?Math.ceil(u.length/f.grid.rows):u.length,T=(p?u[r].column:r)+(v&&typeof n>"u"?-y/2+.5:0);if(T<b){N=Math.max(b-T,E);for(let S=0;S<b-T;S+=1){const x=S-Math.floor(S/C)*C;if(p){const I=C-x-1;for(let R=u.length-1;R>=0;R-=1)u[R].column===I&&g.push(R)}else g.push(C-x-1)}}else if(T+y>C-b){B=Math.max(T-(C-b*2),E);for(let S=0;S<B;S+=1){const x=S-Math.floor(S/C)*C;p?u.forEach((I,R)=>{I.column===x&&w.push(R)}):w.push(x)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),q&&g.forEach(S=>{u[S].swiperLoopMoveDOM=!0,m.prepend(u[S]),u[S].swiperLoopMoveDOM=!1}),M&&w.forEach(S=>{u[S].swiperLoopMoveDOM=!0,m.append(u[S]),u[S].swiperLoopMoveDOM=!1}),o.recalcSlides(),f.slidesPerView==="auto"?o.updateSlides():p&&(g.length>0&&q||w.length>0&&M)&&o.slides.forEach((S,x)=>{o.grid.updateSlide(x,S,o.slides)}),f.watchSlidesProgress&&o.updateSlidesOffset(),t){if(g.length>0&&q){if(typeof e>"u"){const S=o.slidesGrid[k],I=o.slidesGrid[k+N]-S;l?o.setTranslate(o.translate-I):(o.slideTo(k+Math.ceil(N),0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else if(n){const S=p?g.length/f.grid.rows:g.length;o.slideTo(o.activeIndex+S,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(w.length>0&&M)if(typeof e>"u"){const S=o.slidesGrid[k],I=o.slidesGrid[k-B]-S;l?o.setTranslate(o.translate-I):(o.slideTo(k-B,0,!1,!0),n&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-I,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-I))}else{const S=p?w.length/f.grid.rows:w.length;o.slideTo(o.activeIndex-S,0,!1,!0)}}if(o.allowSlidePrev=c,o.allowSlideNext=h,o.controller&&o.controller.control&&!a){const S={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(x=>{!x.destroyed&&x.params.loop&&x.loopFix({...S,slideTo:x.params.slidesPerView===f.slidesPerView?t:!1})}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...S,slideTo:o.controller.control.params.slidesPerView===f.slidesPerView?t:!1})}o.emit("loopFix")}function cn(){const s=this,{params:e,slidesEl:t}=s;if(!e.loop||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const i=[];s.slides.forEach(n=>{const r=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[r]=n}),s.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var dn={loopCreate:on,loopFix:un,loopDestroy:cn};function hn(s){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function pn(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var mn={setGrabCursor:hn,unsetGrabCursor:pn};function fn(s,e){e===void 0&&(e=this);function t(i){if(!i||i===ce()||i===ae())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(s);return!n&&!i.getRootNode?null:n||t(i.getRootNode().host)}return t(e)}function Qt(s,e,t){const i=ae(),{params:n}=s,r=n.edgeSwipeDetection,a=n.edgeSwipeThreshold;return r&&(t<=a||t>=i.innerWidth-a)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function gn(s){const e=this,t=ce();let i=s;i.originalEvent&&(i=i.originalEvent);const n=e.touchEventsData;if(i.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(n.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Qt(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:a,enabled:l}=e;if(!l||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let o=i.target;if(r.touchEventsTarget==="wrapper"&&!Ei(o,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;const u=!!r.noSwipingClass&&r.noSwipingClass!=="",c=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&c&&(o=c[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,m=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(m?fn(h,o):o.closest(h))){e.allowClick=!0;return}if(r.swipeHandler&&!o.closest(r.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const f=a.currentX,v=a.currentY;if(!Qt(e,i,f))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=f,a.startY=v,n.touchStartTime=st(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1);let y=!0;o.matches(n.focusableElements)&&(y=!1,o.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==o&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!o.matches(n.focusableElements))&&t.activeElement.blur();const E=y&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||E)&&!o.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function vn(s){const e=ce(),t=this,i=t.touchEventsData,{params:n,touches:r,rtlTranslate:a,enabled:l}=t;if(!l||!n.simulateTouch&&s.pointerType==="mouse")return;let o=s;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(i.touchId!==null||o.pointerId!==i.pointerId))return;let u;if(o.type==="touchmove"){if(u=[...o.changedTouches].filter(M=>M.identifier===i.touchId)[0],!u||u.identifier!==i.touchId)return}else u=o;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",o);return}const c=u.pageX,h=u.pageY;if(o.preventedByNestedSwiper){r.startX=c,r.startY=h;return}if(!t.allowTouchMove){o.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:c,startY:h,currentX:c,currentY:h}),i.touchStartTime=st());return}if(n.touchReleaseOnEdges&&!n.loop){if(t.isVertical()){if(h<r.startY&&t.translate<=t.maxTranslate()||h>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(c<r.startX&&t.translate<=t.maxTranslate()||c>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==o.target&&o.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&o.target===e.activeElement&&o.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",o),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=c,r.currentY=h;const m=r.currentX-r.startX,f=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(m**2+f**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let M;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:m*m+f*f>=25&&(M=Math.atan2(Math.abs(f),Math.abs(m))*180/Math.PI,i.isScrolling=t.isHorizontal()?M>n.touchAngle:90-M>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",o),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||o.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&o.cancelable&&o.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&o.stopPropagation();let v=t.isHorizontal()?m:f,y=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;n.oneWayMovement&&(v=Math.abs(v)*(a?1:-1),y=Math.abs(y)*(a?1:-1)),r.diff=v,v*=n.touchRatio,a&&(v=-v,y=-y);const E=t.touchesDirection;t.swipeDirection=v>0?"prev":"next",t.touchesDirection=y>0?"prev":"next";const b=t.params.loop&&!n.cssMode,p=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(b&&p&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const M=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(M)}i.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",o)}let g;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&E!==t.touchesDirection&&b&&p&&Math.abs(v)>=1){Object.assign(r,{startX:c,startY:h,currentX:c,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",o),i.isMoved=!0,i.currentTranslate=v+i.startTranslate;let w=!0,k=n.resistanceRatio;if(n.touchReleaseOnEdges&&(k=0),v>0?(b&&p&&!g&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(w=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+v)**k))):v<0&&(b&&p&&!g&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(w=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-v)**k))),w&&(o.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(v)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function yn(s){const e=this,t=e.touchEventsData;let i=s;i.originalEvent&&(i=i.originalEvent);let n;if(i.type==="touchend"||i.type==="touchcancel"){if(n=[...i.changedTouches].filter(k=>k.identifier===t.touchId)[0],!n||n.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:o,slidesGrid:u,enabled:c}=e;if(!c||!a.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=st(),m=h-t.touchStartTime;if(e.allowClick){const k=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(k&&k[0]||i.target,k),e.emit("tap click",i),m<300&&h-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=st(),tt(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let f;if(a.followFinger?f=o?e.translate:-e.translate:f=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const v=f>=-e.maxTranslate()&&!e.params.loop;let y=0,E=e.slidesSizesGrid[0];for(let k=0;k<u.length;k+=k<a.slidesPerGroupSkip?1:a.slidesPerGroup){const M=k<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[k+M]<"u"?(v||f>=u[k]&&f<u[k+M])&&(y=k,E=u[k+M]-u[k]):(v||f>=u[k])&&(y=k,E=u[u.length-1]-u[u.length-2])}let b=null,p=null;a.rewind&&(e.isBeginning?p=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const g=(f-u[y])/E,w=y<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(m>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?b:y+w):e.slideTo(y)),e.swipeDirection==="prev"&&(g>1-a.longSwipesRatio?e.slideTo(y+w):p!==null&&g<0&&Math.abs(g)>a.longSwipesRatio?e.slideTo(p):e.slideTo(y))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(y+w):e.slideTo(y):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:y+w),e.swipeDirection==="prev"&&e.slideTo(p!==null?p:y))}}function es(){const s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:r}=s,a=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!l?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!a?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=n,s.allowSlideNext=i,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function bn(s){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function wn(){const s=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=s;if(!i)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let n;const r=s.maxTranslate()-s.minTranslate();r===0?n=0:n=(s.translate-s.minTranslate())/r,n!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function En(s){const e=this;Xe(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function kn(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const xs=(s,e)=>{const t=ce(),{params:i,el:n,wrapperEl:r,device:a}=s,l=!!i.nested,o=e==="on"?"addEventListener":"removeEventListener",u=e;!n||typeof n=="string"||(t[o]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:l}),n[o]("touchstart",s.onTouchStart,{passive:!1}),n[o]("pointerdown",s.onTouchStart,{passive:!1}),t[o]("touchmove",s.onTouchMove,{passive:!1,capture:l}),t[o]("pointermove",s.onTouchMove,{passive:!1,capture:l}),t[o]("touchend",s.onTouchEnd,{passive:!0}),t[o]("pointerup",s.onTouchEnd,{passive:!0}),t[o]("pointercancel",s.onTouchEnd,{passive:!0}),t[o]("touchcancel",s.onTouchEnd,{passive:!0}),t[o]("pointerout",s.onTouchEnd,{passive:!0}),t[o]("pointerleave",s.onTouchEnd,{passive:!0}),t[o]("contextmenu",s.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[o]("click",s.onClick,!0),i.cssMode&&r[o]("scroll",s.onScroll),i.updateOnWindowResize?s[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",es,!0):s[u]("observerUpdate",es,!0),n[o]("load",s.onLoad,{capture:!0}))};function Sn(){const s=this,{params:e}=s;s.onTouchStart=gn.bind(s),s.onTouchMove=vn.bind(s),s.onTouchEnd=yn.bind(s),s.onDocumentTouchStart=kn.bind(s),e.cssMode&&(s.onScroll=wn.bind(s)),s.onClick=bn.bind(s),s.onLoad=En.bind(s),xs(s,"on")}function Tn(){xs(this,"off")}var Cn={attachEvents:Sn,detachEvents:Tn};const ts=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;function xn(){const s=this,{realIndex:e,initialized:t,params:i,el:n}=s,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const a=s.getBreakpoint(r,s.params.breakpointsBase,s.el);if(!a||s.currentBreakpoint===a)return;const o=(a in r?r[a]:void 0)||s.originalParams,u=ts(s,i),c=ts(s,o),h=s.params.grabCursor,m=o.grabCursor,f=i.enabled;u&&!c?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),s.emitContainerClasses()):!u&&c&&(n.classList.add(`${i.containerModifierClass}grid`),(o.grid.fill&&o.grid.fill==="column"||!o.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),s.emitContainerClasses()),h&&!m?s.unsetGrabCursor():!h&&m&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(g=>{if(typeof o[g]>"u")return;const w=i[g]&&i[g].enabled,k=o[g]&&o[g].enabled;w&&!k&&s[g].disable(),!w&&k&&s[g].enable()});const v=o.direction&&o.direction!==i.direction,y=i.loop&&(o.slidesPerView!==i.slidesPerView||v),E=i.loop;v&&t&&s.changeDirection(),le(s.params,o);const b=s.params.enabled,p=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),f&&!b?s.disable():!f&&b&&s.enable(),s.currentBreakpoint=a,s.emit("_beforeBreakpoint",o),t&&(y?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!E&&p?(s.loopCreate(e),s.updateSlides()):E&&!p&&s.loopDestroy()),s.emit("breakpoint",o)}function An(s,e,t){if(e===void 0&&(e="window"),!s||e==="container"&&!t)return;let i=!1;const n=ae(),r=e==="window"?n.innerHeight:t.clientHeight,a=Object.keys(s).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const o=parseFloat(l.substr(1));return{value:r*o,point:l}}return{value:l,point:l}});a.sort((l,o)=>parseInt(l.value,10)-parseInt(o.value,10));for(let l=0;l<a.length;l+=1){const{point:o,value:u}=a[l];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(i=o):u<=t.clientWidth&&(i=o)}return i||"max"}var _n={setBreakpoint:xn,getBreakpoint:An};function Mn(s,e){const t=[];return s.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):typeof i=="string"&&t.push(e+i)}),t}function In(){const s=this,{classNames:e,params:t,rtl:i,el:n,device:r}=s,a=Mn(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),n.classList.add(...e),s.emitContainerClasses()}function Ln(){const s=this,{el:e,classNames:t}=s;!e||typeof e=="string"||(e.classList.remove(...t),s.emitContainerClasses())}var Pn={addClasses:In,removeClasses:Ln};function Fn(){const s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:i}=t;if(i){const n=s.slides.length-1,r=s.slidesGrid[n]+s.slidesSizesGrid[n]+i*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var Dn={checkOverflow:Fn},ss={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function On(s,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],r=i[n];if(typeof r!="object"||r===null){le(e,i);return}if(s[n]===!0&&(s[n]={enabled:!0}),n==="navigation"&&s[n]&&s[n].enabled&&!s[n].prevEl&&!s[n].nextEl&&(s[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&s[n]&&s[n].enabled&&!s[n].el&&(s[n].auto=!0),!(n in s&&"enabled"in r)){le(e,i);return}typeof s[n]=="object"&&!("enabled"in s[n])&&(s[n].enabled=!0),s[n]||(s[n]={enabled:!1}),le(e,i)}}const St={eventsEmitter:Li,update:qi,translate:Ki,transition:Ji,slide:ln,loop:dn,grabCursor:mn,events:Cn,breakpoints:_n,checkOverflow:Dn,classes:Pn},Tt={};class re{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?t=n[0]:[e,t]=n,t||(t={}),t=le({},t),e&&!t.el&&(t.el=e);const a=ce();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const c=[];return a.querySelectorAll(t.el).forEach(h=>{const m=le({},t,{el:h});c.push(new re(m))}),c}const l=this;l.__swiper__=!0,l.support=Ss(),l.device=Ts({userAgent:t.userAgent}),l.browser=_i(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const o={};l.modules.forEach(c=>{c({params:t,swiper:l,extendParams:On(t,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=le({},ss,o);return l.params=le({},u,Tt,t),l.originalParams=le({},l.params),l.passedParams=le({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(c=>{l.on(c,l.params.on[c])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=he(t,`.${i.slideClass}, swiper-slide`),r=nt(n[0]);return nt(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=he(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),a=(i.maxTranslate()-n)*e+n;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:n,slides:r,slidesGrid:a,slidesSizesGrid:l,size:o,activeIndex:u}=i;let c=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let h=r[u]?Math.ceil(r[u].swiperSlideSize):0,m;for(let f=u+1;f<r.length;f+=1)r[f]&&!m&&(h+=Math.ceil(r[f].swiperSlideSize),c+=1,h>o&&(m=!0));for(let f=u-1;f>=0;f-=1)r[f]&&!m&&(h+=r[f].swiperSlideSize,c+=1,h>o&&(m=!0))}else if(e==="current")for(let h=u+1;h<r.length;h+=1)(t?a[h]+l[h]-a[u]<o:a[h]-a[u]<o)&&(c+=1);else for(let h=u-1;h>=0;h-=1)a[u]-a[h]<o&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Xe(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(a.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):he(i,n())[0])();return!a&&t.params.createElements&&(a=Re("div",t.params.wrapperClass),i.append(a),he(i,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||ke(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||ke(i,"direction")==="rtl"),wrongRTL:ke(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(r=>{r.complete?Xe(t,r):r.addEventListener("load",a=>{Xe(t,a.target)})}),Lt(t),t.initialized=!0,Lt(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:n,el:r,wrapperEl:a,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(o=>{o.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(o=>{i.off(o)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),vi(i)),i.destroyed=!0),null}static extendDefaults(e){le(Tt,e)}static get extendedDefaults(){return Tt}static get defaults(){return ss}static installModule(e){re.prototype.__modules__||(re.prototype.__modules__=[]);const t=re.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>re.installModule(t)),re):(re.installModule(e),re)}}Object.keys(St).forEach(s=>{Object.keys(St[s]).forEach(e=>{re.prototype[e]=St[s][e]})});re.use([Mi,Ii]);function Ht(s,e,t,i){return s.params.createElements&&Object.keys(i).forEach(n=>{if(!t[n]&&t.auto===!0){let r=he(s.el,`.${i[n]}`)[0];r||(r=Re("div",i[n]),r.className=i[n],s.el.append(r)),t[n]=r,e[n]=r}}),t}function As(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(v){let y;return v&&typeof v=="string"&&e.isElement&&(y=e.el.querySelector(v)||e.hostEl.querySelector(v),y)?y:(v&&(typeof v=="string"&&(y=[...document.querySelectorAll(v)]),e.params.uniqueNavElements&&typeof v=="string"&&y&&y.length>1&&e.el.querySelectorAll(v).length===1?y=e.el.querySelector(v):y&&y.length===1&&(y=y[0])),v&&!y?v:y)}function a(v,y){const E=e.params.navigation;v=Z(v),v.forEach(b=>{b&&(b.classList[y?"add":"remove"](...E.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=y),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](E.lockClass))})}function l(){const{nextEl:v,prevEl:y}=e.navigation;if(e.params.loop){a(y,!1),a(v,!1);return}a(y,e.isBeginning&&!e.params.rewind),a(v,e.isEnd&&!e.params.rewind)}function o(v){v.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function u(v){v.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function c(){const v=e.params.navigation;if(e.params.navigation=Ht(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(v.nextEl||v.prevEl))return;let y=r(v.nextEl),E=r(v.prevEl);Object.assign(e.navigation,{nextEl:y,prevEl:E}),y=Z(y),E=Z(E);const b=(p,g)=>{p&&p.addEventListener("click",g==="next"?u:o),!e.enabled&&p&&p.classList.add(...v.lockClass.split(" "))};y.forEach(p=>b(p,"next")),E.forEach(p=>b(p,"prev"))}function h(){let{nextEl:v,prevEl:y}=e.navigation;v=Z(v),y=Z(y);const E=(b,p)=>{b.removeEventListener("click",p==="next"?u:o),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};v.forEach(b=>E(b,"next")),y.forEach(b=>E(b,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?f():(c(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:v,prevEl:y}=e.navigation;if(v=Z(v),y=Z(y),e.enabled){l();return}[...v,...y].filter(E=>!!E).forEach(E=>E.classList.add(e.params.navigation.lockClass))}),i("click",(v,y)=>{let{nextEl:E,prevEl:b}=e.navigation;E=Z(E),b=Z(b);const p=y.target;let g=b.includes(p)||E.includes(p);if(e.isElement&&!g){const w=y.path||y.composedPath&&y.composedPath();w&&(g=w.find(k=>E.includes(k)||b.includes(k)))}if(e.params.navigation.hideOnClick&&!g){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===p||e.pagination.el.contains(p)))return;let w;E.length?w=E[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(w=b[0].classList.contains(e.params.navigation.hiddenClass)),n(w===!0?"navigationShow":"navigationHide"),[...E,...b].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),l()},f=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:m,disable:f,update:l,init:c,destroy:h})}function Me(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Bn(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:p=>p,formatFractionTotal:p=>p,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let a,l=0;function o(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(p,g){const{bulletActiveClass:w}=e.params.pagination;p&&(p=p[`${g==="prev"?"previous":"next"}ElementSibling`],p&&(p.classList.add(`${w}-${g}`),p=p[`${g==="prev"?"previous":"next"}ElementSibling`],p&&p.classList.add(`${w}-${g}-${g}`)))}function c(p,g,w){if(p=p%w,g=g%w,g===p+1)return"next";if(g===p-1)return"previous"}function h(p){const g=p.target.closest(Me(e.params.pagination.bulletClass));if(!g)return;p.preventDefault();const w=nt(g)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const k=c(e.realIndex,w,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(w)}else e.slideTo(w)}function m(){const p=e.rtl,g=e.params.pagination;if(o())return;let w=e.pagination.el;w=Z(w);let k,M;const q=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(q/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(M=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,M=e.previousSnapIndex):(M=e.previousIndex||0,k=e.activeIndex||0),g.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const B=e.pagination.bullets;let C,L,T;if(g.dynamicBullets&&(a=It(B[0],e.isHorizontal()?"width":"height",!0),w.forEach(S=>{S.style[e.isHorizontal()?"width":"height"]=`${a*(g.dynamicMainBullets+4)}px`}),g.dynamicMainBullets>1&&M!==void 0&&(l+=k-(M||0),l>g.dynamicMainBullets-1?l=g.dynamicMainBullets-1:l<0&&(l=0)),C=Math.max(k-l,0),L=C+(Math.min(B.length,g.dynamicMainBullets)-1),T=(L+C)/2),B.forEach(S=>{const x=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${g.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();S.classList.remove(...x)}),w.length>1)B.forEach(S=>{const x=nt(S);x===k?S.classList.add(...g.bulletActiveClass.split(" ")):e.isElement&&S.setAttribute("part","bullet"),g.dynamicBullets&&(x>=C&&x<=L&&S.classList.add(...`${g.bulletActiveClass}-main`.split(" ")),x===C&&u(S,"prev"),x===L&&u(S,"next"))});else{const S=B[k];if(S&&S.classList.add(...g.bulletActiveClass.split(" ")),e.isElement&&B.forEach((x,I)=>{x.setAttribute("part",I===k?"bullet-active":"bullet")}),g.dynamicBullets){const x=B[C],I=B[L];for(let R=C;R<=L;R+=1)B[R]&&B[R].classList.add(...`${g.bulletActiveClass}-main`.split(" "));u(x,"prev"),u(I,"next")}}if(g.dynamicBullets){const S=Math.min(B.length,g.dynamicMainBullets+4),x=(a*S-a)/2-T*a,I=p?"right":"left";B.forEach(R=>{R.style[e.isHorizontal()?I:"top"]=`${x}px`})}}w.forEach((B,C)=>{if(g.type==="fraction"&&(B.querySelectorAll(Me(g.currentClass)).forEach(L=>{L.textContent=g.formatFractionCurrent(k+1)}),B.querySelectorAll(Me(g.totalClass)).forEach(L=>{L.textContent=g.formatFractionTotal(N)})),g.type==="progressbar"){let L;g.progressbarOpposite?L=e.isHorizontal()?"vertical":"horizontal":L=e.isHorizontal()?"horizontal":"vertical";const T=(k+1)/N;let S=1,x=1;L==="horizontal"?S=T:x=T,B.querySelectorAll(Me(g.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${S}) scaleY(${x})`,I.style.transitionDuration=`${e.params.speed}ms`})}g.type==="custom"&&g.renderCustom?(B.innerHTML=g.renderCustom(e,k+1,N),C===0&&n("paginationRender",B)):(C===0&&n("paginationRender",B),n("paginationUpdate",B)),e.params.watchOverflow&&e.enabled&&B.classList[e.isLocked?"add":"remove"](g.lockClass)})}function f(){const p=e.params.pagination;if(o())return;const g=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let w=e.pagination.el;w=Z(w);let k="";if(p.type==="bullets"){let M=e.params.loop?Math.ceil(g/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&M>g&&(M=g);for(let q=0;q<M;q+=1)p.renderBullet?k+=p.renderBullet.call(e,q,p.bulletClass):k+=`<${p.bulletElement} ${e.isElement?'part="bullet"':""} class="${p.bulletClass}"></${p.bulletElement}>`}p.type==="fraction"&&(p.renderFraction?k=p.renderFraction.call(e,p.currentClass,p.totalClass):k=`<span class="${p.currentClass}"></span> / <span class="${p.totalClass}"></span>`),p.type==="progressbar"&&(p.renderProgressbar?k=p.renderProgressbar.call(e,p.progressbarFillClass):k=`<span class="${p.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(M=>{p.type!=="custom"&&(M.innerHTML=k||""),p.type==="bullets"&&e.pagination.bullets.push(...M.querySelectorAll(Me(p.bulletClass)))}),p.type!=="custom"&&n("paginationRender",w[0])}function v(){e.params.pagination=Ht(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const p=e.params.pagination;if(!p.el)return;let g;typeof p.el=="string"&&e.isElement&&(g=e.el.querySelector(p.el)),!g&&typeof p.el=="string"&&(g=[...document.querySelectorAll(p.el)]),g||(g=p.el),!(!g||g.length===0)&&(e.params.uniqueNavElements&&typeof p.el=="string"&&Array.isArray(g)&&g.length>1&&(g=[...e.el.querySelectorAll(p.el)],g.length>1&&(g=g.filter(w=>ks(w,".swiper")[0]===e.el)[0])),Array.isArray(g)&&g.length===1&&(g=g[0]),Object.assign(e.pagination,{el:g}),g=Z(g),g.forEach(w=>{p.type==="bullets"&&p.clickable&&w.classList.add(...(p.clickableClass||"").split(" ")),w.classList.add(p.modifierClass+p.type),w.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.type==="bullets"&&p.dynamicBullets&&(w.classList.add(`${p.modifierClass}${p.type}-dynamic`),l=0,p.dynamicMainBullets<1&&(p.dynamicMainBullets=1)),p.type==="progressbar"&&p.progressbarOpposite&&w.classList.add(p.progressbarOppositeClass),p.clickable&&w.addEventListener("click",h),e.enabled||w.classList.add(p.lockClass)}))}function y(){const p=e.params.pagination;if(o())return;let g=e.pagination.el;g&&(g=Z(g),g.forEach(w=>{w.classList.remove(p.hiddenClass),w.classList.remove(p.modifierClass+p.type),w.classList.remove(e.isHorizontal()?p.horizontalClass:p.verticalClass),p.clickable&&(w.classList.remove(...(p.clickableClass||"").split(" ")),w.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(...p.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const p=e.params.pagination;let{el:g}=e.pagination;g=Z(g),g.forEach(w=>{w.classList.remove(p.horizontalClass,p.verticalClass),w.classList.add(e.isHorizontal()?p.horizontalClass:p.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?b():(v(),f(),m())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),i("snapIndexChange",()=>{m()}),i("snapGridLengthChange",()=>{f(),m()}),i("destroy",()=>{y()}),i("enable disable",()=>{let{el:p}=e.pagination;p&&(p=Z(p),p.forEach(g=>g.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{m()}),i("click",(p,g)=>{const w=g.target,k=Z(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const M=k[0].classList.contains(e.params.pagination.hiddenClass);n(M===!0?"paginationShow":"paginationHide"),k.forEach(q=>q.classList.toggle(e.params.pagination.hiddenClass))}});const E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Z(p),p.forEach(g=>g.classList.remove(e.params.pagination.paginationDisabledClass))),v(),f(),m()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:p}=e.pagination;p&&(p=Z(p),p.forEach(g=>g.classList.add(e.params.pagination.paginationDisabledClass))),y()};Object.assign(e.pagination,{enable:E,disable:b,render:f,update:m,init:v,destroy:y})}function Vn(s){let{swiper:e,extendParams:t,on:i,emit:n}=s;const r=ce();let a=!1,l=null,o=null,u,c,h,m;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function f(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:T,rtlTranslate:S}=e,{dragEl:x,el:I}=T,R=e.params.scrollbar,ne=e.params.loop?e.progressLoop:e.progress;let $=c,G=(h-c)*ne;S?(G=-G,G>0?($=c-G,G=0):-G+c>h&&($=h+G)):G<0?($=c+G,G=0):G+c>h&&($=h-G),e.isHorizontal()?(x.style.transform=`translate3d(${G}px, 0, 0)`,x.style.width=`${$}px`):(x.style.transform=`translate3d(0px, ${G}px, 0)`,x.style.height=`${$}px`),R.hide&&(clearTimeout(l),I.style.opacity=1,l=setTimeout(()=>{I.style.opacity=0,I.style.transitionDuration="400ms"},1e3))}function v(T){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${T}ms`)}function y(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:T}=e,{dragEl:S,el:x}=T;S.style.width="",S.style.height="",h=e.isHorizontal()?x.offsetWidth:x.offsetHeight,m=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?c=h*m:c=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?S.style.width=`${c}px`:S.style.height=`${c}px`,m>=1?x.style.display="none":x.style.display="",e.params.scrollbar.hide&&(x.style.opacity=0),e.params.watchOverflow&&e.enabled&&T.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function E(T){return e.isHorizontal()?T.clientX:T.clientY}function b(T){const{scrollbar:S,rtlTranslate:x}=e,{el:I}=S;let R;R=(E(T)-ki(I)[e.isHorizontal()?"left":"top"]-(u!==null?u:c/2))/(h-c),R=Math.max(Math.min(R,1),0),x&&(R=1-R);const ne=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*R;e.updateProgress(ne),e.setTranslate(ne),e.updateActiveIndex(),e.updateSlidesClasses()}function p(T){const S=e.params.scrollbar,{scrollbar:x,wrapperEl:I}=e,{el:R,dragEl:ne}=x;a=!0,u=T.target===ne?E(T)-T.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,T.preventDefault(),T.stopPropagation(),I.style.transitionDuration="100ms",ne.style.transitionDuration="100ms",b(T),clearTimeout(o),R.style.transitionDuration="0ms",S.hide&&(R.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",T)}function g(T){const{scrollbar:S,wrapperEl:x}=e,{el:I,dragEl:R}=S;a&&(T.preventDefault&&T.cancelable?T.preventDefault():T.returnValue=!1,b(T),x.style.transitionDuration="0ms",I.style.transitionDuration="0ms",R.style.transitionDuration="0ms",n("scrollbarDragMove",T))}function w(T){const S=e.params.scrollbar,{scrollbar:x,wrapperEl:I}=e,{el:R}=x;a&&(a=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",I.style.transitionDuration=""),S.hide&&(clearTimeout(o),o=tt(()=>{R.style.opacity=0,R.style.transitionDuration="400ms"},1e3)),n("scrollbarDragEnd",T),S.snapOnRelease&&e.slideToClosest())}function k(T){const{scrollbar:S,params:x}=e,I=S.el;if(!I)return;const R=I,ne=x.passiveListeners?{passive:!1,capture:!1}:!1,$=x.passiveListeners?{passive:!0,capture:!1}:!1;if(!R)return;const G=T==="on"?"addEventListener":"removeEventListener";R[G]("pointerdown",p,ne),r[G]("pointermove",g,ne),r[G]("pointerup",w,$)}function M(){!e.params.scrollbar.el||!e.scrollbar.el||k("on")}function q(){!e.params.scrollbar.el||!e.scrollbar.el||k("off")}function N(){const{scrollbar:T,el:S}=e;e.params.scrollbar=Ht(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const x=e.params.scrollbar;if(!x.el)return;let I;if(typeof x.el=="string"&&e.isElement&&(I=e.el.querySelector(x.el)),!I&&typeof x.el=="string"){if(I=r.querySelectorAll(x.el),!I.length)return}else I||(I=x.el);e.params.uniqueNavElements&&typeof x.el=="string"&&I.length>1&&S.querySelectorAll(x.el).length===1&&(I=S.querySelector(x.el)),I.length>0&&(I=I[0]),I.classList.add(e.isHorizontal()?x.horizontalClass:x.verticalClass);let R;I&&(R=I.querySelector(Me(e.params.scrollbar.dragClass)),R||(R=Re("div",e.params.scrollbar.dragClass),I.append(R))),Object.assign(T,{el:I,dragEl:R}),x.draggable&&M(),I&&I.classList[e.enabled?"remove":"add"](...we(e.params.scrollbar.lockClass))}function B(){const T=e.params.scrollbar,S=e.scrollbar.el;S&&S.classList.remove(...we(e.isHorizontal()?T.horizontalClass:T.verticalClass)),q()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const T=e.params.scrollbar;let{el:S}=e.scrollbar;S=Z(S),S.forEach(x=>{x.classList.remove(T.horizontalClass,T.verticalClass),x.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?L():(N(),y(),f())}),i("update resize observerUpdate lock unlock changeDirection",()=>{y()}),i("setTranslate",()=>{f()}),i("setTransition",(T,S)=>{v(S)}),i("enable disable",()=>{const{el:T}=e.scrollbar;T&&T.classList[e.enabled?"remove":"add"](...we(e.params.scrollbar.lockClass))}),i("destroy",()=>{B()});const C=()=>{e.el.classList.remove(...we(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...we(e.params.scrollbar.scrollbarDisabledClass)),N(),y(),f()},L=()=>{e.el.classList.add(...we(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...we(e.params.scrollbar.scrollbarDisabledClass)),B()};Object.assign(e.scrollbar,{enable:C,disable:L,updateSize:y,setTranslate:f,init:N,destroy:B})}function Rn(s){let{swiper:e,extendParams:t,on:i,emit:n,params:r}=s;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,o=r&&r.autoplay?r.autoplay.delay:3e3,u=r&&r.autoplay?r.autoplay.delay:3e3,c,h=new Date().getTime(),m,f,v,y,E,b,p;function g($){!e||e.destroyed||!e.wrapperEl||$.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",g),!(p||$.detail&&$.detail.bySwiperTouchMove)&&C())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(u=c,m=!1);const $=e.autoplay.paused?c:h+u-new Date().getTime();e.autoplay.timeLeft=$,n("autoplayTimeLeft",$,$/o),l=requestAnimationFrame(()=>{w()})},k=()=>{let $;return e.virtual&&e.params.virtual.enabled?$=e.slides.filter(ie=>ie.classList.contains("swiper-slide-active"))[0]:$=e.slides[e.activeIndex],$?parseInt($.getAttribute("data-swiper-autoplay"),10):void 0},M=$=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(l),w();let G=typeof $>"u"?e.params.autoplay.delay:$;o=e.params.autoplay.delay,u=e.params.autoplay.delay;const ie=k();!Number.isNaN(ie)&&ie>0&&typeof $>"u"&&(G=ie,o=ie,u=ie),c=G;const Ce=e.params.speed,We=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Ce,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Ce,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Ce,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Ce,!0,!0),n("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return G>0?(clearTimeout(a),a=setTimeout(()=>{We()},G)):requestAnimationFrame(()=>{We()}),G},q=()=>{h=new Date().getTime(),e.autoplay.running=!0,M(),n("autoplayStart")},N=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(l),n("autoplayStop")},B=($,G)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),$||(b=!0);const ie=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",g):C()};if(e.autoplay.paused=!0,G){E&&(c=e.params.autoplay.delay),E=!1,ie();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),ie())},C=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),b?(b=!1,M(c)):M(),e.autoplay.paused=!1,n("autoplayResume"))},L=()=>{if(e.destroyed||!e.autoplay.running)return;const $=ce();$.visibilityState==="hidden"&&(b=!0,B(!0)),$.visibilityState==="visible"&&C()},T=$=>{$.pointerType==="mouse"&&(b=!0,p=!0,!(e.animating||e.autoplay.paused)&&B(!0))},S=$=>{$.pointerType==="mouse"&&(p=!1,e.autoplay.paused&&C())},x=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",T),e.el.addEventListener("pointerleave",S))},I=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",T),e.el.removeEventListener("pointerleave",S))},R=()=>{ce().addEventListener("visibilitychange",L)},ne=()=>{ce().removeEventListener("visibilitychange",L)};i("init",()=>{e.params.autoplay.enabled&&(x(),R(),q())}),i("destroy",()=>{I(),ne(),e.autoplay.running&&N()}),i("_freeModeStaticRelease",()=>{(v||b)&&C()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?N():B(!0,!0)}),i("beforeTransitionStart",($,G,ie)=>{e.destroyed||!e.autoplay.running||(ie||!e.params.autoplay.disableOnInteraction?B(!0,!0):N())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){N();return}f=!0,v=!1,b=!1,y=setTimeout(()=>{b=!0,v=!0,B(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!f)){if(clearTimeout(y),clearTimeout(a),e.params.autoplay.disableOnInteraction){v=!1,f=!1;return}v&&e.params.cssMode&&C(),v=!1,f=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(E=!0)}),Object.assign(e.autoplay,{start:q,stop:N,pause:B,resume:C})}function is(s){let{swiper:e,extendParams:t,on:i}=s;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,r=!1;e.thumbs={swiper:null};function a(){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const c=u.clickedIndex,h=u.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof c>"u"||c===null)return;let m;u.params.loop?m=parseInt(u.clickedSlide.getAttribute("data-swiper-slide-index"),10):m=c,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function l(){const{thumbs:u}=e.params;if(n)return!1;n=!0;const c=e.constructor;if(u.swiper instanceof c)e.thumbs.swiper=u.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(De(u.swiper)){const h=Object.assign({},u.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new c(h),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",a),!0}function o(u){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const h=c.params.slidesPerView==="auto"?c.slidesPerViewDynamic():c.params.slidesPerView;let m=1;const f=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),c.slides.forEach(E=>E.classList.remove(f)),c.params.loop||c.params.virtual&&c.params.virtual.enabled)for(let E=0;E<m;E+=1)he(c.slidesEl,`[data-swiper-slide-index="${e.realIndex+E}"]`).forEach(b=>{b.classList.add(f)});else for(let E=0;E<m;E+=1)c.slides[e.realIndex+E]&&c.slides[e.realIndex+E].classList.add(f);const v=e.params.thumbs.autoScrollOffset,y=v&&!c.params.loop;if(e.realIndex!==c.realIndex||y){const E=c.activeIndex;let b,p;if(c.params.loop){const g=c.slides.filter(w=>w.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];b=c.slides.indexOf(g),p=e.activeIndex>e.previousIndex?"next":"prev"}else b=e.realIndex,p=b>e.previousIndex?"next":"prev";y&&(b+=p==="next"?v:-1*v),c.visibleSlidesIndexes&&c.visibleSlidesIndexes.indexOf(b)<0&&(c.params.centeredSlides?b>E?b=b-Math.floor(h/2)+1:b=b+Math.floor(h/2)-1:b>E&&c.params.slidesPerGroup,c.slideTo(b,u?0:void 0))}}i("beforeInit",()=>{const{thumbs:u}=e.params;if(!(!u||!u.swiper))if(typeof u.swiper=="string"||u.swiper instanceof HTMLElement){const c=ce(),h=()=>{const f=typeof u.swiper=="string"?c.querySelector(u.swiper):u.swiper;if(f&&f.swiper)u.swiper=f.swiper,l(),o(!0);else if(f){const v=`${e.params.eventsPrefix}init`,y=E=>{u.swiper=E.detail[0],f.removeEventListener(v,y),l(),o(!0),u.swiper.update(),e.update()};f.addEventListener(v,y)}return f},m=()=>{if(e.destroyed)return;h()||requestAnimationFrame(m)};requestAnimationFrame(m)}else l(),o(!0)}),i("slideChange update resize observerUpdate",()=>{o()}),i("setTransition",(u,c)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(c)}),i("beforeDestroy",()=>{const u=e.thumbs.swiper;!u||u.destroyed||r&&u.destroy()}),Object.assign(e.thumbs,{init:l,update:o})}const _s="[data-js-slider]";class Nn{constructor(e){P(this,"selectors",{root:_s,swiper:"[data-js-slider-swiper]",navigation:"[data-js-slider-navigation]",previousButton:"[data-js-slider-previous-button]",nextButton:"[data-js-slider-next-button]",pagination:"[data-js-slider-pagination]",scrollbar:"[data-js-slider-scrollbar]"});this.rootElement=e,this.swiperElement=this.rootElement.querySelector(this.selectors.swiper),this.params=bs(this.rootElement,this.selectors.root),this.navigationElement=this.params.navigationTargetElementId?document.getElementById(this.params.navigationTargetElementId):this.rootElement.querySelector(this.selectors.navigation),this.previousButtonElement=this.navigationElement.querySelector(this.selectors.previousButton),this.nextButtonElement=this.navigationElement.querySelector(this.selectors.nextButton),this.paginationElement=this.navigationElement.querySelector(this.selectors.pagination),this.scrollbarElement=this.rootElement.querySelector(this.selectors.scrollbar),this.init()}init(){new re(this.swiperElement,{...this.params.sliderParams,modules:[As,Bn,Vn,Rn],navigation:{prevEl:this.previousButtonElement,nextEl:this.nextButtonElement},pagination:{el:this.paginationElement,bulletClass:"slider-navigation__pagination-bullet",bulletActiveClass:"is-active"},scrollbar:{el:this.scrollbarElement,dragClass:"slider__scrollbar-drag"}})}}class $n{constructor(){this.init()}init(){document.querySelectorAll(_s).forEach(e=>{new Nn(e)})}}const Pt=s=>{const e=parseInt(getComputedStyle(document.documentElement).fontSize);return s/e};class ct{constructor(){if(this.constructor===ct)throw new Error("Невозможно создать экземпляр абстрактного класса BaseComponent!")}getProxyState(e){return new Proxy(e,{get:(t,i)=>t[i],set:(t,i,n)=>{const r=t[i];return t[i]=n,n!==r&&this.updateUI(),!0}})}updateUI(){throw new Error("Необходимо реализовать метод updateUI!")}}const Ms="[data-js-tabs]";class zn extends ct{constructor(t){super();P(this,"selectors",{root:Ms,navigation:"[data-js-tabs-navigation]",button:"[data-js-tabs-button]",content:"[data-js-tabs-content]"});P(this,"stateClasses",{isActive:"is-active"});P(this,"stateCSSVariables",{activeButtonWidth:"--tabsNavigationActiveButtonWidth",activeButtonOffsetLeft:"--tabsNavigationActiveButtonOffsetLeft"});P(this,"previousTab",()=>{const t=this.state.activeTabIndex===0?this.limitTabsIndex:this.state.activeTabIndex-1;this.activateTab(t)});P(this,"nextTab",()=>{const t=this.state.activeTabIndex===this.limitTabsIndex?0:this.state.activeTabIndex+1;this.activateTab(t)});P(this,"firstTab",()=>{this.activateTab(0)});P(this,"lastTab",()=>{this.activateTab(this.limitTabsIndex)});P(this,"onKeyDown",t=>{const{target:i,code:n,metaKey:r}=t,a=this.contentElements.some(h=>h===i),l=this.buttonElements.some(h=>h===i);if(!a&&!l)return;const o={ArrowLeft:this.previousTab,ArrowRight:this.nextTab,Home:this.firstTab,End:this.lastTab}[n];if(r&&n==="ArrowLeft"){t.preventDefault(),this.firstTab();return}if(r&&n==="ArrowRight"){t.preventDefault(),this.lastTab();return}o&&(t.preventDefault(),o())});P(this,"onResize",()=>{this.updateNavigationCSSVars()});P(this,"bindObservers",()=>{new ResizeObserver(this.onResize).observe(this.navigationElement)});this.rootElement=t,this.params=bs(this.rootElement,this.selectors.root),this.navigationElement=this.params.navigationTargetElementId?document.getElementById(this.params.navigationTargetElementId):this.rootElement.querySelector(this.selectors.navigation),this.buttonElements=[...this.navigationElement.querySelectorAll(this.selectors.button)],this.contentElements=[...this.rootElement.querySelectorAll(this.selectors.content)],this.state=this.getProxyState({activeTabIndex:this.buttonElements.findIndex(({ariaSelected:i})=>i)}),this.limitTabsIndex=this.buttonElements.length-1,this.bindEvents(),setTimeout(this.bindObservers,500)}updateUI(){const{activeTabIndex:t}=this.state;this.buttonElements.forEach((i,n)=>{const r=n===t;i.classList.toggle(this.stateClasses.isActive,r),i.ariaSelected=r,i.tabIndex=r?0:-1,r&&this.updateNavigationCSSVars(i)}),this.contentElements.forEach((i,n)=>{const r=n===t;i.classList.toggle(this.stateClasses.isActive,r)})}updateNavigationCSSVars(t=this.buttonElements[this.state.activeTabIndex]){const{width:i,left:n}=t.getBoundingClientRect(),r=n-this.navigationElement.getBoundingClientRect().left;this.navigationElement.style.setProperty(this.stateCSSVariables.activeButtonWidth,`${Pt(i)}rem`),this.navigationElement.style.setProperty(this.stateCSSVariables.activeButtonOffsetLeft,`${Pt(r)}rem`)}activateTab(t){this.state.activeTabIndex=t,this.buttonElements[t].focus()}onButtonClick(t){this.state.activeTabIndex=t}bindEvents(){this.buttonElements.forEach((t,i)=>{t.addEventListener("click",()=>this.onButtonClick(i))}),document.addEventListener("keydown",this.onKeyDown)}}class qn{constructor(){this.init()}init(){document.querySelectorAll(Ms).forEach(e=>{new zn(e)})}}function _(s,e,t){return(e=Hn(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function jn(s,e){if(typeof s!="object"||s===null)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function Hn(s){var e=jn(s,"string");return typeof e=="symbol"?e:String(e)}function Gn(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function Un(s,e,t){return e&&ns(s.prototype,e),t&&ns(s,t),s}function Wn(s,e,t){return e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function rs(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),t.push.apply(t,i)}return t}function as(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rs(Object(t),!0).forEach(function(i){Wn(s,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):rs(Object(t)).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))})}return s}var ls={addCSS:!0,thumbWidth:15,watch:!0};function Kn(s,e){return(function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(s,e)}function Yn(s,e){if(s&&e){var t=new Event(e,{bubbles:!0});s.dispatchEvent(t)}}var He=function(s){return s!=null?s.constructor:null},Gt=function(s,e){return!!(s&&e&&s instanceof e)},Is=function(s){return s==null},Ls=function(s){return He(s)===Object},Xn=function(s){return He(s)===Number&&!Number.isNaN(s)},Ps=function(s){return He(s)===String},Zn=function(s){return He(s)===Boolean},Jn=function(s){return He(s)===Function},Fs=function(s){return Array.isArray(s)},Ds=function(s){return Gt(s,NodeList)},Qn=function(s){return Gt(s,Element)},er=function(s){return Gt(s,Event)},tr=function(s){return Is(s)||(Ps(s)||Fs(s)||Ds(s))&&!s.length||Ls(s)&&!Object.keys(s).length},ee={nullOrUndefined:Is,object:Ls,number:Xn,string:Ps,boolean:Zn,function:Jn,array:Fs,nodeList:Ds,element:Qn,event:er,empty:tr};function sr(s){var e="".concat(s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ir(s,e){if(1>e){var t=sr(e);return parseFloat(s.toFixed(t))}return Math.round(s/e)*e}var nr=function(){function s(e,t){Gn(this,s),ee.element(e)?this.element=e:ee.string(e)&&(this.element=document.querySelector(e)),ee.element(this.element)&&ee.empty(this.element.rangeTouch)&&(this.config=as({},ls,{},t),this.init())}return Un(s,[{key:"init",value:function(){s.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){s.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(n){t.element[i](n,function(r){return t.set(r)},!1)})}},{key:"get",value:function(e){if(!s.enabled||!ee.event(e))return null;var t,i=e.target,n=e.changedTouches[0],r=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,l=parseFloat(i.getAttribute("step"))||1,o=i.getBoundingClientRect(),u=100/o.width*(this.config.thumbWidth/2)/100;return 0>(t=100/o.width*(n.clientX-o.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*u:50<t&&(t+=2*(t-50)*u),r+ir(t/100*(a-r),l)}},{key:"set",value:function(e){s.enabled&&ee.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),Yn(e.target,e.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(ee.empty(e)||ee.string(e)?i=Array.from(document.querySelectorAll(ee.string(e)?e:'input[type="range"]')):ee.element(e)?i=[e]:ee.nodeList(e)?i=Array.from(e):ee.array(e)&&(i=e.filter(ee.element)),ee.empty(i))return null;var n=as({},ls,{},t);if(ee.string(e)&&n.watch){var r=new MutationObserver(function(a){Array.from(a).forEach(function(l){Array.from(l.addedNodes).forEach(function(o){ee.element(o)&&Kn(o,e)&&new s(o,n)})})});r.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(a){return new s(a,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),s}();const Ge=s=>s!=null?s.constructor:null,ye=(s,e)=>!!(s&&e&&s instanceof e),Ut=s=>s==null,Os=s=>Ge(s)===Object,rr=s=>Ge(s)===Number&&!Number.isNaN(s),dt=s=>Ge(s)===String,ar=s=>Ge(s)===Boolean,Bs=s=>typeof s=="function",Vs=s=>Array.isArray(s),lr=s=>ye(s,WeakMap),Rs=s=>ye(s,NodeList),or=s=>Ge(s)===Text,ur=s=>ye(s,Event),cr=s=>ye(s,KeyboardEvent),dr=s=>ye(s,window.TextTrackCue)||ye(s,window.VTTCue),hr=s=>ye(s,TextTrack)||!Ut(s)&&dt(s.kind),pr=s=>ye(s,Promise)&&Bs(s.then),mr=s=>s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.style=="object"&&typeof s.ownerDocument=="object",Ns=s=>Ut(s)||(dt(s)||Vs(s)||Rs(s))&&!s.length||Os(s)&&!Object.keys(s).length,fr=s=>{if(ye(s,window.URL))return!0;if(!dt(s))return!1;let e=s;s.startsWith("http://")&&s.startsWith("https://")||(e=`http://${s}`);try{return!Ns(new URL(e).hostname)}catch{return!1}};var d={nullOrUndefined:Ut,object:Os,number:rr,string:dt,boolean:ar,function:Bs,array:Vs,weakMap:lr,nodeList:Rs,element:mr,textNode:or,event:ur,keyboardEvent:cr,cue:dr,track:hr,promise:pr,url:fr,empty:Ns};const Ft=(()=>{const s=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},t=Object.keys(e).find(i=>s.style[i]!==void 0);return!!d.string(t)&&e[t]})();function $s(s,e){setTimeout(()=>{try{s.hidden=!0,s.offsetHeight,s.hidden=!1}catch{}},e)}const gr=!!window.document.documentMode,vr=/Edge/g.test(navigator.userAgent),yr="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),br=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,wr=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,Er=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var Q={isIE:gr,isEdge:vr,isWebKit:yr,isIPhone:br,isIPadOS:wr,isIos:Er};function kr(s){return JSON.parse(JSON.stringify(s))}function zs(s,e){return e.split(".").reduce((t,i)=>t&&t[i],s)}function K(s={},...e){if(!e.length)return s;const t=e.shift();return d.object(t)?(Object.keys(t).forEach(i=>{d.object(t[i])?(Object.keys(s).includes(i)||Object.assign(s,{[i]:{}}),K(s[i],t[i])):Object.assign(s,{[i]:t[i]})}),K(s,...e)):s}function qs(s,e){const t=s.length?s:[s];Array.from(t).reverse().forEach((i,n)=>{const r=n>0?e.cloneNode(!0):e,a=i.parentNode,l=i.nextSibling;r.appendChild(i),l?a.insertBefore(r,l):a.appendChild(r)})}function Dt(s,e){d.element(s)&&!d.empty(e)&&Object.entries(e).filter(([,t])=>!d.nullOrUndefined(t)).forEach(([t,i])=>s.setAttribute(t,i))}function D(s,e,t){const i=document.createElement(s);return d.object(e)&&Dt(i,e),d.string(t)&&(i.innerText=t),i}function Sr(s,e){d.element(s)&&d.element(e)&&e.parentNode.insertBefore(s,e.nextSibling)}function os(s,e,t,i){d.element(e)&&e.appendChild(D(s,t,i))}function ve(s){d.nodeList(s)||d.array(s)?Array.from(s).forEach(ve):d.element(s)&&d.element(s.parentNode)&&s.parentNode.removeChild(s)}function Ze(s){if(!d.element(s))return;let{length:e}=s.childNodes;for(;e>0;)s.removeChild(s.lastChild),e-=1}function rt(s,e){return d.element(e)&&d.element(e.parentNode)&&d.element(s)?(e.parentNode.replaceChild(s,e),s):null}function pe(s,e){if(!d.string(s)||d.empty(s))return{};const t={},i=K({},e);return s.split(",").forEach(n=>{const r=n.trim(),a=r.replace(".",""),l=r.replace(/[[\]]/g,"").split("="),[o]=l,u=l.length>1?l[1].replace(/["']/g,""):"";switch(r.charAt(0)){case".":d.string(i.class)?t.class=`${i.class} ${a}`:t.class=a;break;case"#":t.id=r.replace("#","");break;case"[":t[o]=u}}),K(i,t)}function xe(s,e){if(!d.element(s))return;let t=e;d.boolean(t)||(t=!s.hidden),s.hidden=t}function U(s,e,t){if(d.nodeList(s))return Array.from(s).map(i=>U(i,e,t));if(d.element(s)){let i="toggle";return t!==void 0&&(i=t?"add":"remove"),s.classList[i](e),s.classList.contains(e)}return!1}function at(s,e){return d.element(s)&&s.classList.contains(e)}function Ae(s,e){const{prototype:t}=Element;return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(s,e)}function Tr(s,e){const{prototype:t}=Element;return(t.closest||function(){let i=this;do{if(Ae.matches(i,e))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}).call(s,e)}function Ne(s){return this.elements.container.querySelectorAll(s)}function X(s){return this.elements.container.querySelector(s)}function Ct(s=null,e=!1){d.element(s)&&s.focus({preventScroll:!0,focusVisible:e})}const us={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Y={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(s,e){const t=Y[s]||e!=="html5";return{api:t,ui:t&&Y.rangeInput}},pip:!(Q.isIPhone||!d.function(D("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||D("video").disablePictureInPicture)),airplay:d.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(s){if(d.empty(s))return!1;const[e]=s.split("/");let t=s;if(!this.isHTML5||e!==this.type)return!1;Object.keys(us).includes(t)&&(t+=`; codecs="${us[s]}"`);try{return!!(t&&this.media.canPlayType(t).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const s=document.createElement("input");return s.type="range",s.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:Ft!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Cr=(()=>{let s=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(s=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return s})();function $e(s,e,t,i=!1,n=!0,r=!1){if(!s||!("addEventListener"in s)||d.empty(e)||!d.function(t))return;const a=e.split(" ");let l=r;Cr&&(l={passive:n,capture:r}),a.forEach(o=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:s,type:o,callback:t,options:l}),s[i?"addEventListener":"removeEventListener"](o,t,l)})}function j(s,e="",t,i=!0,n=!1){$e.call(this,s,e,t,!0,i,n)}function ht(s,e="",t,i=!0,n=!1){$e.call(this,s,e,t,!1,i,n)}function Wt(s,e="",t,i=!0,n=!1){const r=(...a)=>{ht(s,e,r,i,n),t.apply(this,a)};$e.call(this,s,e,r,!0,i,n)}function O(s,e="",t=!1,i={}){if(!d.element(s)||d.empty(e))return;const n=new CustomEvent(e,{bubbles:t,detail:{...i,plyr:this}});s.dispatchEvent(n)}function xr(){this&&this.eventListeners&&(this.eventListeners.forEach(s=>{const{element:e,type:t,callback:i,options:n}=s;e.removeEventListener(t,i,n)}),this.eventListeners=[])}function Ar(){return new Promise(s=>this.ready?setTimeout(s,0):j.call(this,this.elements.container,"ready",s)).then(()=>{})}function me(s){d.promise(s)&&s.then(null,()=>{})}function Ot(s){return d.array(s)?s.filter((e,t)=>s.indexOf(e)===t):s}function js(s,e){return d.array(s)&&s.length?s.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}function Hs(s){return!(!window||!window.CSS)&&window.CSS.supports(s)}const cs=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((s,[e,t])=>({...s,[e/t]:[e,t]}),{});function Gs(s){return d.array(s)||d.string(s)&&s.includes(":")?(d.array(s)?s:s.split(":")).map(Number).every(d.number):!1}function lt(s){if(!d.array(s)||!s.every(d.number))return null;const[e,t]=s,i=(r,a)=>a===0?r:i(a,r%a),n=i(e,t);return[e/n,t/n]}function Kt(s){const e=i=>Gs(i)?i.split(":").map(Number):null;let t=e(s);if(t===null&&(t=e(this.config.ratio)),t===null&&!d.empty(this.embed)&&d.array(this.embed.ratio)&&({ratio:t}=this.embed),t===null&&this.isHTML5){const{videoWidth:i,videoHeight:n}=this.media;t=[i,n]}return lt(t)}function Le(s){if(!this.isVideo)return{};const{wrapper:e}=this.elements,t=Kt.call(this,s);if(!d.array(t))return{};const[i,n]=lt(t),r=100/i*n;if(Hs(`aspect-ratio: ${i}/${n}`)?e.style.aspectRatio=`${i}/${n}`:e.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),l=(a-r)/(a/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${l}%)`}else this.isHTML5&&e.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:t}}function Us(s,e,t=.05){const i=s/e,n=js(Object.keys(cs),i);return Math.abs(n-i)<=t?cs[n]:[s,e]}function _r(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const Se={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(s=>{const e=s.getAttribute("type");return!!d.empty(e)||Y.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Se.getSources.call(this).map(s=>Number(s.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const s=this;s.options.speed=s.config.speed.options,d.empty(this.config.ratio)||Le.call(s),Object.defineProperty(s.media,"quality",{get(){const e=Se.getSources.call(s).find(t=>t.getAttribute("src")===s.source);return e&&Number(e.getAttribute("size"))},set(e){if(s.quality!==e){if(s.config.quality.forced&&d.function(s.config.quality.onChange))s.config.quality.onChange(e);else{const t=Se.getSources.call(s).find(o=>Number(o.getAttribute("size"))===e);if(!t)return;const{currentTime:i,paused:n,preload:r,readyState:a,playbackRate:l}=s.media;s.media.src=t.getAttribute("src"),(r!=="none"||a)&&(s.once("loadedmetadata",()=>{s.speed=l,s.currentTime=i,n||me(s.play())}),s.media.load())}O.call(s,s.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(ve(Se.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Mr(s){return`${s}-${Math.floor(1e4*Math.random())}`}function Bt(s,...e){return d.empty(s)?s:s.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}function Ir(s,e){return s===0||e===0||Number.isNaN(s)||Number.isNaN(e)?0:(s/e*100).toFixed(2)}const Ve=(s="",e="",t="")=>s.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString()),Ws=(s="")=>s.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function Lr(s=""){let e=s.toString();return e=Ve(e,"-"," "),e=Ve(e,"_"," "),e=Ws(e),Ve(e," ","")}function Pr(s=""){let e=s.toString();return e=Lr(e),e.charAt(0).toLowerCase()+e.slice(1)}function Fr(s){const e=document.createDocumentFragment(),t=document.createElement("div");return e.appendChild(t),t.innerHTML=s,e.firstChild.innerText}function Dr(s){const e=document.createElement("div");return e.appendChild(s),e.innerHTML}const ds={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},J={get(s="",e={}){if(d.empty(s)||d.empty(e))return"";let t=zs(e.i18n,s);if(d.empty(t))return Object.keys(ds).includes(s)?ds[s]:"";const i={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(i).forEach(([n,r])=>{t=Ve(t,n,r)}),t}};class ze{constructor(e){_(this,"get",t=>{if(!ze.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(d.empty(i))return null;const n=JSON.parse(i);return d.string(t)&&t.length?n[t]:n}),_(this,"set",t=>{if(!ze.supported||!this.enabled||!d.object(t))return;let i=this.get();d.empty(i)&&(i={}),K(i,t);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch{}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}}function Ue(s,e="text"){return new Promise((t,i)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if(e==="text")try{t(JSON.parse(n.responseText))}catch{t(n.responseText)}else t(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",s,!0),n.responseType=e,n.send()}catch(n){i(n)}})}function Ks(s,e){if(!d.string(s))return;const t="cache",i=d.string(e);let n=!1;const r=()=>document.getElementById(e)!==null,a=(l,o)=>{l.innerHTML=o,i&&r()||document.body.insertAdjacentElement("afterbegin",l)};if(!i||!r()){const l=ze.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),i&&o.setAttribute("id",e),l){const u=window.localStorage.getItem(`${t}-${e}`);if(n=u!==null,n){const c=JSON.parse(u);a(o,c.content)}}Ue(s).then(u=>{if(!d.empty(u)){if(l)try{window.localStorage.setItem(`${t}-${e}`,JSON.stringify({content:u}))}catch{}a(o,u)}}).catch(()=>{})}}const Ys=s=>Math.trunc(s/60/60%60,10),Or=s=>Math.trunc(s/60%60,10),Br=s=>Math.trunc(s%60,10);function pt(s=0,e=!1,t=!1){if(!d.number(s))return pt(void 0,e,t);const i=l=>`0${l}`.slice(-2);let n=Ys(s);const r=Or(s),a=Br(s);return n=e||n>0?`${n}:`:"",`${t&&s>0?"-":""}${n}${i(r)}:${i(a)}`}const A={getIconUrl(){const s=new URL(this.config.iconUrl,window.location),e=window.location.host?window.location.host:window.top.location.host,t=s.host!==e||Q.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements(){try{return this.elements.controls=X.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:Ne.call(this,this.config.selectors.buttons.play),pause:X.call(this,this.config.selectors.buttons.pause),restart:X.call(this,this.config.selectors.buttons.restart),rewind:X.call(this,this.config.selectors.buttons.rewind),fastForward:X.call(this,this.config.selectors.buttons.fastForward),mute:X.call(this,this.config.selectors.buttons.mute),pip:X.call(this,this.config.selectors.buttons.pip),airplay:X.call(this,this.config.selectors.buttons.airplay),settings:X.call(this,this.config.selectors.buttons.settings),captions:X.call(this,this.config.selectors.buttons.captions),fullscreen:X.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=X.call(this,this.config.selectors.progress),this.elements.inputs={seek:X.call(this,this.config.selectors.inputs.seek),volume:X.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:X.call(this,this.config.selectors.display.buffer),currentTime:X.call(this,this.config.selectors.display.currentTime),duration:X.call(this,this.config.selectors.display.duration)},d.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(s){return this.debug.warn("It looks like there is a problem with your custom controls HTML",s),this.toggleNativeControls(!0),!1}},createIcon(s,e){const t="http://www.w3.org/2000/svg",i=A.getIconUrl.call(this),n=`${i.cors?"":i.url}#${this.config.iconPrefix}`,r=document.createElementNS(t,"svg");Dt(r,K(e,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(t,"use"),l=`${n}-${s}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",l),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l),r.appendChild(a),r},createLabel(s,e={}){const t=J.get(s,this.config);return D("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},t)},createBadge(s){if(d.empty(s))return null;const e=D("span",{class:this.config.classNames.menu.value});return e.appendChild(D("span",{class:this.config.classNames.menu.badge},s)),e},createButton(s,e){const t=K({},e);let i=Pr(s);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(t).includes(a)&&(n[a]=t[a],delete t[a])}),n.element!=="button"||Object.keys(t).includes("type")||(t.type="button"),Object.keys(t).includes("class")?t.class.split(" ").some(a=>a===this.config.classNames.control)||K(t,{class:`${t.class} ${this.config.classNames.control}`}):t.class=this.config.classNames.control,s){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":t.class+=` ${this.config.classNames.control}--overlaid`,i="play",n.label="play",n.icon="play";break;default:d.empty(n.label)&&(n.label=i),d.empty(n.icon)&&(n.icon=s)}const r=D(n.element);return n.toggle?(r.appendChild(A.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),r.appendChild(A.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),r.appendChild(A.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),r.appendChild(A.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(r.appendChild(A.createIcon.call(this,n.icon)),r.appendChild(A.createLabel.call(this,n.label))),K(t,pe(this.config.selectors.buttons[i],t)),Dt(r,t),i==="play"?(d.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(r)):this.elements.buttons[i]=r,r},createRange(s,e){const t=D("input",K(pe(this.config.selectors.inputs[s]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":J.get(s,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[s]=t,A.updateRangeFill.call(this,t),nr.setup(t),t},createProgress(s,e){const t=D("progress",K(pe(this.config.selectors.display[s]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if(s!=="volume"){t.appendChild(D("span",null,"0"));const i={played:"played",buffer:"buffered"}[s],n=i?J.get(i,this.config):"";t.innerText=`% ${n.toLowerCase()}`}return this.elements.display[s]=t,t},createTime(s,e){const t=pe(this.config.selectors.display[s],e),i=D("div",K(t,{class:`${t.class?t.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":J.get(s,this.config),role:"timer"}),"00:00");return this.elements.display[s]=i,i},bindMenuItemShortcuts(s,e){j.call(this,s,"keydown keyup",t=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(t.key)||(t.preventDefault(),t.stopPropagation(),t.type==="keydown"))return;const i=Ae(s,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(t.key))A.showMenuPanel.call(this,e,!0);else{let n;t.key!==" "&&(t.key==="ArrowDown"||i&&t.key==="ArrowRight"?(n=s.nextElementSibling,d.element(n)||(n=s.parentNode.firstElementChild)):(n=s.previousElementSibling,d.element(n)||(n=s.parentNode.lastElementChild)),Ct.call(this,n,!0))}},!1),j.call(this,s,"keyup",t=>{t.key==="Return"&&A.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:s,list:e,type:t,title:i,badge:n=null,checked:r=!1}){const a=pe(this.config.selectors.inputs[t]),l=D("button",K(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":r,value:s})),o=D("span");o.innerHTML=i,d.element(n)&&o.appendChild(n),l.appendChild(o),Object.defineProperty(l,"checked",{enumerable:!0,get:()=>l.getAttribute("aria-checked")==="true",set(u){u&&Array.from(l.parentNode.children).filter(c=>Ae(c,'[role="menuitemradio"]')).forEach(c=>c.setAttribute("aria-checked","false")),l.setAttribute("aria-checked",u?"true":"false")}}),this.listeners.bind(l,"click keyup",u=>{if(!d.keyboardEvent(u)||u.key===" "){switch(u.preventDefault(),u.stopPropagation(),l.checked=!0,t){case"language":this.currentTrack=Number(s);break;case"quality":this.quality=s;break;case"speed":this.speed=parseFloat(s)}A.showMenuPanel.call(this,"home",d.keyboardEvent(u))}},t,!1),A.bindMenuItemShortcuts.call(this,l,t),e.appendChild(l)},formatTime(s=0,e=!1){return d.number(s)?pt(s,Ys(this.duration)>0,e):s},updateTimeDisplay(s=null,e=0,t=!1){d.element(s)&&d.number(e)&&(s.innerText=A.formatTime(e,t))},updateVolume(){this.supported.ui&&(d.element(this.elements.inputs.volume)&&A.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),d.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(s,e=0){d.element(s)&&(s.value=e,A.updateRangeFill.call(this,s))},updateProgress(s){if(!this.supported.ui||!d.event(s))return;let e=0;const t=(i,n)=>{const r=d.number(n)?n:0,a=d.element(i)?i:this.elements.display.buffer;if(d.element(a)){a.value=r;const l=a.getElementsByTagName("span")[0];d.element(l)&&(l.childNodes[0].nodeValue=r)}};if(s)switch(s.type){case"timeupdate":case"seeking":case"seeked":e=Ir(this.currentTime,this.duration),s.type==="timeupdate"&&A.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":t(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(s){const e=d.event(s)?s.target:s;if(d.element(e)&&e.getAttribute("type")==="range"){if(Ae(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=A.formatTime(this.currentTime),i=A.formatTime(this.duration),n=J.get("seekLabel",this.config);e.setAttribute("aria-valuetext",n.replace("{currentTime}",t).replace("{duration}",i))}else if(Ae(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",`${t.toFixed(1)}%`)}else e.setAttribute("aria-valuenow",e.value);(Q.isWebKit||Q.isIPadOS)&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(s){var e,t;if(!this.config.tooltips.seek||!d.element(this.elements.inputs.seek)||!d.element(this.elements.display.seekTooltip)||this.duration===0)return;const i=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,r=c=>U(i,n,c);if(this.touch)return void r(!1);let a=0;const l=this.elements.progress.getBoundingClientRect();if(d.event(s))a=100/l.width*(s.pageX-l.left);else{if(!at(i,n))return;a=parseFloat(i.style.left,10)}a<0?a=0:a>100&&(a=100);const o=this.duration/100*a;i.innerText=A.formatTime(o);const u=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.find(({time:c})=>c===Math.round(o));u&&i.insertAdjacentHTML("afterbegin",`${u.label}<br>`),i.style.left=`${a}%`,d.event(s)&&["mouseenter","mouseleave"].includes(s.type)&&r(s.type==="mouseenter")},timeUpdate(s){const e=!d.element(this.elements.display.duration)&&this.config.invertTime;A.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),s&&s.type==="timeupdate"&&this.media.seeking||A.updateProgress.call(this,s)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return xe(this.elements.display.currentTime,!0),void xe(this.elements.progress,!0);d.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const s=d.element(this.elements.display.duration);!s&&this.config.displayDuration&&this.paused&&A.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),s&&A.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&A.setMarkers.call(this),A.updateSeekTooltip.call(this)},toggleMenuButton(s,e){xe(this.elements.settings.buttons[s],!e)},updateSetting(s,e,t){const i=this.elements.settings.panels[s];let n=null,r=e;if(s==="captions")n=this.currentTrack;else{if(n=d.empty(t)?this[s]:t,d.empty(n)&&(n=this.config[s].default),!d.empty(this.options[s])&&!this.options[s].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${s}`);if(!this.config[s].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${s}`)}if(d.element(r)||(r=i&&i.querySelector('[role="menu"]')),!d.element(r))return;this.elements.settings.buttons[s].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=A.getLabel.call(this,s,n);const a=r&&r.querySelector(`[value="${n}"]`);d.element(a)&&(a.checked=!0)},getLabel(s,e){switch(s){case"speed":return e===1?J.get("normal",this.config):`${e}&times;`;case"quality":if(d.number(e)){const t=J.get(`qualityLabel.${e}`,this.config);return t.length?t:`${e}p`}return Ws(e);case"captions":return H.getLabel.call(this);default:return null}},setQualityMenu(s){if(!d.element(this.elements.settings.panels.quality))return;const e="quality",t=this.elements.settings.panels.quality.querySelector('[role="menu"]');d.array(s)&&(this.options.quality=Ot(s).filter(r=>this.config.quality.options.includes(r)));const i=!d.empty(this.options.quality)&&this.options.quality.length>1;if(A.toggleMenuButton.call(this,e,i),Ze(t),A.checkMenu.call(this),!i)return;const n=r=>{const a=J.get(`qualityBadge.${r}`,this.config);return a.length?A.createBadge.call(this,a):null};this.options.quality.sort((r,a)=>{const l=this.config.quality.options;return l.indexOf(r)>l.indexOf(a)?1:-1}).forEach(r=>{A.createMenuItem.call(this,{value:r,list:t,type:e,title:A.getLabel.call(this,"quality",r),badge:n(r)})}),A.updateSetting.call(this,e,t)},setCaptionsMenu(){if(!d.element(this.elements.settings.panels.captions))return;const s="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=H.getTracks.call(this),i=!!t.length;if(A.toggleMenuButton.call(this,s,i),Ze(e),A.checkMenu.call(this),!i)return;const n=t.map((r,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:H.getLabel.call(this,r),badge:r.language&&A.createBadge.call(this,r.language.toUpperCase()),list:e,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:J.get("disabled",this.config),list:e,type:"language"}),n.forEach(A.createMenuItem.bind(this)),A.updateSetting.call(this,s,e)},setSpeedMenu(){if(!d.element(this.elements.settings.panels.speed))return;const s="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(i=>i>=this.minimumSpeed&&i<=this.maximumSpeed);const t=!d.empty(this.options.speed)&&this.options.speed.length>1;A.toggleMenuButton.call(this,s,t),Ze(e),A.checkMenu.call(this),t&&(this.options.speed.forEach(i=>{A.createMenuItem.call(this,{value:i,list:e,type:s,title:A.getLabel.call(this,"speed",i)})}),A.updateSetting.call(this,s,e))},checkMenu(){const{buttons:s}=this.elements.settings,e=!d.empty(s)&&Object.values(s).some(t=>!t.hidden);xe(this.elements.settings.menu,!e)},focusFirstMenuItem(s,e=!1){if(this.elements.settings.popup.hidden)return;let t=s;d.element(t)||(t=Object.values(this.elements.settings.panels).find(n=>!n.hidden));const i=t.querySelector('[role^="menuitem"]');Ct.call(this,i,e)},toggleMenu(s){const{popup:e}=this.elements.settings,t=this.elements.buttons.settings;if(!d.element(e)||!d.element(t))return;const{hidden:i}=e;let n=i;if(d.boolean(s))n=s;else if(d.keyboardEvent(s)&&s.key==="Escape")n=!1;else if(d.event(s)){const r=d.function(s.composedPath)?s.composedPath()[0]:s.target,a=e.contains(r);if(a||!a&&s.target!==t&&n)return}t.setAttribute("aria-expanded",n),xe(e,!n),U(this.elements.container,this.config.classNames.menu.open,n),n&&d.keyboardEvent(s)?A.focusFirstMenuItem.call(this,null,!0):n||i||Ct.call(this,t,d.keyboardEvent(s))},getMenuSize(s){const e=s.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),s.parentNode.appendChild(e);const t=e.scrollWidth,i=e.scrollHeight;return ve(e),{width:t,height:i}},showMenuPanel(s="",e=!1){const t=this.elements.container.querySelector(`#plyr-settings-${this.id}-${s}`);if(!d.element(t))return;const i=t.parentNode,n=Array.from(i.children).find(r=>!r.hidden);if(Y.transitions&&!Y.reducedMotion){i.style.width=`${n.scrollWidth}px`,i.style.height=`${n.scrollHeight}px`;const r=A.getMenuSize.call(this,t),a=l=>{l.target===i&&["width","height"].includes(l.propertyName)&&(i.style.width="",i.style.height="",ht.call(this,i,Ft,a))};j.call(this,i,Ft,a),i.style.width=`${r.width}px`,i.style.height=`${r.height}px`}xe(n,!0),xe(t,!1),A.focusFirstMenuItem.call(this,t,e)},setDownloadUrl(){const s=this.elements.buttons.download;d.element(s)&&s.setAttribute("href",this.download)},create(s){const{bindMenuItemShortcuts:e,createButton:t,createProgress:i,createRange:n,createTime:r,setQualityMenu:a,setSpeedMenu:l,showMenuPanel:o}=A;this.elements.controls=null,d.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(t.call(this,"play-large"));const u=D("div",pe(this.config.selectors.controls.wrapper));this.elements.controls=u;const c={class:"plyr__controls__item"};return Ot(d.array(this.config.controls)?this.config.controls:[]).forEach(h=>{if(h==="restart"&&u.appendChild(t.call(this,"restart",c)),h==="rewind"&&u.appendChild(t.call(this,"rewind",c)),h==="play"&&u.appendChild(t.call(this,"play",c)),h==="fast-forward"&&u.appendChild(t.call(this,"fast-forward",c)),h==="progress"){const m=D("div",{class:`${c.class} plyr__progress__container`}),f=D("div",pe(this.config.selectors.progress));if(f.appendChild(n.call(this,"seek",{id:`plyr-seek-${s.id}`})),f.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const v=D("span",{class:this.config.classNames.tooltip},"00:00");f.appendChild(v),this.elements.display.seekTooltip=v}this.elements.progress=f,m.appendChild(this.elements.progress),u.appendChild(m)}if(h==="current-time"&&u.appendChild(r.call(this,"currentTime",c)),h==="duration"&&u.appendChild(r.call(this,"duration",c)),h==="mute"||h==="volume"){let{volume:m}=this.elements;if(d.element(m)&&u.contains(m)||(m=D("div",K({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=m,u.appendChild(m)),h==="mute"&&m.appendChild(t.call(this,"mute")),h==="volume"&&!Q.isIos&&!Q.isIPadOS){const f={max:1,step:.05,value:this.config.volume};m.appendChild(n.call(this,"volume",K(f,{id:`plyr-volume-${s.id}`})))}}if(h==="captions"&&u.appendChild(t.call(this,"captions",c)),h==="settings"&&!d.empty(this.config.settings)){const m=D("div",K({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));m.appendChild(t.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${s.id}`,"aria-expanded":!1}));const f=D("div",{class:"plyr__menu__container",id:`plyr-settings-${s.id}`,hidden:""}),v=D("div"),y=D("div",{id:`plyr-settings-${s.id}-home`}),E=D("div",{role:"menu"});y.appendChild(E),v.appendChild(y),this.elements.settings.panels.home=y,this.config.settings.forEach(b=>{const p=D("button",K(pe(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,p,b),j.call(this,p,"click",()=>{o.call(this,b,!1)});const g=D("span",null,J.get(b,this.config)),w=D("span",{class:this.config.classNames.menu.value});w.innerHTML=s[b],g.appendChild(w),p.appendChild(g),E.appendChild(p);const k=D("div",{id:`plyr-settings-${s.id}-${b}`,hidden:""}),M=D("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});M.appendChild(D("span",{"aria-hidden":!0},J.get(b,this.config))),M.appendChild(D("span",{class:this.config.classNames.hidden},J.get("menuBack",this.config))),j.call(this,k,"keydown",q=>{q.key==="ArrowLeft"&&(q.preventDefault(),q.stopPropagation(),o.call(this,"home",!0))},!1),j.call(this,M,"click",()=>{o.call(this,"home",!1)}),k.appendChild(M),k.appendChild(D("div",{role:"menu"})),v.appendChild(k),this.elements.settings.buttons[b]=p,this.elements.settings.panels[b]=k}),f.appendChild(v),m.appendChild(f),u.appendChild(m),this.elements.settings.popup=f,this.elements.settings.menu=m}if(h==="pip"&&Y.pip&&u.appendChild(t.call(this,"pip",c)),h==="airplay"&&Y.airplay&&u.appendChild(t.call(this,"airplay",c)),h==="download"){const m=K({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(m.download="");const{download:f}=this.config.urls;!d.url(f)&&this.isEmbed&&K(m,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(t.call(this,"download",m))}h==="fullscreen"&&u.appendChild(t.call(this,"fullscreen",c))}),this.isHTML5&&a.call(this,Se.getQualityOptions.call(this)),l.call(this),u},inject(){if(this.config.loadSprite){const n=A.getIconUrl.call(this);n.cors&&Ks(n.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let s=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let t=!0;d.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),d.element(this.config.controls)||d.string(this.config.controls)?s=this.config.controls:(s=A.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:H.getLabel.call(this)}),t=!1);let i;if(t&&d.string(this.config.controls)&&(s=(n=>{let r=n;return Object.entries(e).forEach(([a,l])=>{r=Ve(r,`{${a}}`,l)}),r})(s)),d.string(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),d.element(i)||(i=this.elements.container),i[d.element(s)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",s),d.element(this.elements.controls)||A.findElements.call(this),!d.empty(this.elements.buttons)){const n=r=>{const a=this.config.classNames.controlPressed;r.setAttribute("aria-pressed","false"),Object.defineProperty(r,"pressed",{configurable:!0,enumerable:!0,get:()=>at(r,a),set(l=!1){U(r,a,l),r.setAttribute("aria-pressed",l?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(r=>{d.array(r)||d.nodeList(r)?Array.from(r).filter(Boolean).forEach(n):n(r)})}if(Q.isEdge&&$s(i),this.config.tooltips.controls){const{classNames:n,selectors:r}=this.config,a=`${r.controls.wrapper} ${r.labels} .${n.hidden}`,l=Ne.call(this,a);Array.from(l).forEach(o=>{U(o,this.config.classNames.hidden,!1),U(o,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var s,e;if(!this.duration||this.elements.markers)return;const t=(s=this.config.markers)===null||s===void 0||(e=s.points)===null||e===void 0?void 0:e.filter(({time:o})=>o>0&&o<this.duration);if(t==null||!t.length)return;const i=document.createDocumentFragment(),n=document.createDocumentFragment();let r=null;const a=`${this.config.classNames.tooltip}--visible`,l=o=>U(r,a,o);t.forEach(o=>{const u=D("span",{class:this.config.classNames.marker},""),c=o.time/this.duration*100+"%";r&&(u.addEventListener("mouseenter",()=>{o.label||(r.style.left=c,r.innerHTML=o.label,l(!0))}),u.addEventListener("mouseleave",()=>{l(!1)})),u.addEventListener("click",()=>{this.currentTime=o.time}),u.style.left=c,n.appendChild(u)}),i.appendChild(n),this.config.tooltips.seek||(r=D("span",{class:this.config.classNames.tooltip},""),i.appendChild(r)),this.elements.markers={points:n,tip:r},this.elements.progress.appendChild(i)}};function Xs(s,e=!0){let t=s;if(e){const i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch{return null}}function Zs(s){const e=new URLSearchParams;return d.object(s)&&Object.entries(s).forEach(([t,i])=>{e.set(t,i)}),e}const H={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Y.textTracks)return void(d.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&A.setCaptionsMenu.call(this));if(d.element(this.elements.captions)||(this.elements.captions=D("div",pe(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),Sr(this.elements.captions,this.elements.wrapper)),Q.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(n=>{const r=n.getAttribute("src"),a=Xs(r);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&Ue(r,"blob").then(l=>{n.setAttribute("src",window.URL.createObjectURL(l))}).catch(()=>{ve(n)})})}const s=Ot((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(i=>i.split("-")[0]));let e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();e==="auto"&&([e]=s);let t=this.storage.get("captions");if(d.boolean(t)||({active:t}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:t,language:e,languages:s}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";j.call(this,this.media.textTracks,i,H.update.bind(this))}setTimeout(H.update.bind(this),0)},update(){const s=H.getTracks.call(this,!0),{active:e,language:t,meta:i,currentTrackNode:n}=this.captions,r=!!s.find(a=>a.language===t);this.isHTML5&&this.isVideo&&s.filter(a=>!i.get(a)).forEach(a=>{this.debug.log("Track added",a),i.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),j.call(this,a,"cuechange",()=>H.updateCues.call(this))}),(r&&this.language!==t||!s.includes(n))&&(H.setLanguage.call(this,t),H.toggle.call(this,e&&r)),this.elements&&U(this.elements.container,this.config.classNames.captions.enabled,!d.empty(s)),d.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&A.setCaptionsMenu.call(this)},toggle(s,e=!0){if(!this.supported.ui)return;const{toggled:t}=this.captions,i=this.config.classNames.captions.active,n=d.nullOrUndefined(s)?!t:s;if(n!==t){if(e||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!e){const r=H.getTracks.call(this),a=H.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=a.language,void H.set.call(this,r.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),U(this.elements.container,i,n),this.captions.toggled=n,A.updateSetting.call(this,"captions"),O.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(s,e=!0){const t=H.getTracks.call(this);if(s!==-1)if(d.number(s))if(s in t){if(this.captions.currentTrack!==s){this.captions.currentTrack=s;const i=t[s],{language:n}=i||{};this.captions.currentTrackNode=i,A.updateSetting.call(this,"captions"),e||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),O.call(this,this.media,"languagechange")}H.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&H.updateCues.call(this)}else this.debug.warn("Track not found",s);else this.debug.warn("Invalid caption argument",s);else H.toggle.call(this,!1,e)},setLanguage(s,e=!0){if(!d.string(s))return void this.debug.warn("Invalid language argument",s);const t=s.toLowerCase();this.captions.language=t;const i=H.getTracks.call(this),n=H.findTrack.call(this,[t]);H.set.call(this,i.indexOf(n),e)},getTracks(s=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||s||this.captions.meta.has(e)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(s,e=!1){const t=H.getTracks.call(this),i=a=>Number((this.captions.meta.get(a)||{}).default),n=Array.from(t).sort((a,l)=>i(l)-i(a));let r;return s.every(a=>(r=n.find(l=>l.language===a),!r)),r||(e?n[0]:void 0)},getCurrentTrack(){return H.getTracks.call(this)[this.currentTrack]},getLabel(s){let e=s;return!d.track(e)&&Y.textTracks&&this.captions.toggled&&(e=H.getCurrentTrack.call(this)),d.track(e)?d.empty(e.label)?d.empty(e.language)?J.get("enabled",this.config):s.language.toUpperCase():e.label:J.get("disabled",this.config)},updateCues(s){if(!this.supported.ui)return;if(!d.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!d.nullOrUndefined(s)&&!Array.isArray(s))return void this.debug.warn("updateCues: Invalid input",s);let e=s;if(!e){const i=H.getCurrentTrack.call(this);e=Array.from((i||{}).activeCues||[]).map(n=>n.getCueAsHTML()).map(Dr)}const t=e.map(i=>i.trim()).join(`
`);if(t!==this.elements.captions.innerHTML){Ze(this.elements.captions);const i=D("span",pe(this.config.selectors.caption));i.innerHTML=t,this.elements.captions.appendChild(i),O.call(this,this.media,"cuechange")}}},Js={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},xt={active:"picture-in-picture",inactive:"inline"},Ee={html5:"html5",youtube:"youtube",vimeo:"vimeo"},At={audio:"audio",video:"video"};function Vr(s){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(s)?Ee.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(s)?Ee.vimeo:null}const _t=()=>{};class Rr{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):_t}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):_t}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):_t}}class de{constructor(e){_(this,"onChange",()=>{if(!this.supported)return;const t=this.player.elements.buttons.fullscreen;d.element(t)&&(t.pressed=this.active);const i=this.target===this.player.media?this.target:this.player.elements.container;O.call(this.player,i,this.active?"enterfullscreen":"exitfullscreen",!0)}),_(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",U(this.target,this.player.config.classNames.fullscreen.fallback,t),Q.isIos){let i=document.head.querySelector('meta[name="viewport"]');const n="viewport-fit=cover";i||(i=document.createElement("meta"),i.setAttribute("name","viewport"));const r=d.string(i.content)&&i.content.includes(n);t?(this.cleanupViewport=!r,r||(i.content+=`,${n}`)):this.cleanupViewport&&(i.content=i.content.split(",").filter(a=>a.trim()!==n).join(","))}this.onChange()}),_(this,"trapFocus",t=>{if(Q.isIos||Q.isIPadOS||!this.active||t.key!=="Tab")return;const i=document.activeElement,n=Ne.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[r]=n,a=n[n.length-1];i!==a||t.shiftKey?i===r&&t.shiftKey&&(a.focus(),t.preventDefault()):(r.focus(),t.preventDefault())}),_(this,"update",()=>{if(this.supported){let t;t=this.forceFallback?"Fallback (forced)":de.nativeSupported?"Native":"Fallback",this.player.debug.log(`${t} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");U(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),_(this,"enter",()=>{this.supported&&(Q.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!de.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?d.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),_(this,"exit",()=>{if(this.supported)if(Q.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),me(this.player.play());else if(!de.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!d.empty(this.prefix)){const t=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),_(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=de.prefix,this.property=de.property,this.scrollPosition={x:0,y:0},this.forceFallback=e.config.fullscreen.fallback==="force",this.player.elements.fullscreen=e.config.fullscreen.container&&Tr(this.player.elements.container,e.config.fullscreen.container),j.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),j.call(this.player,this.player.elements.container,"dblclick",t=>{d.element(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),j.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return de.nativeSupported&&!this.forceFallback}static get prefix(){if(d.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!d.function(document[`${t}ExitFullscreen`])&&!d.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,de.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||de.nativeSupported||!Q.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!de.nativeSupported||this.forceFallback)return at(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return Q.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Je(s,e=1){return new Promise((t,i)=>{const n=new Image,r=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=e?t:i)(n)};Object.assign(n,{onload:r,onerror:r,src:s})})}const W={addStyleHook(){U(this.elements.container,this.config.selectors.container.replace(".",""),!0),U(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(s=!1){s&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void W.toggleNativeControls.call(this,!0);d.element(this.elements.controls)||(A.inject.call(this),this.listeners.controls()),W.toggleNativeControls.call(this),this.isHTML5&&H.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,A.updateVolume.call(this),A.timeUpdate.call(this),A.durationUpdate.call(this),W.checkPlaying.call(this),U(this.elements.container,this.config.classNames.pip.supported,Y.pip&&this.isHTML5&&this.isVideo),U(this.elements.container,this.config.classNames.airplay.supported,Y.airplay&&this.isHTML5),U(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{O.call(this,this.media,"ready")},0),W.setTitle.call(this),this.poster&&W.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&A.durationUpdate.call(this),this.config.mediaMetadata&&A.setMediaMetadata.call(this)},setTitle(){let s=J.get("play",this.config);if(d.string(this.config.title)&&!d.empty(this.config.title)&&(s+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",s)}),this.isEmbed){const e=X.call(this,"iframe");if(!d.element(e))return;const t=d.empty(this.config.title)?"video":this.config.title,i=J.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(s){U(this.elements.container,this.config.classNames.posterEnabled,s)},setPoster(s,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",s),this.elements.poster.removeAttribute("hidden"),Ar.call(this).then(()=>Je(s)).catch(t=>{throw s===this.poster&&W.togglePoster.call(this,!1),t}).then(()=>{if(s!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${s}')`,backgroundSize:""}),W.togglePoster.call(this,!0),s)))},checkPlaying(s){U(this.elements.container,this.config.classNames.playing,this.playing),U(this.elements.container,this.config.classNames.paused,this.paused),U(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",J.get(this.playing?"pause":"play",this.config))}),d.event(s)&&s.type==="timeupdate"||W.toggleControls.call(this)},checkLoading(s){this.loading=["stalled","waiting"].includes(s.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{U(this.elements.container,this.config.classNames.loading,this.loading),W.toggleControls.call(this)},this.loading?250:0)},toggleControls(s){const{controls:e}=this.elements;if(e&&this.config.hideControls){const t=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(s||this.loading||this.paused||e.pressed||e.hover||t))}},migrateStyles(){Object.values({...this.media.style}).filter(s=>!d.empty(s)&&d.string(s)&&s.startsWith("--plyr")).forEach(s=>{this.elements.container.style.setProperty(s,this.media.style.getPropertyValue(s)),this.media.style.removeProperty(s)}),d.empty(this.media.style)&&this.media.removeAttribute("style")}};class Nr{constructor(e){_(this,"firstTouch",()=>{const{player:t}=this,{elements:i}=t;t.touch=!0,U(i.container,t.config.classNames.isTouch,!0)}),_(this,"global",(t=!0)=>{const{player:i}=this;i.config.keyboard.global&&$e.call(i,window,"keydown keyup",this.handleKey,t,!1),$e.call(i,document.body,"click",this.toggleMenu,t),Wt.call(i,document.body,"touchstart",this.firstTouch)}),_(this,"container",()=>{const{player:t}=this,{config:i,elements:n,timers:r}=t;!i.keyboard.global&&i.keyboard.focused&&j.call(t,n.container,"keydown keyup",this.handleKey,!1),j.call(t,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",o=>{const{controls:u}=n;u&&o.type==="enterfullscreen"&&(u.pressed=!1,u.hover=!1);let c=0;["touchstart","touchmove","mousemove"].includes(o.type)&&(W.toggleControls.call(t,!0),c=t.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout(()=>W.toggleControls.call(t,!1),c)});const a=()=>{if(!t.isVimeo||t.config.vimeo.premium)return;const o=n.wrapper,{active:u}=t.fullscreen,[c,h]=Kt.call(t),m=Hs(`aspect-ratio: ${c} / ${h}`);if(!u)return void(m?(o.style.width=null,o.style.height=null):(o.style.maxWidth=null,o.style.margin=null));const[f,v]=_r(),y=f/v>c/h;m?(o.style.width=y?"auto":"100%",o.style.height=y?"100%":"auto"):(o.style.maxWidth=y?v/h*c+"px":null,o.style.margin=y?"0 auto":null)},l=()=>{clearTimeout(r.resized),r.resized=setTimeout(a,50)};j.call(t,n.container,"enterfullscreen exitfullscreen",o=>{const{target:u}=t.fullscreen;u===n.container&&(!t.isEmbed&&d.empty(t.config.ratio)||(a(),(o.type==="enterfullscreen"?j:ht).call(t,window,"resize",l)))})}),_(this,"media",()=>{const{player:t}=this,{elements:i}=t;if(j.call(t,t.media,"timeupdate seeking seeked",r=>A.timeUpdate.call(t,r)),j.call(t,t.media,"durationchange loadeddata loadedmetadata",r=>A.durationUpdate.call(t,r)),j.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),j.call(t,t.media,"progress playing seeking seeked",r=>A.updateProgress.call(t,r)),j.call(t,t.media,"volumechange",r=>A.updateVolume.call(t,r)),j.call(t,t.media,"playing play pause ended emptied timeupdate",r=>W.checkPlaying.call(t,r)),j.call(t,t.media,"waiting canplay seeked playing",r=>W.checkLoading.call(t,r)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const r=X.call(t,`.${t.config.classNames.video}`);if(!d.element(r))return;j.call(t,i.container,"click",a=>{([i.container,r].includes(a.target)||r.contains(a.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(a,t.restart,"restart"),this.proxy(a,()=>{me(t.play())},"play")):this.proxy(a,()=>{me(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&j.call(t,i.wrapper,"contextmenu",r=>{r.preventDefault()},!1),j.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),j.call(t,t.media,"ratechange",()=>{A.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),j.call(t,t.media,"qualitychange",r=>{A.updateSetting.call(t,"quality",null,r.detail.quality)}),j.call(t,t.media,"ready qualitychange",()=>{A.setDownloadUrl.call(t)});const n=t.config.events.concat(["keyup","keydown"]).join(" ");j.call(t,t.media,n,r=>{let{detail:a={}}=r;r.type==="error"&&(a=t.media.error),O.call(t,i.container,r.type,!0,a)})}),_(this,"proxy",(t,i,n)=>{const{player:r}=this,a=r.config.listeners[n];let l=!0;d.function(a)&&(l=a.call(r,t)),l!==!1&&d.function(i)&&i.call(r,t)}),_(this,"bind",(t,i,n,r,a=!0)=>{const{player:l}=this,o=l.config.listeners[r],u=d.function(o);j.call(l,t,i,c=>this.proxy(c,n,r),a&&!u)}),_(this,"controls",()=>{const{player:t}=this,{elements:i}=t,n=Q.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(r=>{this.bind(r,"click",()=>{me(t.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",t.restart,"restart"),this.bind(i.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(i.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(i.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(i.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(i.buttons.download,"click",()=>{O.call(t,t.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",t.airplay,"airplay"),this.bind(i.buttons.settings,"click",r=>{r.stopPropagation(),r.preventDefault(),A.toggleMenu.call(t,r)},null,!1),this.bind(i.buttons.settings,"keyup",r=>{[" ","Enter"].includes(r.key)&&(r.key!=="Enter"?(r.preventDefault(),r.stopPropagation(),A.toggleMenu.call(t,r)):A.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",r=>{r.key==="Escape"&&A.toggleMenu.call(t,r)}),this.bind(i.inputs.seek,"mousedown mousemove",r=>{const a=i.progress.getBoundingClientRect(),l=100/a.width*(r.pageX-a.left);r.currentTarget.setAttribute("seek-value",l)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",r=>{const a=r.currentTarget,l="play-on-seeked";if(d.keyboardEvent(r)&&!["ArrowLeft","ArrowRight"].includes(r.key))return;t.lastSeekTime=Date.now();const o=a.hasAttribute(l),u=["mouseup","touchend","keyup"].includes(r.type);o&&u?(a.removeAttribute(l),me(t.play())):!u&&t.playing&&(a.setAttribute(l,""),t.pause())}),Q.isIos){const r=Ne.call(t,'input[type="range"]');Array.from(r).forEach(a=>this.bind(a,n,l=>$s(l.target)))}this.bind(i.inputs.seek,n,r=>{const a=r.currentTarget;let l=a.getAttribute("seek-value");d.empty(l)&&(l=a.value),a.removeAttribute("seek-value"),t.currentTime=l/a.max*t.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",r=>A.updateSeekTooltip.call(t,r)),this.bind(i.progress,"mousemove touchmove",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startMove(r)}),this.bind(i.progress,"mouseleave touchend click",()=>{const{previewThumbnails:r}=t;r&&r.loaded&&r.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.startScrubbing(r)}),this.bind(i.progress,"mouseup touchend",r=>{const{previewThumbnails:a}=t;a&&a.loaded&&a.endScrubbing(r)}),Q.isWebKit&&Array.from(Ne.call(t,'input[type="range"]')).forEach(r=>{this.bind(r,"input",a=>A.updateRangeFill.call(t,a.target))}),t.config.toggleInvert&&!d.element(i.display.duration)&&this.bind(i.display.currentTime,"click",()=>{t.currentTime!==0&&(t.config.invertTime=!t.config.invertTime,A.timeUpdate.call(t))}),this.bind(i.inputs.volume,n,r=>{t.volume=r.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",r=>{i.controls.hover=!t.touch&&r.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(r=>!r.contains(i.container)).forEach(r=>{this.bind(r,"mouseenter mouseleave",a=>{i.controls&&(i.controls.hover=!t.touch&&a.type==="mouseenter")})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",r=>{i.controls.pressed=["mousedown","touchstart"].includes(r.type)}),this.bind(i.controls,"focusin",()=>{const{config:r,timers:a}=t;U(i.controls,r.classNames.noTransition,!0),W.toggleControls.call(t,!0),setTimeout(()=>{U(i.controls,r.classNames.noTransition,!1)},0);const l=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>W.toggleControls.call(t,!1),l)}),this.bind(i.inputs.volume,"wheel",r=>{const a=r.webkitDirectionInvertedFromDevice,[l,o]=[r.deltaX,-r.deltaY].map(h=>a?-h:h),u=Math.sign(Math.abs(l)>Math.abs(o)?l:o);t.increaseVolume(u/50);const{volume:c}=t.media;(u===1&&c<1||u===-1&&c>0)&&r.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:n,type:r,altKey:a,ctrlKey:l,metaKey:o,shiftKey:u}=e,c=r==="keydown",h=c&&n===this.lastKey;if(!(a||l||o||u)&&n){if(c){const f=document.activeElement;if(d.element(f)){const{editable:v}=t.config.selectors,{seek:y}=i.inputs;if(f!==y&&Ae(f,v)||e.key===" "&&Ae(f,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h||(m=parseInt(n,10),t.currentTime=t.duration/10*m);break;case" ":case"k":h||me(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":h||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":h||t.toggleCaptions();break;case"l":t.loop=!t.loop}n==="Escape"&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null;var m}}toggleMenu(e){A.toggleMenu.call(this.player,e)}}function $r(s,e){return s(e={exports:{}},e.exports),e.exports}var zr=$r(function(s,e){s.exports=function(){var t=function(){},i={},n={},r={};function a(m,f){m=m.push?m:[m];var v,y,E,b=[],p=m.length,g=p;for(v=function(w,k){k.length&&b.push(w),--g||f(b)};p--;)y=m[p],(E=n[y])?v(y,E):(r[y]=r[y]||[]).push(v)}function l(m,f){if(m){var v=r[m];if(n[m]=f,v)for(;v.length;)v[0](m,f),v.splice(0,1)}}function o(m,f){m.call&&(m={success:m}),f.length?(m.error||t)(f):(m.success||t)(m)}function u(m,f,v,y){var E,b,p=document,g=v.async,w=(v.numRetries||0)+1,k=v.before||t,M=m.replace(/[\?|#].*$/,""),q=m.replace(/^(css|img)!/,"");y=y||0,/(^css!|\.css$)/.test(M)?((b=p.createElement("link")).rel="stylesheet",b.href=q,(E="hideFocus"in b)&&b.relList&&(E=0,b.rel="preload",b.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(M)?(b=p.createElement("img")).src=q:((b=p.createElement("script")).src=m,b.async=g===void 0||g),b.onload=b.onerror=b.onbeforeload=function(N){var B=N.type[0];if(E)try{b.sheet.cssText.length||(B="e")}catch(C){C.code!=18&&(B="e")}if(B=="e"){if((y+=1)<w)return u(m,f,v,y)}else if(b.rel=="preload"&&b.as=="style")return b.rel="stylesheet";f(m,B,N.defaultPrevented)},k(m,b)!==!1&&p.head.appendChild(b)}function c(m,f,v){var y,E,b=(m=m.push?m:[m]).length,p=b,g=[];for(y=function(w,k,M){if(k=="e"&&g.push(w),k=="b"){if(!M)return;g.push(w)}--b||f(g)},E=0;E<p;E++)u(m[E],y,v)}function h(m,f,v){var y,E;if(f&&f.trim&&(y=f),E=(y?v:f)||{},y){if(y in i)throw"LoadJS";i[y]=!0}function b(p,g){c(m,function(w){o(E,w),p&&o({success:p,error:g},w),l(y,w)},E)}if(E.returnPromise)return new Promise(b);b()}return h.ready=function(m,f){return a(m,function(v){o(f,v)}),h},h.done=function(m){l(m,[])},h.reset=function(){i={},n={},r={}},h.isDefined=function(m){return m in i},h}()});function Yt(s){return new Promise((e,t)=>{zr(s,{success:e,error:t})})}function qr(s){return d.empty(s)?null:d.number(Number(s))?s:s.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:s}function jr(s){const e=s.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return e&&e.length===5?e[4]:null}function Pe(s){s&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===s&&(this.media.paused=!s,O.call(this,this.media,s?"play":"pause"))}const Vt={setup(){const s=this;U(s.elements.wrapper,s.config.classNames.embed,!0),s.options.speed=s.config.speed.options,Le.call(s),d.object(window.Vimeo)?Vt.ready.call(s):Yt(s.config.urls.vimeo.sdk).then(()=>{Vt.ready.call(s)}).catch(e=>{s.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const s=this,e=s.config.vimeo,{premium:t,referrerPolicy:i,...n}=e;let r=s.media.getAttribute("src"),a="";d.empty(r)?(r=s.media.getAttribute(s.config.attributes.embed.id),a=s.media.getAttribute(s.config.attributes.embed.hash)):a=jr(r);const l=a?{h:a}:{};t&&Object.assign(n,{controls:!1,sidedock:!1});const o=Zs({loop:s.config.loop.active,autoplay:s.autoplay,muted:s.muted,gesture:"media",playsinline:s.config.playsinline,...l,...n}),u=qr(r),c=D("iframe"),h=Bt(s.config.urls.vimeo.iframe,u,o);if(c.setAttribute("src",h),c.setAttribute("allowfullscreen",""),c.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),d.empty(i)||c.setAttribute("referrerPolicy",i),t||!e.customControls)c.setAttribute("data-poster",s.poster),s.media=rt(c,s.media);else{const p=D("div",{class:s.config.classNames.embedContainer,"data-poster":s.poster});p.appendChild(c),s.media=rt(p,s.media)}e.customControls||Ue(Bt(s.config.urls.vimeo.api,h)).then(p=>{!d.empty(p)&&p.thumbnail_url&&W.setPoster.call(s,p.thumbnail_url).catch(()=>{})}),s.embed=new window.Vimeo.Player(c,{autopause:s.config.autopause,muted:s.muted}),s.media.paused=!0,s.media.currentTime=0,s.supported.ui&&s.embed.disableTextTrack(),s.media.play=()=>(Pe.call(s,!0),s.embed.play()),s.media.pause=()=>(Pe.call(s,!1),s.embed.pause()),s.media.stop=()=>{s.pause(),s.currentTime=0};let{currentTime:m}=s.media;Object.defineProperty(s.media,"currentTime",{get:()=>m,set(p){const{embed:g,media:w,paused:k,volume:M}=s,q=k&&!g.hasPlayed;w.seeking=!0,O.call(s,w,"seeking"),Promise.resolve(q&&g.setVolume(0)).then(()=>g.setCurrentTime(p)).then(()=>q&&g.pause()).then(()=>q&&g.setVolume(M)).catch(()=>{})}});let f=s.config.speed.selected;Object.defineProperty(s.media,"playbackRate",{get:()=>f,set(p){s.embed.setPlaybackRate(p).then(()=>{f=p,O.call(s,s.media,"ratechange")}).catch(()=>{s.options.speed=[1]})}});let{volume:v}=s.config;Object.defineProperty(s.media,"volume",{get:()=>v,set(p){s.embed.setVolume(p).then(()=>{v=p,O.call(s,s.media,"volumechange")})}});let{muted:y}=s.config;Object.defineProperty(s.media,"muted",{get:()=>y,set(p){const g=!!d.boolean(p)&&p;s.embed.setMuted(!!g||s.config.muted).then(()=>{y=g,O.call(s,s.media,"volumechange")})}});let E,{loop:b}=s.config;Object.defineProperty(s.media,"loop",{get:()=>b,set(p){const g=d.boolean(p)?p:s.config.loop.active;s.embed.setLoop(g).then(()=>{b=g})}}),s.embed.getVideoUrl().then(p=>{E=p,A.setDownloadUrl.call(s)}).catch(p=>{this.debug.warn(p)}),Object.defineProperty(s.media,"currentSrc",{get:()=>E}),Object.defineProperty(s.media,"ended",{get:()=>s.currentTime===s.duration}),Promise.all([s.embed.getVideoWidth(),s.embed.getVideoHeight()]).then(p=>{const[g,w]=p;s.embed.ratio=Us(g,w),Le.call(this)}),s.embed.setAutopause(s.config.autopause).then(p=>{s.config.autopause=p}),s.embed.getVideoTitle().then(p=>{s.config.title=p,W.setTitle.call(this)}),s.embed.getCurrentTime().then(p=>{m=p,O.call(s,s.media,"timeupdate")}),s.embed.getDuration().then(p=>{s.media.duration=p,O.call(s,s.media,"durationchange")}),s.embed.getTextTracks().then(p=>{s.media.textTracks=p,H.setup.call(s)}),s.embed.on("cuechange",({cues:p=[]})=>{const g=p.map(w=>Fr(w.text));H.updateCues.call(s,g)}),s.embed.on("loaded",()=>{s.embed.getPaused().then(p=>{Pe.call(s,!p),p||O.call(s,s.media,"playing")}),d.element(s.embed.element)&&s.supported.ui&&s.embed.element.setAttribute("tabindex",-1)}),s.embed.on("bufferstart",()=>{O.call(s,s.media,"waiting")}),s.embed.on("bufferend",()=>{O.call(s,s.media,"playing")}),s.embed.on("play",()=>{Pe.call(s,!0),O.call(s,s.media,"playing")}),s.embed.on("pause",()=>{Pe.call(s,!1)}),s.embed.on("timeupdate",p=>{s.media.seeking=!1,m=p.seconds,O.call(s,s.media,"timeupdate")}),s.embed.on("progress",p=>{s.media.buffered=p.percent,O.call(s,s.media,"progress"),parseInt(p.percent,10)===1&&O.call(s,s.media,"canplaythrough"),s.embed.getDuration().then(g=>{g!==s.media.duration&&(s.media.duration=g,O.call(s,s.media,"durationchange"))})}),s.embed.on("seeked",()=>{s.media.seeking=!1,O.call(s,s.media,"seeked")}),s.embed.on("ended",()=>{s.media.paused=!0,O.call(s,s.media,"ended")}),s.embed.on("error",p=>{s.media.error=p,O.call(s,s.media,"error")}),e.customControls&&setTimeout(()=>W.build.call(s),0)}};function Hr(s){return d.empty(s)?null:s.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:s}function Fe(s){s&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===s&&(this.media.paused=!s,O.call(this,this.media,s?"play":"pause"))}function Gr(s){return s.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const Qe={setup(){if(U(this.elements.wrapper,this.config.classNames.embed,!0),d.object(window.YT)&&d.function(window.YT.Player))Qe.ready.call(this);else{const s=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{d.function(s)&&s(),Qe.ready.call(this)},Yt(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(s){Ue(Bt(this.config.urls.youtube.api,s)).then(e=>{if(d.object(e)){const{title:t,height:i,width:n}=e;this.config.title=t,W.setTitle.call(this),this.embed.ratio=Us(n,i)}Le.call(this)}).catch(()=>{Le.call(this)})},ready(){const s=this,e=s.config.youtube,t=s.media&&s.media.getAttribute("id");if(!d.empty(t)&&t.startsWith("youtube-"))return;let i=s.media.getAttribute("src");d.empty(i)&&(i=s.media.getAttribute(this.config.attributes.embed.id));const n=Hr(i),r=D("div",{id:Mr(s.provider),"data-poster":e.customControls?s.poster:void 0});if(s.media=rt(r,s.media),e.customControls){const a=l=>`https://i.ytimg.com/vi/${n}/${l}default.jpg`;Je(a("maxres"),121).catch(()=>Je(a("sd"),121)).catch(()=>Je(a("hq"))).then(l=>W.setPoster.call(s,l.src)).then(l=>{l.includes("maxres")||(s.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}s.embed=new window.YT.Player(s.media,{videoId:n,host:Gr(e),playerVars:K({},{autoplay:s.config.autoplay?1:0,hl:s.config.hl,controls:s.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:s.config.playsinline&&!s.config.fullscreen.iosNative?1:0,cc_load_policy:s.captions.active?1:0,cc_lang_pref:s.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(a){if(!s.media.error){const l=a.data,o={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[l]||"An unknown error occurred";s.media.error={code:l,message:o},O.call(s,s.media,"error")}},onPlaybackRateChange(a){const l=a.target;s.media.playbackRate=l.getPlaybackRate(),O.call(s,s.media,"ratechange")},onReady(a){if(d.function(s.media.play))return;const l=a.target;Qe.getTitle.call(s,n),s.media.play=()=>{Fe.call(s,!0),l.playVideo()},s.media.pause=()=>{Fe.call(s,!1),l.pauseVideo()},s.media.stop=()=>{l.stopVideo()},s.media.duration=l.getDuration(),s.media.paused=!0,s.media.currentTime=0,Object.defineProperty(s.media,"currentTime",{get:()=>Number(l.getCurrentTime()),set(h){s.paused&&!s.embed.hasPlayed&&s.embed.mute(),s.media.seeking=!0,O.call(s,s.media,"seeking"),l.seekTo(h)}}),Object.defineProperty(s.media,"playbackRate",{get:()=>l.getPlaybackRate(),set(h){l.setPlaybackRate(h)}});let{volume:o}=s.config;Object.defineProperty(s.media,"volume",{get:()=>o,set(h){o=h,l.setVolume(100*o),O.call(s,s.media,"volumechange")}});let{muted:u}=s.config;Object.defineProperty(s.media,"muted",{get:()=>u,set(h){const m=d.boolean(h)?h:u;u=m,l[m?"mute":"unMute"](),l.setVolume(100*o),O.call(s,s.media,"volumechange")}}),Object.defineProperty(s.media,"currentSrc",{get:()=>l.getVideoUrl()}),Object.defineProperty(s.media,"ended",{get:()=>s.currentTime===s.duration});const c=l.getAvailablePlaybackRates();s.options.speed=c.filter(h=>s.config.speed.options.includes(h)),s.supported.ui&&e.customControls&&s.media.setAttribute("tabindex",-1),O.call(s,s.media,"timeupdate"),O.call(s,s.media,"durationchange"),clearInterval(s.timers.buffering),s.timers.buffering=setInterval(()=>{s.media.buffered=l.getVideoLoadedFraction(),(s.media.lastBuffered===null||s.media.lastBuffered<s.media.buffered)&&O.call(s,s.media,"progress"),s.media.lastBuffered=s.media.buffered,s.media.buffered===1&&(clearInterval(s.timers.buffering),O.call(s,s.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>W.build.call(s),50)},onStateChange(a){const l=a.target;switch(clearInterval(s.timers.playing),s.media.seeking&&[1,2].includes(a.data)&&(s.media.seeking=!1,O.call(s,s.media,"seeked")),a.data){case-1:O.call(s,s.media,"timeupdate"),s.media.buffered=l.getVideoLoadedFraction(),O.call(s,s.media,"progress");break;case 0:Fe.call(s,!1),s.media.loop?(l.stopVideo(),l.playVideo()):O.call(s,s.media,"ended");break;case 1:e.customControls&&!s.config.autoplay&&s.media.paused&&!s.embed.hasPlayed?s.media.pause():(Fe.call(s,!0),O.call(s,s.media,"playing"),s.timers.playing=setInterval(()=>{O.call(s,s.media,"timeupdate")},50),s.media.duration!==l.getDuration()&&(s.media.duration=l.getDuration(),O.call(s,s.media,"durationchange")));break;case 2:s.muted||s.embed.unMute(),Fe.call(s,!1);break;case 3:O.call(s,s.media,"waiting")}O.call(s,s.elements.container,"statechange",!1,{code:a.data})}}})}},Qs={setup(){this.media?(U(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),U(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&U(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=D("div",{class:this.config.classNames.video}),qs(this.media,this.elements.wrapper),this.elements.poster=D("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Se.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&Vt.setup.call(this)):this.debug.warn("No media element found!")}};class Ur{constructor(e){_(this,"load",()=>{this.enabled&&(d.object(window.google)&&d.object(window.google.ima)?this.ready():Yt(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),_(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),_(this,"setupIMA",()=>{this.elements.container=D("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),_(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=t.offsetWidth,i.linearAdSlotHeight=t.offsetHeight,i.nonLinearAdSlotWidth=t.offsetWidth,i.nonLinearAdSlotHeight=t.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(i){this.onAdError(i)}}),_(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const i=pt(Math.max(this.manager.getRemainingTime(),0)),n=`${J.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",n)},100)}),_(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=t.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n)),Object.keys(google.ima.AdEvent.Type).forEach(n=>{this.manager.addEventListener(google.ima.AdEvent.Type[n],r=>this.onAdEvent(r))}),this.trigger("loaded")}),_(this,"addCuePoints",()=>{d.empty(this.cuePoints)||this.cuePoints.forEach(t=>{if(t!==0&&t!==-1&&t<this.player.duration){const i=this.player.elements.progress;if(d.element(i)){const n=100/this.player.duration*t,r=D("span",{class:this.player.config.classNames.cues});r.style.left=`${n.toString()}%`,i.appendChild(r)}}})}),_(this,"onAdEvent",t=>{const{container:i}=this.player.elements,n=t.getAd(),r=t.getAdData();switch((a=>{O.call(this.player,this.player.media,`ads${a.replace(/_/g,"").toLowerCase()}`)})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn(`Non-fatal ad error: ${r.adError.getMessage()}`)}}),_(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),_(this,"listeners",()=>{const{container:t}=this.player.elements;let i;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{i=this.player.currentTime}),this.player.on("seeked",()=>{const n=this.player.currentTime;d.empty(this.cuePoints)||this.cuePoints.forEach((r,a)=>{i<r&&r<n&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),_(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(i){this.onAdError(i)}}).catch(()=>{})}),_(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,me(this.player.media.play())}),_(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),_(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),_(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),_(this,"trigger",(t,...i)=>{const n=this.events[t];d.array(n)&&n.forEach(r=>{d.function(r)&&r.apply(this,i)})}),_(this,"on",(t,i)=>(d.array(this.events[t])||(this.events[t]=[]),this.events[t].push(i),this)),_(this,"startSafetyTimer",(t,i)=>{this.player.debug.log(`Safety timer invoked from: ${i}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),_(this,"clearSafetyTimer",t=>{d.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${t}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,i)=>{this.on("loaded",t),this.on("error",i)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!d.empty(e.publisherId)||d.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return d.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Zs({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function ei(s=0,e=0,t=255){return Math.min(Math.max(s,e),t)}const Wr=s=>{const e=[];return s.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(n=>{if(d.number(i.startTime)){if(!d.empty(n.trim())&&d.empty(i.text)){const r=n.trim().split("#xywh=");[i.text]=r,r[1]&&([i.x,i.y,i.w,i.h]=r[1].split(","))}}else{const r=n.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(i.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+ +`0.${r[4]}`,i.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+ +`0.${r[9]}`)}}),i.text&&e.push(i)}),e},hs=(s,e)=>{const t={};return s>e.width/e.height?(t.width=e.width,t.height=1/s*e.width):(t.height=e.height,t.width=s*e.height),t};class Rt{constructor(e){_(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),_(this,"getThumbnails",()=>new Promise(t=>{const{src:i}=this.player.config.previewThumbnails;if(d.empty(i))throw new Error("Missing previewThumbnails.src config attribute");const n=()=>{this.thumbnails.sort((r,a)=>r.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(d.function(i))i(r=>{this.thumbnails=r,n()});else{const r=(d.string(i)?[i]:i).map(a=>this.getThumbnail(a));Promise.all(r).then(n)}})),_(this,"getThumbnail",t=>new Promise(i=>{Ue(t).then(n=>{const r={frames:Wr(n),height:null,urlPrefix:""};r.frames[0].text.startsWith("/")||r.frames[0].text.startsWith("http://")||r.frames[0].text.startsWith("https://")||(r.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{r.height=a.naturalHeight,r.width=a.naturalWidth,this.thumbnails.push(r),i()},a.src=r.urlPrefix+r.frames[0].text})})),_(this,"startMove",t=>{if(this.loaded&&d.event(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if(t.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var i,n;const r=this.player.elements.progress.getBoundingClientRect(),a=100/r.width*(t.pageX-r.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=pt(this.seekTime);const l=(i=this.player.config.markers)===null||i===void 0||(n=i.points)===null||n===void 0?void 0:n.find(({time:o})=>o===Math.round(this.seekTime));l&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${l.label}<br>`)}this.showImageAtCurrentTime()}}),_(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),_(this,"startScrubbing",t=>{(d.nullOrUndefined(t.button)||t.button===!1||t.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),_(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Wt.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),_(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),_(this,"render",()=>{this.elements.thumb.container=D("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=D("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=D("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=D("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(t),d.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=D("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),_(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),_(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(r=>this.seekTime>=r.startTime&&this.seekTime<=r.endTime),i=t>=0;let n=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((r,a)=>{this.loadedImages.includes(r.frames[t].text)&&(n=a)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(n)))}),_(this,"loadImage",(t=0)=>{const i=this.showingThumb,n=this.thumbnails[t],{urlPrefix:r}=n,a=n.frames[i],l=n.frames[i].text,o=r+l;if(this.currentImageElement&&this.currentImageElement.dataset.filename===l)this.showImage(this.currentImageElement,a,t,i,l,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const u=new Image;u.src=o,u.dataset.index=i,u.dataset.filename=l,this.showingThumbFilename=l,this.player.debug.log(`Loading image: ${o}`),u.onload=()=>this.showImage(u,a,t,i,l,!0),this.loadingImage=u,this.removeOldImages(u)}}),_(this,"showImage",(t,i,n,r,a,l=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${r}. qual: ${n}. newimg: ${l}`),this.setImageSizeAndOffset(t,i),l&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(r,!0).then(this.preloadNearby(r,!1)).then(this.getHigherQuality(n,t,i,a))}),_(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(i=>{if(i.tagName.toLowerCase()!=="img")return;const n=this.usingSprites?500:1e3;if(i.dataset.index!==t.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;const{currentImageContainer:r}=this;setTimeout(()=>{r.removeChild(i),this.player.debug.log(`Removing thumb: ${i.dataset.filename}`)},n)}})}),_(this,"preloadNearby",(t,i=!0)=>new Promise(n=>{setTimeout(()=>{const r=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===r){let a;a=i?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let l=!1;a.forEach(o=>{const u=o.text;if(u!==r&&!this.loadedImages.includes(u)){l=!0,this.player.debug.log(`Preloading thumb filename: ${u}`);const{urlPrefix:c}=this.thumbnails[0],h=c+u,m=new Image;m.src=h,m.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${u}`),this.loadedImages.includes(u)||this.loadedImages.push(u),n()}}}),l||n()}},300)})),_(this,"getHigherQuality",(t,i,n,r)=>{if(t<this.thumbnails.length-1){let a=i.naturalHeight;this.usingSprites&&(a=n.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===r&&(this.player.debug.log(`Showing higher quality thumb for: ${r}`),this.loadImage(t+1))},300)}}),_(this,"toggleThumbContainer",(t=!1,i=!1)=>{const n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,t),!t&&i&&(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"toggleScrubbingContainer",(t=!1)=>{const i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),_(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),_(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:t}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(t.clientHeight>20&&t.clientWidth<20){const i=Math.floor(t.clientHeight*this.thumbAspectRatio);t.style.width=`${i}px`}else if(t.clientHeight<20&&t.clientWidth>20){const i=Math.floor(t.clientWidth/this.thumbAspectRatio);t.style.height=`${i}px`}}else{const i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);t.style.height=`${this.thumbContainerHeight}px`,t.style.width=`${i}px`}this.setThumbContainerPos()}),_(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),i=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,r=i.left-t.left+10,a=i.right-t.left-n.clientWidth-10,l=this.mousePosX-t.left-n.clientWidth/2,o=ei(l,r,a);n.style.left=`${o}px`,n.style.setProperty("--preview-arrow-offset",l-o+"px")}),_(this,"setScrubbingContainerSize",()=>{const{width:t,height:i}=hs(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${t}px`,this.elements.scrubbing.container.style.height=`${i}px`}),_(this,"setImageSizeAndOffset",(t,i)=>{if(!this.usingSprites)return;const n=this.thumbContainerHeight/i.h;t.style.height=t.naturalHeight*n+"px",t.style.width=t.naturalWidth*n+"px",t.style.left=`-${i.x*n}px`,t.style.top=`-${i.y*n}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=hs(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const Nt={insertElements(s,e){d.string(e)?os(s,this.media,{src:e}):d.array(e)&&e.forEach(t=>{os(s,this.media,t)})},change(s){zs(s,"sources.length")?(Se.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],ve(this.media),this.media=null,d.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:t}=s,[{provider:i=Ee.html5,src:n}]=e,r=i==="html5"?t:"div",a=i==="html5"?{}:{src:n};Object.assign(this,{provider:i,type:t,supported:Y.check(t,i,this.config.playsinline),media:D(r,a)}),this.elements.container.appendChild(this.media),d.boolean(s.autoplay)&&(this.config.autoplay=s.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),d.empty(s.poster)||(this.poster=s.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),W.addStyleHook.call(this),this.isHTML5&&Nt.insertElements.call(this,"source",e),this.config.title=s.title,Qs.setup.call(this),this.isHTML5&&Object.keys(s).includes("tracks")&&Nt.insertElements.call(this,"track",s.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&W.build.call(this),this.isHTML5&&this.media.load(),d.empty(s.previewThumbnails)||(Object.assign(this.config.previewThumbnails,s.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class qe{constructor(e,t){if(_(this,"play",()=>d.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>me(this.media.play())),this.media.play()):null),_(this,"pause",()=>this.playing&&d.function(this.media.pause)?this.media.pause():null),_(this,"togglePlay",l=>(d.boolean(l)?l:!this.playing)?this.play():this.pause()),_(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):d.function(this.media.stop)&&this.media.stop()}),_(this,"restart",()=>{this.currentTime=0}),_(this,"rewind",l=>{this.currentTime-=d.number(l)?l:this.config.seekTime}),_(this,"forward",l=>{this.currentTime+=d.number(l)?l:this.config.seekTime}),_(this,"increaseVolume",l=>{const o=this.media.muted?0:this.volume;this.volume=o+(d.number(l)?l:0)}),_(this,"decreaseVolume",l=>{this.increaseVolume(-l)}),_(this,"airplay",()=>{Y.airplay&&this.media.webkitShowPlaybackTargetPicker()}),_(this,"toggleControls",l=>{if(this.supported.ui&&!this.isAudio){const o=at(this.elements.container,this.config.classNames.hideControls),u=l===void 0?void 0:!l,c=U(this.elements.container,this.config.classNames.hideControls,u);if(c&&d.array(this.config.controls)&&this.config.controls.includes("settings")&&!d.empty(this.config.settings)&&A.toggleMenu.call(this,!1),c!==o){const h=c?"controlshidden":"controlsshown";O.call(this,this.media,h)}return!c}return!1}),_(this,"on",(l,o)=>{j.call(this,this.elements.container,l,o)}),_(this,"once",(l,o)=>{Wt.call(this,this.elements.container,l,o)}),_(this,"off",(l,o)=>{ht(this.elements.container,l,o)}),_(this,"destroy",(l,o=!1)=>{if(!this.ready)return;const u=()=>{document.body.style.overflow="",this.embed=null,o?(Object.keys(this.elements).length&&(ve(this.elements.buttons.play),ve(this.elements.captions),ve(this.elements.controls),ve(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),d.function(l)&&l()):(xr.call(this),Se.cancelRequests.call(this),rt(this.elements.original,this.elements.container),O.call(this,this.elements.original,"destroyed",!0),d.function(l)&&l.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(W.toggleNativeControls.call(this,!0),u()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&d.function(this.embed.destroy)&&this.embed.destroy(),u()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(u),setTimeout(u,200))}),_(this,"supports",l=>Y.mime.call(this,l)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Y.touch,this.media=e,d.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||d.nodeList(this.media)||d.array(this.media))&&(this.media=this.media[0]),this.config=K({},Js,qe.defaults,t||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Rr(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Y),d.nullOrUndefined(this.media)||!d.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Y.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const n=this.media.tagName.toLowerCase();let r=null,a=null;switch(n){case"div":if(r=this.media.querySelector("iframe"),d.element(r)){if(a=Xs(r.getAttribute("src")),this.provider=Vr(a.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",a.search.length){const l=["1","true"];l.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(d.empty(this.provider)||!Object.values(Ee).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=At.video;break;case"video":case"audio":this.type=n,this.provider=Ee.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Y.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Nr(this),this.storage=new ze(this),this.media.plyr=this,d.element(this.elements.container)||(this.elements.container=D("div"),qs(this.media,this.elements.container)),W.migrateStyles.call(this),W.addStyleHook.call(this),Qs.setup.call(this),this.config.debug&&j.call(this,this.elements.container,this.config.events.join(" "),l=>{this.debug.log(`event: ${l.type}`)}),this.fullscreen=new de(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&W.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ur(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>me(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ee.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ee.youtube}get isVimeo(){return this.provider===Ee.vimeo}get isVideo(){return this.type===At.video}get isAudio(){return this.type===At.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e){if(!this.duration)return;const t=d.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return d.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=d.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;d.string(t)&&(t=Number(t)),d.number(t)||(t=this.storage.get("volume")),d.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!d.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;d.boolean(t)||(t=this.storage.get("muted")),d.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;d.number(e)&&(t=e),d.number(t)||(t=this.storage.get("speed")),d.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;t=ei(t,i,n),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!d.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(d.number),r=!0;if(!i.includes(n)){const a=js(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${a} instead`),n=a,r=!1}t.selected=n,this.media.quality=n,r&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const t=d.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return!!this.media.loop}set source(e){Nt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return d.url(e)?e:this.source}set download(e){d.url(e)&&(this.config.urls.download=e,A.setDownloadUrl.call(this))}set poster(e){this.isVideo?W.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=lt(Kt.call(this));return d.array(e)?e.join(":"):e}set ratio(e){this.isVideo?d.string(e)&&Gs(e)?(this.config.ratio=lt(e),Le.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=d.boolean(e)?e:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(e){H.toggle.call(this,e,!1)}set currentTrack(e){H.set.call(this,e,!1),H.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){H.setLanguage.call(this,e,!1)}get language(){return(H.getCurrentTrack.call(this)||{}).language}set pip(e){if(!Y.pip)return;const t=d.boolean(e)?e:!this.pip;d.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?xt.active:xt.inactive),d.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return Y.pip?d.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===xt.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Rt(this))}static supported(e,t){return Y.check(e,t)}static loadSprite(e,t){return Ks(e,t)}static setup(e,t={}){let i=null;return d.string(e)?i=Array.from(document.querySelectorAll(e)):d.nodeList(e)?i=Array.from(e):d.array(e)&&(i=e.filter(d.element)),d.empty(i)?null:i.map(n=>new qe(n,t))}}qe.defaults=kr(Js);const Kr="[data-js-video]";class Yr{constructor(e){this.root=e,this.video=e.querySelector("video.js-player"),this.playButton=e.querySelector("[data-js-video-play-button]"),this.player=null,this.init()}init(){this.player=new qe(this.video,{controls:["play-large","play","progress","current-time","mute","volume","fullscreen"],hideControls:!1,autoplay:!1}),this.root.classList.add("is-stopped"),this.playButton.addEventListener("click",()=>{this.root.classList.remove("is-stopped"),this.root.classList.add("is-started"),this.playButton.blur(),this.player.play()}),this.player.on("play",()=>{this.root.classList.remove("is-stopped"),this.root.classList.add("is-started")})}}class Xr{constructor(){this.init()}init(){document.querySelectorAll(Kr).forEach(e=>new Yr(e))}}function Te(s){return typeof s=="string"||s instanceof String}function ps(s){var e;return typeof s=="object"&&s!=null&&(s==null||(e=s.constructor)==null?void 0:e.name)==="Object"}function ti(s,e){return Array.isArray(e)?ti(s,(t,i)=>e.includes(i)):Object.entries(s).reduce((t,i)=>{let[n,r]=i;return e(r,n)&&(t[n]=r),t},{})}const F={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function Zr(s){switch(s){case F.LEFT:return F.FORCE_LEFT;case F.RIGHT:return F.FORCE_RIGHT;default:return s}}function Mt(s){return s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function ot(s,e){if(e===s)return!0;const t=Array.isArray(e),i=Array.isArray(s);let n;if(t&&i){if(e.length!=s.length)return!1;for(n=0;n<e.length;n++)if(!ot(e[n],s[n]))return!1;return!0}if(t!=i)return!1;if(e&&s&&typeof e=="object"&&typeof s=="object"){const r=e instanceof Date,a=s instanceof Date;if(r&&a)return e.getTime()==s.getTime();if(r!=a)return!1;const l=e instanceof RegExp,o=s instanceof RegExp;if(l&&o)return e.toString()==s.toString();if(l!=o)return!1;const u=Object.keys(e);for(n=0;n<u.length;n++)if(!Object.prototype.hasOwnProperty.call(s,u[n]))return!1;for(n=0;n<u.length;n++)if(!ot(s[u[n]],e[u[n]]))return!1;return!0}else if(e&&s&&typeof e=="function"&&typeof s=="function")return e.toString()===s.toString();return!1}class Jr{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?F.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?F.RIGHT:F.LEFT}}function V(s,e){return new V.InputMask(s,e)}function si(s){if(s==null)throw new Error("mask property should be defined");return s instanceof RegExp?V.MaskedRegExp:Te(s)?V.MaskedPattern:s===Date?V.MaskedDate:s===Number?V.MaskedNumber:Array.isArray(s)||s===Array?V.MaskedDynamic:V.Masked&&s.prototype instanceof V.Masked?s:V.Masked&&s instanceof V.Masked?s.constructor:s instanceof Function?V.MaskedFunction:(console.warn("Mask not found for mask",s),V.Masked)}function je(s){if(!s)throw new Error("Options in not defined");if(V.Masked){if(s.prototype instanceof V.Masked)return{mask:s};const{mask:e=void 0,...t}=s instanceof V.Masked?{mask:s}:ps(s)&&s.mask instanceof V.Masked?s:{};if(e){const i=e.mask;return{...ti(e,(n,r)=>!r.startsWith("_")),mask:e.constructor,_mask:i,...t}}}return ps(s)?{...s}:{mask:s}}function be(s){if(V.Masked&&s instanceof V.Masked)return s;const e=je(s),t=si(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}V.createMask=be;class Xt{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}V.MaskElement=Xt;const ms=90,Qr=89;class mt extends Xt{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,i;return(e=(t=(i=this.input).getRootNode)==null?void 0:t.call(i))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===ms&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===Qr&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===ms&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}V.HTMLMaskElement=mt;class ea extends mt{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}V.HTMLMaskElement=mt;class ii extends mt{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||i==null||i<n?i:n}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||i==null||i>n?i:n}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,e),i.setEnd(this.input.lastChild||this.input,t);const n=this.rootElement,r=n.getSelection&&n.getSelection();r&&(r.removeAllRanges(),r.addRange(i))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}V.HTMLContenteditableMaskElement=ii;class ft{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>ft.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}ft.MAX_LENGTH=100;let ta=class{constructor(e,t){this.el=e instanceof Xt?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new ii(e):new ea(e),this.masked=be(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new ft,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof V.Masked)&&this.masked.constructor===si(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof V.Masked?e:be({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const i=this._listeners[e];i&&i.forEach(n=>n(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,i=this.masked.value,n=this.masked.rawInputValue,r=this.displayValue,a=this.unmaskedValue!==t||this.value!==i||this._rawInputValue!==n;this._unmaskedValue=t,this._value=i,this._rawInputValue=n,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),a&&this._fireChangeEvents(),!this._historyChanging&&(a||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...i}=e,n=!this.maskEquals(t),r=this.masked.optionsIsChanged(i);n&&(this.mask=t),r&&this.masked.updateOptions(i),(n||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,F.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const i=this._listeners[e].indexOf(t);return i>=0&&this._listeners[e].splice(i,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new Jr({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),i=this.masked.rawInputValue,n=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=i===this.masked.rawInputValue?t.removeDirection:F.NONE;let a=this.masked.nearestInputPos(t.startChangePos+n,r);r!==F.NONE&&(a=this.masked.nearestInputPos(a,F.NONE)),this.updateControl(a),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}};V.InputMask=ta;class z{static normalize(e){return Array.isArray(e)?e:[e,new z]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}V.ChangeDetails=z;class fe{constructor(e,t,i){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=i}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class te{constructor(e){this._value="",this._update({...te.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new fe(this.extractInput(e,t),e)}appendTail(e){return Te(e)&&(e=new fe(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new z({inserted:e,rawInserted:e})):new z}_appendChar(e,t,i){t===void 0&&(t={});const n=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const a=this.state;this.state=n;let l=this.pad(t);const o=this._appendCharRaw(e,t);l=l.aggregate(o),o.rawInserted||l.equals(r)?r=l:this.state=a}if(r.inserted){let a,l=this.doValidate(t)!==!1;if(l&&i!=null){const o=this.state;if(this.overwrite===!0){a=i.state;for(let c=0;c<r.rawInserted.length;++c)i.unshift(this.displayValue.length-r.tailShift)}let u=this.appendTail(i);if(l=u.rawInserted.length===i.toString().length,!(l&&u.inserted)&&this.overwrite==="shift"){this.state=o,a=i.state;for(let c=0;c<r.rawInserted.length;++c)i.shift();u=this.appendTail(i),l=u.rawInserted.length===i.toString().length}l&&u.inserted&&(this.state=o)}l||(r=new z,this.state=n,i&&a&&(i.state=a))}return r}_appendPlaceholder(){return new z}_appendEager(){return new z}append(e,t,i){if(!Te(e))throw new Error("value should be string");const n=Te(i)?new fe(String(i)):i;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let a=0;a<e.length;++a){const l=this._appendChar(e[a],t,n);if(!l.rawInserted&&!this.doSkipInvalid(e[a],t,n))break;r.aggregate(l)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),n!=null&&(r.tailShift+=this.appendTail(n).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new z}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,i=this.value,n=e();return this.rawInputValue=t,this.value&&this.value!==i&&i.indexOf(this.value)===0&&(this.append(i.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,n}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,i=e(this);return this.state=t,delete this._isolated,i}doSkipInvalid(e,t,i){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),z.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),z.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,i,n,r){i===void 0&&(i=""),n===void 0&&(n=F.NONE),r===void 0&&(r={input:!0});const a=e+t,l=this.extractTail(a),o=this.eager===!0||this.eager==="remove";let u;o&&(n=Zr(n),u=this.extractInput(0,a,{raw:!0}));let c=e;const h=new z;if(n!==F.NONE&&(c=this.nearestInputPos(e,t>1&&e!==0&&!o?F.NONE:n),h.tailShift=c-e),h.aggregate(this.remove(c)),o&&n!==F.NONE&&u===this.rawInputValue)if(n===F.FORCE_LEFT){let m;for(;u===this.rawInputValue&&(m=this.displayValue.length);)h.aggregate(new z({tailShift:-1})).aggregate(this.remove(m-1))}else n===F.FORCE_RIGHT&&l.unshift();return h.aggregate(this.append(i,r,l))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!ot(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||te.EMPTY_VALUES.includes(e)&&te.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new z}}te.DEFAULTS={skipInvalid:!0};te.EMPTY_VALUES=[void 0,null,""];V.Masked=te;class _e{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=Te(e)?new fe(String(e)):e;const t=this.chunks[this.chunks.length-1],i=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof fe)i?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof _e){if(e.stop==null){let n;for(;e.chunks.length&&e.chunks[0].stop==null;)n=e.chunks.shift(),n.from+=e.from,this.extend(n)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof V.MaskedPattern))return new fe(this.toString()).appendTo(e);const t=new z;for(let i=0;i<this.chunks.length;++i){const n=this.chunks[i],r=e._mapPosToBlock(e.displayValue.length),a=n.stop;let l;if(a!=null&&(!r||r.index<=a)&&((n instanceof _e||e._stops.indexOf(a)>=0)&&t.aggregate(e._appendPlaceholder(a)),l=n instanceof _e&&e._blocks[a]),l){const o=l.appendTail(n);t.aggregate(o);const u=n.toString().slice(o.rawInserted.length);u&&t.aggregate(e.append(u,{tail:!0}))}else t.aggregate(e.append(n.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...i}=e;Object.assign(this,i),this.chunks=t.map(n=>{const r="chunks"in n?new _e:new fe;return r.state=n,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let i=0;for(;i<this.chunks.length;){const n=this.chunks[i],r=n.unshift(t);if(n.toString()){if(!r)break;++i}else this.chunks.splice(i,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],i=t.shift();if(t.toString()){if(!i)break;--e}else this.chunks.splice(e,1);if(i)return i}return""}}class sa{constructor(e,t){this.masked=e,this._log=[];const{offset:i,index:n}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=i,this.index=n,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,F.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,F.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,F.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,F.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,F.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,F.NONE),!0})}}class ni{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new z}nearestInputPos(e,t){t===void 0&&(t=F.NONE);const i=0,n=this._value.length;switch(t){case F.LEFT:case F.FORCE_LEFT:return i;case F.NONE:case F.RIGHT:case F.FORCE_RIGHT:default:return n}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),i===void 0&&(i={}),i.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new z;const i=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!i)&&!t.tail,a=new z({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),a}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new z;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new fe("")}appendTail(e){return Te(e)&&(e=new fe(String(e))),e.appendTo(this)}append(e,t,i){const n=this._appendChar(e[0],t);return i!=null&&(n.tailShift+=this.appendTail(i).tailShift),n}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class ut{constructor(e){const{parent:t,isOptional:i,placeholderChar:n,displayChar:r,lazy:a,eager:l,...o}=e;this.masked=be(o),Object.assign(this,{parent:t,isOptional:i,placeholderChar:n,displayChar:r,lazy:a,eager:l})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new z}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new z;const i=this.masked.state;let n=this.masked._appendChar(e,this.currentMaskFlags(t));return n.inserted&&this.doValidate(t)===!1&&(n=new z,this.masked.state=i),!n.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(n.inserted=this.placeholderChar),n.skip=!n.inserted&&!this.isOptional,this.isFilled=!!n.inserted,n}append(e,t,i){return this.masked.append(e,this.currentMaskFlags(t),i)}_appendPlaceholder(){return this.isFilled||this.isOptional?new z:(this.isFilled=!0,new z({inserted:this.placeholderChar}))}_appendEager(){return new z}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,i)}nearestInputPos(e,t){t===void 0&&(t=F.NONE);const i=0,n=this.value.length,r=Math.min(Math.max(e,i),n);switch(t){case F.LEFT:case F.FORCE_LEFT:return this.isComplete?r:i;case F.RIGHT:case F.FORCE_RIGHT:return this.isComplete?r:n;case F.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new z}}ut.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class ia extends te{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=i=>i.search(t)>=0),super._update(e)}}V.MaskedRegExp=ia;class se extends te{constructor(e){super({...se.DEFAULTS,...e,definitions:Object.assign({},ut.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let i=!1,n=!1;for(let r=0;r<t.length;++r){if(this.blocks){const u=t.slice(r),c=Object.keys(this.blocks).filter(m=>u.indexOf(m)===0);c.sort((m,f)=>f.length-m.length);const h=c[0];if(h){const{expose:m,repeat:f,...v}=je(this.blocks[h]),y={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...v,repeat:f,parent:this},E=f!=null?new V.RepeatBlock(y):be(y);E&&(this._blocks.push(E),m&&(this.exposeBlock=E),this._maskedBlocks[h]||(this._maskedBlocks[h]=[]),this._maskedBlocks[h].push(this._blocks.length-1)),r+=h.length-1;continue}}let a=t[r],l=a in e;if(a===se.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(a==="{"||a==="}"){i=!i;continue}if(a==="["||a==="]"){n=!n;continue}if(a===se.ESCAPE_CHAR){if(++r,a=t[r],!a)break;l=!1}const o=l?new ut({isOptional:n,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...je(e[a]),parent:this}):new ni({char:a,eager:this.eager,isUnmasking:i});this._blocks.push(o)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...i}=e;this._blocks.forEach((n,r)=>n.state=t[r]),super.state=i}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new z;let i=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(i==null)return t;this._blocks[i].isFilled&&++i;for(let n=i;n<this._blocks.length;++n){const r=this._blocks[n]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._mapPosToBlock(this.displayValue.length),n=new z;if(!i)return n;for(let a=i.index,l;l=this._blocks[a];++a){var r;const o=l._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[a]});if(n.aggregate(o),o.consumed)break}return n}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=new _e;return e===t||this._forEachBlocksInRange(e,t,(n,r,a,l)=>{const o=n.extractTail(a,l);o.stop=this._findStopBefore(r),o.from=this._blockStartPos(r),o instanceof _e&&(o.blockIndex=r),i.extend(o)}),i}extractInput(e,t,i){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),i===void 0&&(i={}),e===t)return"";let n="";return this._forEachBlocksInRange(e,t,(r,a,l,o)=>{n+=r.extractInput(l,o,i)}),n}_findStopBefore(e){let t;for(let i=0;i<this._stops.length;++i){const n=this._stops[i];if(n<=e)t=n;else break}return t}_appendPlaceholder(e){const t=new z;if(this.lazy&&e==null)return t;const i=this._mapPosToBlock(this.displayValue.length);if(!i)return t;const n=i.index,r=e??this._blocks.length;return this._blocks.slice(n,r).forEach(a=>{if(!a.lazy||e!=null){var l;t.aggregate(a._appendPlaceholder((l=a._blocks)==null?void 0:l.length))}}),t}_mapPosToBlock(e){let t="";for(let i=0;i<this._blocks.length;++i){const n=this._blocks[i],r=t.length;if(t+=n.displayValue,e<=t.length)return{index:i,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,i)=>t+=i.displayValue.length,0)}_forEachBlocksInRange(e,t,i){t===void 0&&(t=this.displayValue.length);const n=this._mapPosToBlock(e);if(n){const r=this._mapPosToBlock(t),a=r&&n.index===r.index,l=n.offset,o=r&&a?r.offset:this._blocks[n.index].displayValue.length;if(i(this._blocks[n.index],n.index,l,o),r&&!a){for(let u=n.index+1;u<r.index;++u)i(this._blocks[u],u,0,this._blocks[u].displayValue.length);i(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._forEachBlocksInRange(e,t,(n,r,a,l)=>{i.aggregate(n.remove(a,l))}),i}nearestInputPos(e,t){if(t===void 0&&(t=F.NONE),!this._blocks.length)return 0;const i=new sa(this,e);if(t===F.NONE)return i.pushRightBeforeInput()||(i.popState(),i.pushLeftBeforeInput())?i.pos:this.displayValue.length;if(t===F.LEFT||t===F.FORCE_LEFT){if(t===F.LEFT){if(i.pushRightBeforeFilled(),i.ok&&i.pos===e)return e;i.popState()}if(i.pushLeftBeforeInput(),i.pushLeftBeforeRequired(),i.pushLeftBeforeFilled(),t===F.LEFT){if(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.ok&&i.pos<=e||(i.popState(),i.ok&&i.pos<=e))return i.pos;i.popState()}return i.ok?i.pos:t===F.FORCE_LEFT?0:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:0)}return t===F.RIGHT||t===F.FORCE_RIGHT?(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.pushRightBeforeFilled()?i.pos:t===F.FORCE_RIGHT?this.displayValue.length:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:this.nearestInputPos(e,F.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let i=0;return this._forEachBlocksInRange(e,t,(n,r,a,l)=>{i+=n.totalInputPositions(a,l)}),i}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(i=>this._blocks[i]):[]}pad(e){const t=new z;return this._forEachBlocksInRange(0,this.displayValue.length,i=>t.aggregate(i.pad(e))),t}}se.DEFAULTS={...te.DEFAULTS,lazy:!0,placeholderChar:"_"};se.STOP_CHAR="`";se.ESCAPE_CHAR="\\";se.InputDefinition=ut;se.FixedDefinition=ni;V.MaskedPattern=se;class et extends se{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:i=this.from||0,maxLength:n=this.maxLength||0,autofix:r=this.autofix,...a}=e;this.to=t,this.from=i,this.maxLength=Math.max(String(t).length,n),this.autofix=r;const l=String(this.from).padStart(this.maxLength,"0"),o=String(this.to).padStart(this.maxLength,"0");let u=0;for(;u<o.length&&o[u]===l[u];)++u;a.mask=o.slice(0,u).replace(/0/g,"\\0")+"0".repeat(this.maxLength-u),super._update(a)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",i="";const[,n,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(n.length)+r,i="9".repeat(n.length)+r),t=t.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9"),[t,i]}doPrepareChar(e,t){t===void 0&&(t={});let i;return[e,i]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(i.skip=!this.isComplete),[e,i]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const i=String(this.from).padStart(this.maxLength,"0"),n=String(this.to).padStart(this.maxLength,"0"),[r,a]=this.boundaries(this.value+e);return Number(a)<this.from?super._appendCharRaw(i[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(i[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(n[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[n,r]=this.boundaries(t);return this.from<=Number(r)&&Number(n)<=this.to&&super.doValidate(e)}pad(e){const t=new z;if(this.value.length===this.maxLength)return t;const i=this.value,n=this.maxLength-this.value.length;if(n){this.reset();for(let r=0;r<n;++r)t.aggregate(super._appendCharRaw("0",e));i.split("").forEach(r=>this._appendCharRaw(r))}return t}}V.MaskedRange=et;const na="d{.}`m{.}`Y";class ge extends se{static extractPatternOptions(e){const{mask:t,pattern:i,...n}=e;return{...n,mask:Te(t)?t:i}}constructor(e){super(ge.extractPatternOptions({...ge.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:i,blocks:n,...r}={...ge.DEFAULTS,...e},a=Object.assign({},ge.GET_DEFAULT_BLOCKS());e.min&&(a.Y.from=e.min.getFullYear()),e.max&&(a.Y.to=e.max.getFullYear()),e.min&&e.max&&a.Y.from===a.Y.to&&(a.m.from=e.min.getMonth()+1,a.m.to=e.max.getMonth()+1,a.m.from===a.m.to&&(a.d.from=e.min.getDate(),a.d.to=e.max.getDate())),Object.assign(a,this.blocks,n),super._update({...r,mask:Te(t)?t:i,blocks:a})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(ge.extractPatternOptions(e))}}ge.GET_DEFAULT_BLOCKS=()=>({d:{mask:et,from:1,to:31,maxLength:2},m:{mask:et,from:1,to:12,maxLength:2},Y:{mask:et,from:1900,to:9999}});ge.DEFAULTS={...se.DEFAULTS,mask:Date,pattern:na,format:(s,e)=>{if(!s)return"";const t=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),n=s.getFullYear();return[t,i,n].join(".")},parse:(s,e)=>{const[t,i,n]=s.split(".").map(Number);return new Date(n,i-1,t)}};V.MaskedDate=ge;class gt extends te{constructor(e){super({...gt.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:i,...n}=je(t),r=be({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...n});return i&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const i=this._applyDispatch(e,t);return this.currentMask&&i.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),i}_applyDispatch(e,t,i){e===void 0&&(e=""),t===void 0&&(t={}),i===void 0&&(i="");const n=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,a=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,l=r.slice(a.length),o=this.currentMask,u=new z,c=o==null?void 0:o.state;return this.currentMask=this.doDispatch(e,{...t},i),this.currentMask&&(this.currentMask!==o?(this.currentMask.reset(),a&&(this.currentMask.append(a,{raw:!0}),u.tailShift=this.currentMask.value.length-n.length),l&&(u.tailShift+=this.currentMask.append(l,{raw:!0,tail:!0}).tailShift)):c&&(this.currentMask.state=c)),u}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new z;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,i;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((i=e._beforeTailState)==null?void 0:i.currentMask)||e._beforeTailState}}doDispatch(e,t,i){return t===void 0&&(t={}),i===void 0&&(i=""),this.dispatch(e,this,t,i)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[i,n]=super.doPrepare(e,t);if(this.currentMask){let r;[i,r]=super.doPrepare(i,this.currentMaskFlags(t)),n=n.aggregate(r)}return[i,n]}doPrepareChar(e,t){t===void 0&&(t={});let[i,n]=super.doPrepareChar(e,t);if(this.currentMask){let r;[i,r]=super.doPrepareChar(i,this.currentMaskFlags(t)),n=n.aggregate(r)}return[i,n]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const i=new z;return this.currentMask&&i.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),i}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:i,currentMask:n,...r}=e;t&&this.compiledMasks.forEach((a,l)=>a.state=t[l]),i!=null&&(this.currentMask=i,this.currentMask.state=n),super.state=r}extractInput(e,t,i){return this.currentMask?this.currentMask.extractInput(e,t,i):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,i)=>{if(!e[i])return;const{mask:n,...r}=e[i];return ot(t,r)&&t.maskEquals(n)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}gt.DEFAULTS={...te.DEFAULTS,dispatch:(s,e,t,i)=>{if(!e.compiledMasks.length)return;const n=e.rawInputValue,r=e.compiledMasks.map((a,l)=>{const o=e.currentMask===a,u=o?a.displayValue.length:a.nearestInputPos(a.displayValue.length,F.FORCE_LEFT);return a.rawInputValue!==n?(a.reset(),a.append(n,{raw:!0})):o||a.remove(u),a.append(s,e.currentMaskFlags(t)),a.appendTail(i),{index:l,weight:a.rawInputValue.length,totalInputPositions:a.totalInputPositions(0,Math.max(u,a.nearestInputPos(a.displayValue.length,F.FORCE_LEFT)))}});return r.sort((a,l)=>l.weight-a.weight||l.totalInputPositions-a.totalInputPositions),e.compiledMasks[r[0].index]}};V.MaskedDynamic=gt;class vt extends se{constructor(e){super({...vt.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...i}=e;if(t){const n=t.map(l=>l.length),r=Math.min(...n),a=Math.max(...n)-r;i.mask="*".repeat(r),a&&(i.mask+="["+"*".repeat(a)+"]"),this.enum=t}super._update(i)}_appendCharRaw(e,t){t===void 0&&(t={});const i=Math.min(this.nearestInputPos(0,F.FORCE_RIGHT),this.value.length),n=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,i));if(n.length){n.length===1&&this._forEachBlocksInRange(0,this.value.length,(a,l)=>{const o=n[0][l];l>=this.value.length||o===a.value||(a.reset(),a._appendChar(o,t))});const r=super._appendCharRaw(n[0][this.value.length],t);return n.length===1&&n[0].slice(this.unmaskedValue.length).split("").forEach(a=>r.aggregate(super._appendCharRaw(a))),r}return new z({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new fe("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new z;const i=Math.min(super.nearestInputPos(0,F.FORCE_RIGHT),this.value.length);let n;for(n=e;n>=0&&!(this.enum.filter(l=>this.matchValue(l,this.value.slice(i,n),i)).length>1);--n);const r=super.remove(n,t);return r.tailShift+=n-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}vt.DEFAULTS={...se.DEFAULTS,matchValue:(s,e,t)=>s.indexOf(e,t)===t};V.MaskedEnum=vt;class ra extends te{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}V.MaskedFunction=ra;var ri;class oe extends te{constructor(e){super({...oe.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",i=(this.scale?"("+Mt(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+i),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Mt).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Mt(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[i,n]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!i&&(n.skip=!0),i&&!this.allowPositive&&!this.value&&i!=="-"&&n.aggregate(this._appendChar("-")),[i,n]}_separatorsCount(e,t){t===void 0&&(t=!1);let i=0;for(let n=0;n<e;++n)this._value.indexOf(this.thousandsSeparator,n)===n&&(++i,t&&(e+=this.thousandsSeparator.length));return i}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,i){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,i))}_appendCharRaw(e,t){t===void 0&&(t={});const i=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,n=this._separatorsCountFromSlice(i);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const a=this.number;let l=!isNaN(a),o=!1;if(l){let m;this.min!=null&&this.min<0&&this.number<this.min&&(m=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(m=this.max),m!=null&&(this.autofix?(this._value=this.format(m,this).replace(oe.UNMASKED_RADIX,this.radix),o||(o=r===this._value&&!t.tail)):l=!1),l&&(l=!!this._value.match(this._numberRegExp))}let u;l?u=new z({inserted:this._value.slice(r.length),rawInserted:o?"":e,skip:o}):(this._value=r,u=new z),this._value=this._insertThousandsSeparators(this._value);const c=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,h=this._separatorsCountFromSlice(c);return u.tailShift+=(h-n)*this.thousandsSeparator.length,u}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,i=this.value.indexOf(this.thousandsSeparator,t);if(i<=e)return i}return-1}_adjustRangeWithSeparators(e,t){const i=this._findSeparatorAround(e);i>=0&&(e=i);const n=this._findSeparatorAround(t);return n>=0&&(t=n+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const i=this.value.slice(0,e),n=this.value.slice(t),r=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+n));const a=this._separatorsCountFromSlice(i);return new z({tailShift:(a-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case F.NONE:case F.LEFT:case F.FORCE_LEFT:{const i=this._findSeparatorAround(e-1);if(i>=0){const n=i+this.thousandsSeparator.length;if(e<n||this.value.length<=n||t===F.FORCE_LEFT)return i}break}case F.RIGHT:case F.FORCE_RIGHT:{const i=this._findSeparatorAround(e);if(i>=0)return i+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let i=this.value;this.normalizeZeros&&(i=this._normalizeZeros(i)),this.padFractionalZeros&&this.scale>0&&(i=this._padFractionalZeros(i)),this._value=i}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(i,n,r,a)=>n+a),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,i){t===void 0&&(t={});const n=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===oe.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,i)&&!n}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,oe.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(oe.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||oe.EMPTY_VALUES.includes(e)&&oe.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}ri=oe;oe.UNMASKED_RADIX=".";oe.EMPTY_VALUES=[...te.EMPTY_VALUES,0];oe.DEFAULTS={...te.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[ri.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:s=>s.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};V.MaskedNumber=oe;const $t={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function ai(s,e,t){e===void 0&&(e=$t.MASKED),t===void 0&&(t=$t.MASKED);const i=be(s);return n=>i.runIsolated(r=>(r[e]=n,r[t]))}function aa(s,e,t,i){return ai(e,t,i)(s)}V.PIPE_TYPE=$t;V.createPipe=ai;V.pipe=aa;class la extends se{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,i,n;const{repeat:r,...a}=je(e);this._blockOpts=Object.assign({},this._blockOpts,a);const l=be(this._blockOpts);this.repeat=(t=(i=r??l.repeat)!=null?i:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((n=this._blocks)==null?void 0:n.length)||0,this.repeatFrom)),blocks:{m:l},eager:l.eager,overwrite:l.overwrite,skipInvalid:l.skipInvalid,lazy:l.lazy,placeholderChar:l.placeholderChar,displayChar:l.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(be(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const i=new z;for(let o=(n=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?n:Math.max(this._blocks.length-1,0),u,c;u=(a=this._blocks[o])!=null?a:c=!c&&this._allocateBlock(o);++o){var n,r,a,l;const h=u._appendChar(e,{...t,_beforeTailState:(l=t._beforeTailState)==null||(l=l._blocks)==null?void 0:l[o]});if(h.skip&&c){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(i.aggregate(h),h.consumed)break}return i}_trimEmptyTail(e,t){var i,n;e===void 0&&(e=0);const r=Math.max(((i=this._mapPosToBlock(e))==null?void 0:i.index)||0,this.repeatFrom,0);let a;t!=null&&(a=(n=this._mapPosToBlock(t))==null?void 0:n.index),a==null&&(a=this._blocks.length-1);let l=0;for(let o=a;r<=o&&!this._blocks[o].unmaskedValue;--o,++l);l&&(this._blocks.splice(a-l+1,l),this.mask=this.mask.slice(l))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const i=super.remove(e,t);return this._trimEmptyTail(e,t),i}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}V.RepeatBlock=la;try{globalThis.IMask=V}catch{}const li="[data-js-input-mask]";class oa{constructor(e){P(this,"selectors",{root:li});this.rootElement=e,this.init()}init(){const e=this.rootElement.getAttribute(qt(this.selectors.root));V(this.rootElement,{mask:e})}}class ua{constructor(){this.init()}init(){document.querySelectorAll(li).forEach(e=>{new oa(e)})}}const fs={mobile:window.matchMedia(`(width <= ${Pt(768.97)}rem)`)},oi="[data-js-select]";class ca extends ct{constructor(t){super();P(this,"selectors",{root:oi,originalControl:"[data-js-select-original-control]",button:"[data-js-select-button]",dropdown:"[data-js-select-dropdown]",option:"[data-js-select-option]"});P(this,"stateClasses",{isSelected:"is-selected",isExpanded:"is-expanded",isCurrent:"is-current",isOnTheLeftSide:"is-on-the-left-side",isOnTheRightSide:"is-on-the-right-side"});P(this,"initialState",{isExpanded:!1,selectedOptionElement:null,currentOptionIndex:null});P(this,"fixDropdownPosition",()=>{const i=document.documentElement.clientWidth/2,{width:n,x:r}=this.buttonElement.getBoundingClientRect(),l=r+n/2<i;this.dropdownElement.classList.toggle(this.stateClasses.isOnTheLeftSide,l),this.dropdownElement.classList.toggle(this.stateClasses.isOnTheRightSide,!l)});P(this,"onMobilelMatchMediaChange",t=>{this.updateTabIndexes(t.matches)});P(this,"onOriginalControlChange",()=>{this.state.selectedOptionElement=this.optionElements[this.originalControlElement.selectedIndex]});P(this,"onButtonClick",()=>{this.toggleExpandedState()});P(this,"onClick",t=>{const{target:i}=t,n=i===this.buttonElement,r=i.closest(this.selectors.dropdown)!==this.dropdownElement;if(!n&&r){this.collapse();return}i.matches(this.selectors.option)&&(this.state.selectedOptionElement=i,this.state.currentOptionIndex=[...this.optionElements].findIndex(l=>l===i),this.collapse())});P(this,"onArrowUpKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.state.currentOptionIndex>0&&this.state.currentOptionIndex--});P(this,"onArrowDownKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.state.currentOptionIndex<this.optionElements.length-1&&this.state.currentOptionIndex++});P(this,"onSpaceKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.selectCurrentOption(),this.collapse()});P(this,"onEnterKeyDown",()=>{if(this.isNeedToExpand){this.expand();return}this.selectCurrentOption(),this.collapse()});P(this,"onEscKeyDown",()=>{this.collapse()});P(this,"onKeyDown",t=>{const{code:i}=t,n={ArrowUp:this.onArrowUpKeyDown,ArrowDown:this.onArrowDownKeyDown,Space:this.onSpaceKeyDown,Enter:this.onEnterKeyDown,Esc:this.onEscKeyDown}[i];n&&(t.preventDefault(),n())});this.rootElement=t,this.originalControlElement=this.rootElement.querySelector(this.selectors.originalControl),this.buttonElement=this.rootElement.querySelector(this.selectors.button),this.dropdownElement=this.rootElement.querySelector(this.selectors.dropdown),this.optionElements=this.dropdownElement.querySelectorAll(this.selectors.option),this.state=this.getProxyState({...this.initialState,currentOptionIndex:this.originalControlElement.selectedIndex,selectedOptionElement:this.optionElements[this.originalControlElement.selectedIndex]}),setTimeout(this.fixDropdownPosition,500),this.updateTabIndexes(),this.bindEvents()}updateUI(){const{isExpanded:t,selectedOptionElement:i,currentOptionIndex:n}=this.state,r=i.textContent.trim(),a=()=>{this.originalControlElement.value=r},l=()=>{this.buttonElement.textContent=r,this.buttonElement.classList.toggle(this.stateClasses.isExpanded,t),this.buttonElement.ariaExpanded=t,this.buttonElement.ariaActiveDescendant=this.optionElements[n].id},o=()=>{this.dropdownElement.classList.toggle(this.stateClasses.isExpanded,t)},u=()=>{this.optionElements.forEach((c,h)=>{const m=n===h,f=i===c;c.classList.toggle(this.stateClasses.isCurrent,m),c.classList.toggle(this.stateClasses.isSelected,f),c.ariaSelected=f})};a(),l(),o(),u()}updateTabIndexes(t=fs.mobile.matches){this.originalControlElement.tabIndex=t?0:-1,this.buttonElement.tabIndex=t?-1:0}toggleExpandedState(){this.state.isExpanded=!this.state.isExpanded}expand(){this.state.isExpanded=!0}collapse(){this.state.isExpanded=!1}get isNeedToExpand(){const t=document.activeElement===this.buttonElement;return!this.state.isExpanded&&t}selectCurrentOption(){this.state.selectedOptionElement=this.optionElements[this.state.currentOptionIndex]}bindEvents(){fs.mobile.addEventListener("change",this.onMobilelMatchMediaChange),this.originalControlElement.addEventListener("change",this.onOriginalControlChange),this.buttonElement.addEventListener("click",this.onButtonClick),document.addEventListener("click",this.onClick),this.rootElement.addEventListener("keydown",this.onKeyDown)}}class da{constructor(){this.init()}init(){document.querySelectorAll(oi).forEach(e=>{new ca(e)})}}class ha{constructor(){P(this,"selectors",{root:"[data-js-modal-notify]",dialog:"[data-js-modal-notify-dialog]",openButton:"[data-js-modal-notify-button]",closeButton:"[data-js-modal-notify-close]",productNameInput:"#modalProductNameInput"});P(this,"stateClasses",{isVisible:"is-visible",isLock:"is-lock"});this.rootElements=document.querySelectorAll(this.selectors.root),this.openButtons=document.querySelectorAll(this.selectors.openButton),this.initModals(),this.bindGlobalEvents()}initModals(){this.rootElements.forEach(e=>{const t=e.querySelector(this.selectors.closeButton);t==null||t.addEventListener("click",i=>{i.preventDefault(),this.closeModal(e)}),e.addEventListener("click",i=>{i.target===e&&(i.preventDefault(),this.closeModal(e))})}),this.openButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const i=this.selectors.openButton.slice(1,-1),n=e.getAttribute(i),r=document.querySelector(`[data-js-modal-notify="${n}"]`);if(!r)return;this.openModal(r);const a=e.getAttribute("data-product-name"),l=r.querySelector(this.selectors.productNameInput);l&&(l.value=a||"")})})}openModal(e){e.classList.add(this.stateClasses.isVisible),Ie.lock()}closeModal(e){e.classList.remove(this.stateClasses.isVisible),Ie.unlock()}bindGlobalEvents(){document.addEventListener("keydown",e=>{e.key==="Escape"&&this.rootElements.forEach(t=>this.closeModal(t))})}}const pa="modulepreload",ma=function(s){return"/red-pancir/"+s},gs={},fa=function(e,t,i){if(!t||t.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=ma(r),r in gs)return;gs[r]=!0;const a=r.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===r&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":pa,a||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),a)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r})};/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function Oe(s,e,t){const i=document.createElement(e);return s&&(i.className=s),t&&t.appendChild(i),i}function ga(s,e,t){let i=`translate3d(${s}px,${e||0}px,0)`;return t!==void 0&&(i+=` scale3d(${t},${t},1)`),i}function zt(s,e,t){s.style.width=typeof e=="number"?`${e}px`:e,s.style.height=typeof t=="number"?`${t}px`:t}const ue={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function va(s){return"button"in s&&s.button===1||s.ctrlKey||s.metaKey||s.altKey||s.shiftKey}function Be(s,e,t=document){let i=[];if(s instanceof Element)i=[s];else if(s instanceof NodeList||Array.isArray(s))i=Array.from(s);else{const n=typeof s=="string"?s:e;n&&(i=Array.from(t.querySelectorAll(n)))}return i}function ya(s){return typeof s=="function"&&s.prototype&&s.prototype.goTo}function vs(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class ba{constructor(e,t){this.type=e,this.defaultPrevented=!1,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class wa{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,i=100){var n,r,a;this._filters[e]||(this._filters[e]=[]),(n=this._filters[e])===null||n===void 0||n.push({fn:t,priority:i}),(r=this._filters[e])===null||r===void 0||r.sort((l,o)=>l.priority-o.priority),(a=this.pswp)===null||a===void 0||a.addFilter(e,t,i)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter(i=>i.fn!==t)),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){var i;return(i=this._filters[e])===null||i===void 0||i.forEach(n=>{t[0]=n.fn.apply(this,t)}),t[0]}on(e,t){var i,n;this._listeners[e]||(this._listeners[e]=[]),(i=this._listeners[e])===null||i===void 0||i.push(t),(n=this.pswp)===null||n===void 0||n.on(e,t)}off(e,t){var i;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(n=>t!==n)),(i=this.pswp)===null||i===void 0||i.off(e,t)}dispatch(e,t){var i;if(this.pswp)return this.pswp.dispatch(e,t);const n=new ba(e,t);return(i=this._listeners[e])===null||i===void 0||i.forEach(r=>{r.call(this,n)}),n}}class Ea{constructor(e,t){if(this.element=Oe("pswp__img pswp__img--placeholder",e?"img":"div",t),e){const i=this.element;i.decoding="async",i.alt="",i.src=e,i.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,t){this.element&&(this.element.tagName==="IMG"?(zt(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=ga(0,0,e/250)):zt(this.element,e,t))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}}class ka{constructor(e,t,i){this.instance=t,this.data=e,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=ue.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,t){if(this.slide&&this.usePlaceholder())if(this.placeholder){const i=this.placeholder.element;i&&!i.parentElement&&this.slide.container.prepend(i)}else{const i=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Ea(i,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=Oe("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=Oe("pswp__content","div"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var t,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;const n=this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=(t=this.data.src)!==null&&t!==void 0?t:"",n.alt=(i=this.data.alt)!==null&&i!==void 0?i:"",this.state=ue.LOADING,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=ue.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===ue.LOADED||this.state===ue.ERROR)&&this.removePlaceholder())}onError(){this.state=ue.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===ue.LOADING,this)}isError(){return this.state===ue.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(zt(this.element,e,t),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=t,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==ue.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const e=this.element,t=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||t>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=t+"px",e.dataset.largestUsedSize=String(t))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,t;let i=Oe("pswp__error-msg","div");i.innerText=(e=(t=this.instance.options)===null||t===void 0?void 0:t.errorMsg)!==null&&e!==void 0?e:"",i=this.instance.applyFilters("contentErrorElement",i,this),this.element=Oe("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===ue.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||vs())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!vs()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===ue.LOADED||this.state===ue.ERROR)&&this.removePlaceholder()))}}function Sa(s,e){if(s.getViewportSizeFn){const t=s.getViewportSizeFn(s,e);if(t)return t}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function Ye(s,e,t,i,n){let r=0;if(e.paddingFn)r=e.paddingFn(t,i,n)[s];else if(e.padding)r=e.padding[s];else{const a="padding"+s[0].toUpperCase()+s.slice(1);e[a]&&(r=e[a])}return Number(r)||0}function Ta(s,e,t,i){return{x:e.x-Ye("left",s,e,t,i)-Ye("right",s,e,t,i),y:e.y-Ye("top",s,e,t,i)-Ye("bottom",s,e,t,i)}}const ys=4e3;class Ca{constructor(e,t,i,n){this.pswp=n,this.options=e,this.itemData=t,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,t,i){const n={x:e,y:t};this.elementSize=n,this.panAreaSize=i;const r=i.x/n.x,a=i.y/n.y;this.fit=Math.min(1,r<a?r:a),this.fill=Math.min(1,r>a?r:a),this.vFill=Math.min(1,a),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",i=this.options[t];if(i)return typeof i=="function"?i(this):i==="fill"?this.fill:i==="fit"?this.fit:Number(i)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>ys&&(e=ys/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function ui(s,e,t){const i=e.createContentFromData(s,t);let n;const{options:r}=e;if(r){n=new Ca(r,s,-1);let a;e.pswp?a=e.pswp.viewportSize:a=Sa(r,e);const l=Ta(r,a,s,t);n.update(i.width,i.height,l)}return i.lazyLoad(),n&&i.setDisplayedSize(Math.ceil(i.width*n.initial),Math.ceil(i.height*n.initial)),i}function xa(s,e){const t=e.getItemData(s);if(!e.dispatch("lazyLoadSlide",{index:s,itemData:t}).defaultPrevented)return ui(t,e,s)}class Aa extends wa{getNumItems(){var e;let t=0;const i=(e=this.options)===null||e===void 0?void 0:e.dataSource;i&&"length"in i?t=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(t=i.items.length));const n=this.dispatch("numItems",{dataSource:i,numItems:t});return this.applyFilters("numItems",n.numItems,i)}createContentFromData(e,t){return new ka(e,this,t)}getItemData(e){var t;const i=(t=this.options)===null||t===void 0?void 0:t.dataSource;let n={};Array.isArray(i)?n=i[e]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),n=i.items[e]);let r=n;r instanceof Element&&(r=this._domElementToItemData(r));const a=this.dispatch("itemData",{itemData:r||{},index:e});return this.applyFilters("itemData",a.itemData,e)}_getGalleryDOMElements(e){var t,i;return(t=this.options)!==null&&t!==void 0&&t.children||(i=this.options)!==null&&i!==void 0&&i.childSelector?Be(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},i=e.tagName==="A"?e:e.querySelector("a");if(i){t.src=i.dataset.pswpSrc||i.href,i.dataset.pswpSrcset&&(t.srcset=i.dataset.pswpSrcset),t.width=i.dataset.pswpWidth?parseInt(i.dataset.pswpWidth,10):0,t.height=i.dataset.pswpHeight?parseInt(i.dataset.pswpHeight,10):0,t.w=t.width,t.h=t.height,i.dataset.pswpType&&(t.type=i.dataset.pswpType);const r=e.querySelector("img");if(r){var n;t.msrc=r.currentSrc||r.src,t.alt=(n=r.getAttribute("alt"))!==null&&n!==void 0?n:""}(i.dataset.pswpCropped||i.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,i)}lazyLoadData(e,t){return ui(e,this,t)}}class _a extends Aa{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Be(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(va(e)||window.pswp)return;let t={x:e.clientX,y:e.clientY};!t.x&&!t.y&&(t=null);let i=this.getClickedIndex(e);i=this.applyFilters("clickedIndex",i,e,this);const n={gallery:e.currentTarget};i>=0&&(e.preventDefault(),this.loadAndOpen(i,n,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=Be(this.options.children,this.options.childSelector,e.currentTarget).findIndex(r=>r===t||r.contains(t));return n!==-1?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,i){if(window.pswp||!this.options)return!1;if(!t&&this.options.gallery&&this.options.children){const n=Be(this.options.gallery);n[0]&&(t={gallery:n[0]})}return this.options.index=e,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(e,t),!0}preload(e,t){const{options:i}=this;t&&(i.dataSource=t);const n=[],r=typeof i.pswpModule;if(ya(i.pswpModule))n.push(Promise.resolve(i.pswpModule));else{if(r==="string")throw new Error("pswpModule as string is no longer supported");if(r==="function")n.push(i.pswpModule());else throw new Error("pswpModule is not valid")}typeof i.openPromise=="function"&&n.push(i.openPromise()),i.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=xa(e,this));const a=++this._uid;Promise.all(n).then(l=>{if(this.shouldOpen){const o=l[0];this._openPhotoswipe(o,a)}})}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const i=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach(n=>{var r;(r=this._listeners[n])===null||r===void 0||r.forEach(a=>{i.on(n,a)})}),Object.keys(this._filters).forEach(n=>{var r;(r=this._filters[n])===null||r===void 0||r.forEach(a=>{i.addFilter(n,a.fn,a.priority)})}),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),i.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),i.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},Be(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)})}}const ci="[data-js-photoswipe]";function Ma(s,e="a"){const i=Array.from(s.querySelectorAll(e)).filter(n=>{const r=n.getAttribute("data-pswp-width"),a=n.getAttribute("data-pswp-height");return!(r&&a)}).map(n=>new Promise(r=>{const a=n.getAttribute("href");if(!a)return r();const l=new Image;l.src=a,l.onload=()=>{n.setAttribute("data-pswp-width",l.naturalWidth),n.setAttribute("data-pswp-height",l.naturalHeight),r()},l.onerror=r}));return Promise.all(i)}class Ia{constructor(e){P(this,"selectors",{root:ci,children:"a"});this.rootElement=e,this.options=this.parseOptions(),this.init()}parseOptions(){const e=qt(this.selectors.root),t=this.rootElement.getAttribute(e);if(!t)return{};try{return JSON.parse(t)}catch(i){return console.warn("[PhotoSwipe] Invalid JSON in",this.rootElement,i),{}}}async init(){const e=this.options.children||this.selectors.children;await Ma(this.rootElement,e),this.lightbox=new _a({gallery:this.rootElement,children:e,pswpModule:()=>fa(()=>import("./photoswipe.esm-3ee328cd.js"),[]),...this.options}),this.lightbox.init()}destroy(){var e;(e=this.lightbox)==null||e.destroy(),this.lightbox=null}}class La{constructor(){this.instances=[],this.init()}init(){document.querySelectorAll(ci).forEach(e=>{this.instances.push(new Ia(e))})}destroy(){this.instances.forEach(e=>e.destroy()),this.instances=[]}}class Pa{constructor(){this.inputs=document.querySelectorAll("[data-js-file-input]"),this.init()}init(){this.inputs.forEach(e=>{const t=e.closest(".field__file-label").querySelector("[data-js-file-name]");e.addEventListener("change",()=>{const i=e.files[0];t.textContent=i?i.name:"Выберите файл"})})}}class Fa{constructor(){this.toggleButtons=document.querySelectorAll("[data-js-toggle-password]"),this.init()}init(){this.toggleButtons.forEach(e=>{var i;const t=(i=e.closest(".field__body"))==null?void 0:i.querySelector("[data-js-password-input]");t&&e.addEventListener("click",()=>{const n=t.type==="text";t.type=n?"password":"text",e.setAttribute("aria-label",n?"Показать пароль":"Скрыть пароль")})})}}class Da{constructor(){P(this,"selectors",{form:"#profile-form",fields:"#profile-fields",saveBtn:"#save-btn",editBtn:"#edit-btn"});P(this,"stateClasses",{hidden:"hidden"});P(this,"enableEdit",()=>{this.fields.disabled=!1,this.editBtn.classList.add(this.stateClasses.hidden),this.saveBtn.classList.remove(this.stateClasses.hidden)});P(this,"saveForm",e=>{e.preventDefault(),this.fields.disabled=!0,this.saveBtn.classList.add(this.stateClasses.hidden),this.editBtn.classList.remove(this.stateClasses.hidden)});this.form=document.querySelector(this.selectors.form),this.form&&(this.form=document.querySelector(this.selectors.form),this.fields=document.querySelector(this.selectors.fields),this.saveBtn=document.querySelector(this.selectors.saveBtn),this.editBtn=document.querySelector(this.selectors.editBtn),this.dateInputs=this.form.querySelectorAll('input[type="date"]'),this.bindEvents(),this.initDatePlaceholders())}bindEvents(){this.editBtn.addEventListener("click",this.enableEdit),this.form.addEventListener("submit",this.saveForm)}initDatePlaceholders(){this.dateInputs=this.form.querySelectorAll('input[type="date"]'),this.dateInputs.forEach(e=>{this.togglePlaceholder(e),e.addEventListener("input",()=>this.togglePlaceholder(e)),e.addEventListener("change",()=>this.togglePlaceholder(e))})}togglePlaceholder(e){const t=e.closest(".field__body");if(!t)return;const i=t.querySelector(".field__placeholder");if(!i)return;const n=e.value.trim()!=="";i.style.display=n?"none":"block",n?e.classList.add("field__control--has-value"):e.classList.remove("field__control--has-value")}}class di{constructor(e){P(this,"selectors",{root:"[data-js-price-range]",rangeMin:"[data-js-range-min]",rangeMax:"[data-js-range-max]",inputMin:"[data-js-input-min]",inputMax:"[data-js-input-max]",track:"[data-js-track]"});P(this,"config",{minGap:100});P(this,"updateTrack",()=>{const e=+this.rangeMinElement.value,t=+this.rangeMaxElement.value,i=this.rootElement.querySelector(".price-filter__range"),n=(i==null?void 0:i.getBoundingClientRect().width)||0;if(n<=0){this.trackElement.style.width="0px",this.trackElement.style.left="0px";return}const r=11,a=r/2,l=Math.max(0,n-r),o=a+e/this.rangeMaxValue*l,u=a+t/this.rangeMaxValue*l;this.trackElement.style.left=`${o}px`,this.trackElement.style.width=`${Math.max(0,u-o)}px`,this.inputMinElement.value=e,this.inputMaxElement.value=t});P(this,"reset",()=>{const e=+this.rangeMinElement.getAttribute("value"),t=+this.rangeMaxElement.getAttribute("value");this.rangeMinElement.value=e,this.rangeMaxElement.value=t,this.updateTrack()});P(this,"onRangeMinInput",()=>{+this.rangeMaxElement.value-+this.rangeMinElement.value<=this.config.minGap&&(this.rangeMinElement.value=+this.rangeMaxElement.value-this.config.minGap),this.updateTrack()});P(this,"onRangeMaxInput",()=>{+this.rangeMaxElement.value-+this.rangeMinElement.value<=this.config.minGap&&(this.rangeMaxElement.value=+this.rangeMinElement.value+this.config.minGap),this.updateTrack()});P(this,"onInputMinChange",()=>{let e=Math.min(+this.inputMinElement.value,+this.rangeMaxElement.value-this.config.minGap);this.rangeMinElement.value=e,this.updateTrack()});P(this,"onInputMaxChange",()=>{let e=Math.max(+this.inputMaxElement.value,+this.rangeMinElement.value+this.config.minGap);this.rangeMaxElement.value=e,this.updateTrack()});P(this,"onTrackClick",e=>{const t=this.rootElement.querySelector(".price-filter__range").getBoundingClientRect(),n=(e.clientX-t.left)/t.width,r=Math.round(n*this.rangeMaxValue),a=+this.rangeMinElement.value,l=+this.rangeMaxElement.value;Math.abs(r-a)<Math.abs(r-l)?l-r>=this.config.minGap&&(this.rangeMinElement.value=r):r-a>=this.config.minGap&&(this.rangeMaxElement.value=r),this.updateTrack()});if(this.rootElement=e||document.querySelector(this.selectors.root),!this.rootElement)return;this.rangeMinElement=this.rootElement.querySelector(this.selectors.rangeMin),this.rangeMaxElement=this.rootElement.querySelector(this.selectors.rangeMax),this.inputMinElement=this.rootElement.querySelector(this.selectors.inputMin),this.inputMaxElement=this.rootElement.querySelector(this.selectors.inputMax),this.trackElement=this.rootElement.querySelector(this.selectors.track),this.rangeMaxValue=+this.rangeMaxElement.max,this.bindEvents(),requestAnimationFrame(this.updateTrack);const t=this.rootElement.querySelector(".price-filter__range");t&&"ResizeObserver"in window?(this.ro=new ResizeObserver(()=>this.updateTrack()),this.ro.observe(t)):window.addEventListener("resize",()=>requestAnimationFrame(this.updateTrack),{passive:!0})}bindEvents(){this.rangeMinElement.addEventListener("input",this.onRangeMinInput),this.rangeMaxElement.addEventListener("input",this.onRangeMaxInput),this.inputMinElement.addEventListener("change",this.onInputMinChange),this.inputMaxElement.addEventListener("change",this.onInputMaxChange),this.rootElement.querySelector(".price-filter__range").addEventListener("click",this.onTrackClick)}}class Oa{constructor(){P(this,"selectors",{filterRoot:"[data-js-filter]",filterOpenBtn:"[data-js-filter-open]",filterCloseBtn:"[data-js-filter-close]",filterOverlay:"[data-js-filter-overlay]",sortToggleBtn:"[data-js-sort-toggle]",sortDropdown:"[data-js-sort-dropdown]",filterInputs:'input[name^="arrFilter"]',tagsContainer:".product-controls__tags",priceRangeRoot:"[data-js-price-range]",inlineRoot:".product-controls"});P(this,"stateClasses",{isOpen:"is-open"});P(this,"openFilter",()=>{var t,i,n;(t=this.filterRoot)==null||t.classList.add(this.stateClasses.isOpen),(i=this.filterRoot)==null||i.setAttribute("aria-hidden","false"),Ie.lock(),this.restoreModalFromApplied(),this.pending.clear(),requestAnimationFrame(()=>{var r;return(r=this.priceRange)==null?void 0:r.updateTrack()});const e=(n=this.filterRoot)==null?void 0:n.querySelector(".filter-modal-window__dialog");if(e){const r=()=>{var a;(a=this.priceRange)==null||a.updateTrack(),e.removeEventListener("transitionend",r)};e.addEventListener("transitionend",r)}document.addEventListener("keydown",this.onKeyDown)});P(this,"closeFilter",()=>{var e,t;(e=this.filterRoot)==null||e.classList.remove(this.stateClasses.isOpen),(t=this.filterRoot)==null||t.setAttribute("aria-hidden","true"),document.removeEventListener("keydown",this.onKeyDown),Ie.unlock(),this.pending.clear()});P(this,"toggleSortDropdown",e=>{var t,i;e.stopPropagation(),(i=(t=this.sortToggle)==null?void 0:t.parentElement)==null||i.classList.toggle(this.stateClasses.isOpen)});P(this,"handleGlobalClick",e=>{var t,i;this.sortDropdown&&!this.sortDropdown.contains(e.target)&&!this.sortToggle.contains(e.target)&&((i=(t=this.sortToggle)==null?void 0:t.parentElement)==null||i.classList.remove(this.stateClasses.isOpen))});P(this,"updateSortLabel",()=>{var n,r;const e=(n=this.sortDropdown)==null?void 0:n.querySelector('input[type="radio"]:checked');if(!e)return;const t=e.parentElement.textContent.trim(),i=(r=this.sortToggle)==null?void 0:r.querySelector(".product-sort__value");i&&(i.textContent=t)});P(this,"submitFilterForm",()=>{this.form&&(this.demoMode||this.form.submit())});var t,i,n,r,a;this.filterRoot=document.querySelector(this.selectors.filterRoot),this.openBtn=document.querySelector(this.selectors.filterOpenBtn),this.closeBtn=(t=this.filterRoot)==null?void 0:t.querySelector(this.selectors.filterCloseBtn),this.overlay=(i=this.filterRoot)==null?void 0:i.querySelector(this.selectors.filterOverlay),this.sortToggle=document.querySelector(this.selectors.sortToggleBtn),this.sortDropdown=document.querySelector(this.selectors.sortDropdown),this.tagsContainer=document.querySelector(this.selectors.tagsContainer),this.form=(n=this.filterRoot)==null?void 0:n.querySelector("form"),this.inlineRoot=document.querySelector(this.selectors.inlineRoot),this.demoMode=!!((r=this.form)!=null&&r.hasAttribute("data-demo"));const e=(a=this.filterRoot)==null?void 0:a.querySelector(this.selectors.priceRangeRoot);e&&(this.priceRange=new di(e)),this.pending=new Map,this.appliedState=new Map,this.onKeyDown=this.onKeyDown.bind(this),this.bindEvents()}bindEvents(){var e,t,i;this.openBtn&&this.openBtn.addEventListener("click",this.openFilter),this.closeBtn&&this.closeBtn.addEventListener("click",this.closeFilter),this.overlay&&this.overlay.addEventListener("click",this.closeFilter),this.sortToggle&&this.sortDropdown&&(this.sortToggle.addEventListener("click",this.toggleSortDropdown),document.addEventListener("click",this.handleGlobalClick),this.sortDropdown.addEventListener("change",()=>{this.updateSortLabel(),this.submitFilterForm()})),(e=this.form)==null||e.addEventListener("submit",n=>{this.demoMode&&n.preventDefault(),this.applyModalChanges(),this.closeFilter(),this.demoMode}),(t=this.form)==null||t.addEventListener("reset",n=>{n.preventDefault(),this.resetEverywhere(),this.demoMode||this.form.submit()}),document.querySelectorAll(this.selectors.filterInputs).forEach(n=>{var l,o;const r=(l=this.filterRoot)==null?void 0:l.contains(n);((o=this.inlineRoot)==null?void 0:o.contains(n))?n.addEventListener("change",u=>{this.syncToTwins(u.target),this.handleTagsForInput(u.target),this.captureAppliedFromDom(),this.submitFilterForm()}):r?n.addEventListener("change",u=>this.storePending(u.target)):n.addEventListener("change",u=>{this.syncToTwins(u.target),this.handleTagsForInput(u.target),this.captureAppliedFromDom(),this.submitFilterForm()})}),(i=this.tagsContainer)==null||i.addEventListener("click",n=>{if(n.target.classList.contains("product-tag__remove")){const r=n.target.closest(".product-tag");if(!r)return;this.removeTag(r.dataset.value,r.dataset.name),this.captureAppliedFromDom(),this.submitFilterForm()}})}onKeyDown(e){(e.key==="Escape"||e.key==="Esc")&&this.closeFilter()}syncToTwins(e){const{name:t,type:i,value:n,checked:r}=e;if(i==="checkbox"&&t.endsWith("[]")){document.querySelectorAll(`input[name="${t}"][value="${n}"]`).forEach(a=>{a!==e&&(a.checked=r)});return}document.querySelectorAll(`input[name="${t}"]`).forEach(a=>{a!==e&&(i==="checkbox"||i==="radio"?a.checked=r:a.value=n)})}handleTagsForInput(e){const{name:t,type:i}=e;if(!(i==="checkbox"&&t.endsWith("[]")))return;const{value:n,group:r}=this.getInputValueAndGroup(e);e.checked?this.addTag(r,n,t):this.removeTag(n,t)}addTag(e,t,i){if(!this.tagsContainer||this.tagsContainer.querySelector(`[data-name="${i}"][data-value="${t}"]`))return;const n=document.createElement("span");n.className="product-tag",n.dataset.value=t,n.dataset.name=i,n.innerHTML=`
    ${e}: ${t}
    <button type="button" class="product-tag__remove" aria-label="Удалить фильтр">
        <svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.4 14L0 12.6L5.6 7L0 1.4L1.4 0L7 5.6L12.6 0L14 1.4L8.4 7L14 12.6L12.6 14L7 8.4L1.4 14Z"/>
        </svg>
    </button>
  `,n.style.opacity="0",n.style.transform="translateY(4px)",this.tagsContainer.appendChild(n),n.offsetWidth,n.style.opacity="",n.style.transform="",requestAnimationFrame(()=>{n.classList.add("is-visible")})}removeTag(e,t){var n;const i=(n=this.tagsContainer)==null?void 0:n.querySelectorAll(`.product-tag[data-name="${t}"][data-value="${e}"]`);!i||!i.length||(i.forEach(r=>{r.classList.add("is-removing"),r.addEventListener("transitionend",()=>r.remove(),{once:!0})}),document.querySelectorAll(`input[name="${t}"][value="${e}"]`).forEach(r=>{r.checked=!1}))}resetEverywhere(){var e,t;if(this.tagsContainer){const i=this.tagsContainer.querySelectorAll(".product-tag");i.length&&i.forEach(n=>{n.classList.add("is-removing"),n.addEventListener("transitionend",()=>n.remove(),{once:!0})})}document.querySelectorAll(this.selectors.filterInputs).forEach(i=>{i.type==="checkbox"||i.type==="radio"?i.checked=!1:i.defaultValue!==void 0?i.value=i.defaultValue:i.value=""}),(e=this.priceRange)==null||e.reset(),(t=this.priceRange)==null||t.updateTrack(),this.pending.clear(),this.appliedState.clear(),this.submitFilterForm()}storePending(e){const{name:t,type:i}=e,{value:n}=this.getInputValueAndGroup(e);if(i==="checkbox"&&t.endsWith("[]")){const r=new Set(this.getCheckedValuesInModal(t));e.checked?r.add(n):r.delete(n),this.pending.set(t,Array.from(r));return}if(i==="checkbox"||i==="radio"){this.pending.set(t,e.checked);return}this.pending.set(t,e.value)}snapshotModalToPending(){var i;const e=new Map;(((i=this.filterRoot)==null?void 0:i.querySelectorAll(this.selectors.filterInputs))||[]).forEach(n=>{const{name:r,type:a}=n;if(a==="checkbox"&&r.endsWith("[]")){e.has(r)||e.set(r,[]);const{value:l}=this.getInputValueAndGroup(n);n.checked&&e.get(r).push(l)}else a==="checkbox"||a==="radio"?e.set(r,!!n.checked):e.set(r,n.value)}),this.pending=e}getGroupLabelMap(){var t;const e=new Map;return(t=this.filterRoot)==null||t.querySelectorAll(".filter-modal-window__group").forEach(i=>{const n=i.dataset.groupLabel||"Фильтр";i.querySelectorAll("input[name]").forEach(r=>e.set(r.name,n))}),e}applyModalChanges(){var t;this.pending.size===0&&this.snapshotModalToPending();const e=this.getGroupLabelMap();for(const[i,n]of this.pending.entries())if(Array.isArray(n)){document.querySelectorAll(`input[name="${i}"]`).forEach(a=>{a.checked=!1}),this.tagsContainer&&this.tagsContainer.querySelectorAll(`.product-tag[data-name="${i}"]`).forEach(a=>a.remove());const r=e.get(i)||"Фильтр";n.forEach(a=>{document.querySelectorAll(`input[name="${i}"][value="${a}"]`).forEach(l=>{l.checked=!0}),this.addTag(r,a,i)})}else typeof n=="boolean"?document.querySelectorAll(`input[name="${i}"]`).forEach(r=>{r.checked=n}):document.querySelectorAll(`input[name="${i}"]`).forEach(r=>{r.value=n});(t=this.priceRange)==null||t.updateTrack(),this.captureAppliedFromDom(),this.pending.clear()}restoreModalFromApplied(){var e,t,i;if(this.appliedState.size!==0){for(const[n,r]of this.appliedState.entries())Array.isArray(r)?((e=this.filterRoot)==null||e.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.checked=!1}),r.forEach(a=>{var l;(l=this.filterRoot)==null||l.querySelectorAll(`input[name="${n}"][value="${a}"]`).forEach(o=>{o.checked=!0})})):typeof r=="boolean"?(t=this.filterRoot)==null||t.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.checked=r}):(i=this.filterRoot)==null||i.querySelectorAll(`input[name="${n}"]`).forEach(a=>{a.value=r});requestAnimationFrame(()=>{var n;return(n=this.priceRange)==null?void 0:n.updateTrack()})}}resetEverywhere(){var e,t;if(this.tagsContainer){const i=this.tagsContainer.querySelectorAll(".product-tag");i.length&&i.forEach(n=>{n.classList.add("is-removing"),n.addEventListener("transitionend",()=>n.remove(),{once:!0})})}document.querySelectorAll(this.selectors.filterInputs).forEach(i=>{i.type==="checkbox"||i.type==="radio"?i.checked=!1:i.defaultValue!==void 0?i.value=i.defaultValue:i.value=""}),(e=this.priceRange)==null||e.reset(),(t=this.priceRange)==null||t.updateTrack(),this.pending.clear(),this.appliedState.clear(),this.submitFilterForm()}captureAppliedFromDom(){const e=new Map,t=new Set;document.querySelectorAll(this.selectors.filterInputs).forEach(i=>t.add(i.name)),t.forEach(i=>{if(i.endsWith("[]")){const n=Array.from(document.querySelectorAll(`input[name="${i}"]:checked`)).map(r=>this.getInputValueAndGroup(r).value);e.set(i,n)}}),document.querySelectorAll(this.selectors.filterInputs).forEach(i=>{const{name:n,type:r}=i;n.endsWith("[]")||(r==="checkbox"||r==="radio"?e.set(n,!!i.checked):e.set(n,i.value))}),this.appliedState=e}getCheckedValuesInModal(e){return Array.from(this.filterRoot.querySelectorAll(`input[name="${e}"]:checked`)).map(t=>this.getInputValueAndGroup(t).value)}getInputValueAndGroup(e){var l;let t=e.value;(!t||t==="on")&&(t=e.getAttribute("data-value")||e.id||(e.nextElementSibling&&e.nextElementSibling.textContent?e.nextElementSibling.textContent.trim():""));const i=e.closest(".filter-modal-window__group"),n=(i==null?void 0:i.dataset.groupLabel)||"Фильтр",r=e.nextElementSibling,a=((l=r==null?void 0:r.textContent)==null?void 0:l.trim())||t;return{value:t,label:a,group:n}}}class Ba{constructor(){P(this,"selectors",{root:"[data-js-quantity]",input:"[data-js-quantity-input]",incrementBtn:"[data-js-quantity-increment]",decrementBtn:"[data-js-quantity-decrement]"});this.rootElements=document.querySelectorAll(this.selectors.root),this.init()}init(){this.rootElements.forEach(e=>{const t=e.querySelector(this.selectors.input),i=e.querySelector(this.selectors.incrementBtn),n=e.querySelector(this.selectors.decrementBtn),r=parseInt(t.min,10)||1,a=()=>{const o=parseInt(t.value,10);n.disabled=o<=r},l=o=>{let u=parseInt(t.value,10);u+=o,u<r&&(u=r),t.value=u,t.dispatchEvent(new Event("change")),a()};i.addEventListener("click",()=>l(1)),n.addEventListener("click",()=>l(-1)),a()})}}class Va{constructor(){this.init()}init(){const e=document.querySelector("[data-js-main-slider]"),t=document.querySelector("[data-js-thumbs-slider]");if(!e||!t)return;const i=e.querySelector("[data-main-swiper]"),n=t.querySelector("[data-thumbs-swiper]");if(!i||!n)return;const r=JSON.parse(e.dataset.sliderParams||"{}"),a=JSON.parse(t.dataset.sliderParams||"{}"),l=new re(n,{...a,modules:[is],watchSlidesProgress:!0,slideToClickedSlide:!0,centeredSlides:!1}),o=r.navigation?{prevEl:i.querySelector("[data-js-main-slider-prev]"),nextEl:i.querySelector("[data-js-main-slider-next]")}:!1,u=new re(i,{...r,modules:[is,...o?[As]:[]],thumbs:{swiper:l},...o&&{navigation:o}});u.on("slideChange",()=>{const c=u.activeIndex,h=l.slides.length,m=parseInt(l.params.slidesPerView,10)||1,f=h-m;l.slideTo(Math.min(c,f))}),e.swiper=u,t.swiper=l}}class Ra{constructor(){this.selector="[data-js-tooltip]",this.tooltips=document.querySelectorAll(this.selector),this.activeTooltip=null,this.init()}init(){this.tooltips.forEach(e=>{e.addEventListener("mousedown",t=>{t.stopPropagation(),this.toggle(e)}),e.addEventListener("keydown",t=>{(t.key==="Enter"||t.key===" ")&&(t.stopPropagation(),this.toggle(e))})}),document.addEventListener("mousedown",e=>{this.activeTooltip&&!this.activeTooltip.contains(e.target)&&this.closeAll()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.closeAll()})}toggle(e){const t=e.dataset.state==="open";this.closeAll(),t||(e.dataset.state="open",this.activeTooltip=e)}closeAll(){this.tooltips.forEach(e=>{e.dataset.state="closed"}),this.activeTooltip=null}}class Na{constructor(){P(this,"selectors",{deleteBtn:"[data-js-remove-product]",productItem:".basket__form-product"});this.deleteButtons=document.querySelectorAll(this.selectors.deleteBtn),this.init()}init(){this.deleteButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(this.selectors.productItem);t&&(t.classList.add("is-removing"),setTimeout(()=>{t.remove()},300))})})}}new fi;new $n;new Va;new qn;new Xr;new ua;new da;new La;new Pa;new Fa;new ha;new Da;new di;new Oa;new Ba;new Ra;new Na;
